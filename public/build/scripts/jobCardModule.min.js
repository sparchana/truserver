<<<<<<< HEAD
function genNewJobCard(e,t){void 0,cardModule.method.genNewJobCard(e,t)}function notifyMsg(e,t){"function"==typeof $.notify?$.notify({message:e,animate:{enter:"animated lightSpeedIn",exit:"animated lightSpeedOut"}},{type:t,placement:{from:"top",align:"center"}}):void 0}function rupeeFormatForSalary(e){if(null!=e){e=e.toString();var t=e.substring(e.length-3),a=e.substring(0,e.length-3);return""!=a&&(t=","+t),a.replace(/\B(?=(\d{2})+(?!\d))/g,",")+t}return""}var candidateMobileCheck=localStorage.getItem("mobile"),cardModule=function(e){"use strict";String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.toTitleCase=function(){return this.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})};var t={deActivationMessage:null,applicationSuccess:"You have successfully applied",applicationFail:"Something went wrong. Try after sometime",method:{genNewJobCard:function(a,n){null==t.deActivationMessage&&t.method.getDeActivateMessage(),a.forEach(function(a){var o=a.jobPostToLocalityList,d="",i="",l=0;o.forEach(function(e){if(l++,l>2)return!1;var t=e.locality.localityName;d+=t,l<Object.keys(o).length&&(d+=", ")}),l=0,o.forEach(function(e){l++;var t=e.locality.localityName;i+=t,l<Object.keys(o).length&&(i+=", ")});var r=document.createElement("div");r.id="hotJobItem",n.append(r);var c=document.createElement("center");r.appendChild(c);var s=document.createElement("div");s.className="row",s.style="margin: 0; padding: 0",c.appendChild(s);var m=document.createElement("div");m.className="col-sm-2",s.appendChild(m);var p=document.createElement("img");p.src=a.company.companyLogo,p.setAttribute("width","80%"),p.id="jobLogo",m.appendChild(p);var u=document.createElement("div");u.className="col-sm-8",u.id="jobBody",s.appendChild(u);var h=document.createElement("h4");h.textContent=a.jobPostTitle,h.onclick=function(){var e=a.jobPostTitle.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g,"-");e=e.toLowerCase();var t=a.company.companyName.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g,"-");t=t.toLowerCase();try{window.location.href="/jobs/"+e+"-jobs-in-bengaluru-at-"+t+"-"+a.jobPostId}catch(e){void 0}},u.appendChild(h);var v=document.createElement("p");v.textContent=a.jobRole.jobName+" Job | "+a.company.companyName,v.style="color:rgba(0, 159, 219, 0.99);font-weight:600",v.onclick=function(){var e=a.jobPostTitle.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g,"-");e=e.toLowerCase();var t=a.company.companyName.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g,"-");t=t.toLowerCase();try{window.location.href="/jobs/"+e+"-jobs-in-bengaluru-at-"+t+"-"+a.jobPostId}catch(e){void 0}},u.appendChild(v);var g=document.createElement("hr");c.appendChild(g);var C=document.createElement("div");C.className="row",C.style="margin: 0; padding: 0",c.appendChild(C);var y=document.createElement("div");y.className="row",y.id="jobBodyDetails",y.style="margin:0",C.appendChild(y);var b=document.createElement("div");b.className="row",b.id="jobBodyDetailsFir",b.style="margin:0",y.appendChild(b);var x=document.createElement("div");x.className="row",x.id="jobBodyDetailsSec",x.style="margin:0",y.appendChild(x);var E=document.createElement("div");E.className="col-sm-6 col-md-4",E.id="jobSalaryCard",b.appendChild(E);var f=document.createElement("div");f.className="row hidden-xs",f.id="hintTextProp",f.textContent="Salary",E.appendChild(f);var N=document.createElement("div");N.className="row",N.style="margin-bottom:2px",E.appendChild(N);var w=document.createElement("div");w.className="col-sm-2 hidden-xs",w.id="iconsProp",N.appendChild(w);var P=document.createElement("img");P.src="/assets/common/img/details/rupee.svg",P.setAttribute("height","16px"),w.appendChild(P);var M=document.createElement("div");M.className="col-xs-12 col-sm-10",M.id="textContentProp",N.appendChild(M);var f=document.createElement("div");f.className="col-xs-4 hidden-sm hidden-md hidden-lg",f.id="hintTextPropM",f.textContent="Salary",M.appendChild(f);var A=document.createElement("div");A.style="display: inline-block","0"==a.jobPostMaxSalary||null==a.jobPostMaxSalary?A.textContent=rupeeFormatForSalary(a.jobPostMinSalary)+" monthly":A.textContent=rupeeFormatForSalary(a.jobPostMinSalary)+" - "+rupeeFormatForSalary(a.jobPostMaxSalary)+" monthly",M.appendChild(A);var E=document.createElement("div");E.className="col-sm-6 col-md-4",E.id="jobExperienceCard",x.appendChild(E);var f=document.createElement("div");f.className="row hidden-xs",f.id="hintTextProp",f.textContent="Experience",E.appendChild(f);var N=document.createElement("div");N.className="row",N.style="margin-bottom:2px",E.appendChild(N);var j=document.createElement("div");j.className="col-sm-2 hidden-xs",j.id="iconsProp",N.appendChild(j);var T=document.createElement("img");T.src="/assets/common/img/details/quality.svg",T.setAttribute("height","16px"),j.appendChild(T);var S=document.createElement("div");S.className="col-xs-12 col-sm-10",S.id="textContentProp",N.appendChild(S);var f=document.createElement("div");f.className="col-xs-4 hidden-sm hidden-md hidden-lg",f.id="hintTextPropM",f.textContent="Experience",S.appendChild(f);var k=document.createElement("div");k.style="display: inline-block;",k.textContent=t.validate.experience(a.jobPostExperience),S.appendChild(k);var L=document.createElement("div");L.className="col-sm-6 col-md-4",L.id="jobGenderCard",b.appendChild(L);var f=document.createElement("div");f.className="row hidden-xs",f.id="hintTextProp",f.textContent="Gender",L.appendChild(f);var N=document.createElement("div");N.className="row",N.style="margin-bottom:2px",L.appendChild(N);var B=document.createElement("div");B.className="col-sm-2 hidden-xs",B.id="iconsProp",N.appendChild(B);var D=document.createElement("img");D.src="/assets/common/img/details/gender.svg",D.setAttribute("height","16px"),B.appendChild(D);var I=document.createElement("div");I.className="col-xs-12 col-sm-10",I.id="textContentProp",N.appendChild(I);var f=document.createElement("div");f.className="col-xs-4 hidden-sm hidden-md hidden-lg",f.id="hintTextPropM",f.textContent="Gender",I.appendChild(f);var _=document.createElement("div");_.style="display: inline-block",_.textContent=t.validate.gender(a.gender),I.appendChild(_);var F=document.createElement("div");F.className="col-sm-6 col-md-4",F.id="jobEducationCard",x.appendChild(F);var f=document.createElement("div");f.className="row hidden-xs",f.id="hintTextProp",f.textContent="Education",F.appendChild(f);var R=document.createElement("div");R.className="row",R.style="margin-bottom:2px",F.appendChild(R);var O=document.createElement("div");O.id="iconsProp",O.className="col-sm-2 hidden-xs",R.appendChild(O);var $=document.createElement("img");$.src="/assets/common/img/details/science-book.svg",$.setAttribute("height","16px"),O.appendChild($);var V=document.createElement("div");V.className="col-xs-12 col-sm-10",V.id="textContentProp",R.appendChild(V);var f=document.createElement("div");f.className="col-xs-4 hidden-sm hidden-md hidden-lg",f.id="hintTextPropM",f.textContent="Education",V.appendChild(f);var W=document.createElement("div");W.style="display: inline-block",W.textContent=t.validate.education(a.jobPostEducation),V.appendChild(W);var z=document.createElement("div");z.className="col-sm-6 col-md-4",z.id="jobAgeCard",x.appendChild(z);var f=document.createElement("div");f.className="row hidden-xs",f.id="hintTextProp",f.textContent="Max Age",z.appendChild(f);var N=document.createElement("div");N.className="row",N.style="margin-bottom:2px",z.appendChild(N);var J=document.createElement("div");J.className="col-sm-2 hidden-xs",J.id="iconsProp",N.appendChild(J);var Y=document.createElement("img");Y.src="/assets/common/img/details/age.svg",Y.setAttribute("height","16px"),J.appendChild(Y);var G=document.createElement("div");G.className="col-xs-12 col-sm-10",G.id="textContentProp",N.appendChild(G);var f=document.createElement("div");f.className="col-xs-4 hidden-sm hidden-md hidden-lg",f.id="hintTextPropM",f.textContent="Max Age",G.appendChild(f);var U=document.createElement("div");U.style="display: inline-block",U.textContent=t.validate.maxAge(a.jobPostMaxAge),G.appendChild(U);var q=document.createElement("div");q.className="col-sm-6 col-md-4",q.id="jobTimeShiftCard",b.appendChild(q);var f=document.createElement("div");f.className="row hidden-xs",f.id="hintTextProp",f.textContent="Location",q.appendChild(f);var N=document.createElement("div");N.className="row",N.style="margin-bottom:2px",q.appendChild(N);var Q=document.createElement("div");Q.id="iconsProp",Q.className="col-sm-2 hidden-xs",N.appendChild(Q);var H=document.createElement("img");H.src="/assets/common/img/details/buildings.svg",H.setAttribute("height","16px"),Q.appendChild(H);var K=document.createElement("div");K.className="col-xs-12 col-sm-10",K.id="textContentProp",N.appendChild(K);var f=document.createElement("div");f.className="col-xs-4 hidden-sm hidden-md hidden-md hidden-lg",f.id="hintTextPropM",f.textContent="Location",K.appendChild(f);var X=document.createElement("div");if(X.style="display: inline-block",X.textContent=d,K.appendChild(X),o.length-2>0){var Z=document.createElement("a");Z.id="locationMsg_"+a.jobPostId,Z.title=i,Z.style="color: #2980b9",Z.textContent=" more",X.appendChild(Z)}e("#locationMsg_"+a.jobPostId).attr("data-toggle","tooltip"),e(function(){e('[data-toggle="tooltip"]').tooltip()});var g=document.createElement("hr");c.appendChild(g);var ee=document.createElement("div");ee.className="row",ee.style="margin: 0; padding: 0",c.appendChild(ee);var te=document.createElement("div");te.className="col-sm-6",te.id="postedDate",te.textContent="Posted: "+t.parse.createdOnDate(a.jobPostCreateTimestamp),ee.appendChild(te);var ae=document.createElement("div");ae.className="col-sm-6",ee.appendChild(ae);var ne=document.createElement("div");ne.className="row",ne.style="margin:0";var oe=document.createElement("div");oe.className="row",oe.id="reopenTextProp";var de=new Date;de.setDate(de.getDate()+(8-de.getDay())%7);var ie=de.getDate();ie<10&&(ie="0"+ie);var le=de.getMonth()+1;le<10&&(le="0"+le);var re=document.createElement("font");re.textContent="Application will reopen on "+ie+"-"+le+"-"+de.getFullYear(),re.style="font-size:12px",oe.appendChild(re);var ce=document.createElement("div");ce.className="col-sm-2 hidden-xs",ce.id="jobMore",s.appendChild(ce);var se=document.createElement("div");se.className=" col-xs-12 hidden-sm hidden-md hidden-lg",se.id="jobMore",s.appendChild(se);var me=document.createElement("div");me.style="margin-bottom:6px",me.textContent="Vacancies : "+a.jobPostVacancies,ce.appendChild(me);var pe=document.createElement("div");pe.className="jobMoreBtn",pe.textContent="More Info",ce.appendChild(pe),pe.onclick=function(){var e=a.jobPostTitle.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g,"-");e=e.toLowerCase();var t=a.company.companyName.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g,"-");t=t.toLowerCase();try{window.location.href="/jobs/"+e+"-jobs-in-bengaluru-at-"+t+"-"+a.jobPostId}catch(e){void 0}};var ue=document.createElement("button");ue.className="jobApplyBtn2";var he;null!=a.applyBtnStatus&&4!=a.applyBtnStatus?a.applyBtnStatus==CTA_BTN_INTERVIEW_REQUIRED?(he="Book Interview",ue.style="background:#039be5;font-weight:bold"):a.applyBtnStatus==CTA_BTN_ALREADY_APPLIED?(he="Already Applied",ue.disabled=!0,ue.style="background:#ffa726;font-weight:bold"):a.applyBtnStatus==CTA_BTN_INTERVIEW_CLOSED?(he="Application Closed",ue.disabled=!0,ue.style="background:#ffa726;font-weight:bold"):a.applyBtnStatus==CTA_BTN_CALL_TO_APPLY&&(ue.style="background:#00e676;font-weight:bold"):(he="Apply",ue.style="background:#00c853"),ue.textContent=he;var ve=window.innerWidth;if(ve>786?ne.appendChild(ue):se.appendChild(ue),ae.appendChild(ne),5==a.applyBtnStatus&&ae.appendChild(oe),ue.onclick=function(){if(7==a.applyBtnStatus)null!=candidateMobileCheck?(t.method.genRecruiterContactModal(a.recruiterProfile.recruiterProfileName,a.jobPostId),t.method.callToApplyAction(a.jobPostId)):t.method.genRecruiterContactModal(a.recruiterProfile.recruiterProfileName,a.jobPostId);else{var e=a.jobPostTitle.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g,"-");e=e.toLowerCase();var n=a.company.companyName.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g,"-");n=n.toLowerCase();try{window.location.href="/jobs/"+e+"-jobs-in-bengaluru-at-"+n+"-"+a.jobPostId}catch(e){void 0}}},ue.textContent=he,a.applyBtnStatus==CTA_BTN_CALL_TO_APPLY){var ge=document.createElement("img");ge.setAttribute("src","/assets/common/img/callToApply.svg"),ge.style="height:18px;margin-top:-4px;",ue.appendChild(ge);var ge=document.createElement("span");ge.style="font-size:14px;margin-left:5px",ge.textContent="CALL NOW",ue.appendChild(ge)}})},getDeActivateMessage:function(){e.ajax({type:"POST",url:"/getDeActivationMessage"}).then(function(e){null!=e&&null!=e.deActivationMessage&&null==t.deActivationMessage?t.deActivationMessage=e.deActivationMessage:t.deActivationMessage=""},function(e,t,a){})},callToApplyAction:function(a){var n,o,d=e("#recruiterContactModalBtn");if(null==candidateMobileCheck?(n=e("#candidateNameRecruiterContactModal").val(),o=e("#candidateMobileRecruiterContactModal").val()):(n=localStorage.getItem("name"),o=localStorage.getItem("mobile").slice(3)),t.validate.candidateNameValidation(n)&&t.validate.candidateMobileValidation(o)){d.prop("disabled","true"),d.html("Please wait...");var i={candidateMobile:o,candidateName:n,jobId:a};e.ajax({type:"POST",url:"/quickApply/",contentType:"application/json; charset=utf-8",data:JSON.stringify(i)}).then(function(e){if(null!=e)if(1==e.status){var a=e.recruiterMobile;d.prop("disabled","true"),d.html("Call : "+a.slice(3,a.length));var n=window.innerWidth;n<786&&(document.location.href="tel:"+a.slice(3,a.length))}else notifyMsg(t.applicationFail,"danger");else notifyMsg(t.applicationFail,"danger")},function(e,t,a){})}},genRecruiterContactModal:function(a,n){var o=window.innerWidth;e("#recruiterModal").html("");var d=e("#recruiterModal"),i=document.createElement("div");i.className="modal fade",i.id="recruiterContact",i.role="dailog",d.append(i);var l=document.createElement("div");l.className="modal-dialog",o>786?l.style="margin-top:10%":l.style="margin-top:40%",i.appendChild(l);var r=document.createElement("div");r.className="modal-content",l.appendChild(r);var c=document.createElement("div");c.className="modal-body",c.style="padding:0",r.appendChild(c);var s=a.split(" ");s[0].length<=3&&(s[0]=s[0]+" "+s[1]);var m=document.createElement("h4");m.style="text-align:center;font-weight:bold;font-size:16px",m.textContent="Call HR ("+s[0]+") and Go !!",c.appendChild(m);var p=document.createElement("hr");c.appendChild(p);var u=document.createElement("div");if(u.className="row",u.id="contactRecruiter",u.style="margin-top: 0; margin-right: 2%; margin-left: 2%",c.appendChild(u),null==candidateMobileCheck){var h=document.createElement("input");h.className="form-control input-md",h.id="candidateNameRecruiterContactModal",h.style="margin:5px 0",h.type="type",h.placeholder="Name (e.g. Ankit Singh)",h.setAttribute("autofocus","autofocus"),u.appendChild(h);var v=document.createElement("input");v.className="form-control input-md",v.id="candidateMobileRecruiterContactModal",v.type="type",v.style="margin:5px 0",v.setAttribute("maxlength","10"),v.placeholder="Your Phone No (e.g. 9998887770)",u.appendChild(v)}var g=document.createElement("button");g.className="btn btn-default",g.id="recruiterContactModalBtn",g.style="font-size:18px;background:#00e676;margin-top: 8px; padding-top: 3%; padding-bottom: 3%; padding-right: 8%; padding-left: 8%; width: 100%;font-weight:bold",g.type="button",g.onclick=function(){t.method.callToApplyAction(n)},u.appendChild(g);var C=document.createElement("img");C.setAttribute("src","/assets/common/img/callToApply.svg"),C.style="height:22px;margin-top:-8px;margin-left:-15px",g.appendChild(C);var C=document.createElement("span");C.style="font-size:18px;margin-left:15px",C.textContent="CALL NOW",g.appendChild(C),e("#recruiterContact").modal("show")}},validate:{candidateMobileValidation:function(e){var t=validateMobile(e),a=!0;return 0==t?(notifyMsg("Enter a valid mobile number","danger"),a=!1):1==t&&(notifyMsg("Enter 10 digit mobile number","danger"),a=!1),a},candidateNameValidation:function(e){var t=validateName(e),a=!0;switch(t){case 0:notifyMsg("Name contains number. Please Enter a valid  name","danger"),a=!1;break;case 2:notifyMsg("Name cannot be blank spaces. Enter a valid  name","danger"),a=!1;break;case 3:notifyMsg("Name contains special symbols. Enter a valid  name","danger"),a=!1;break;case 4:notifyMsg("Please enter your name","danger"),a=!1}return a},education:function(e){return null!=e?e.educationName:"Not Specified"},workShift:function(e){return null==e?"":e.timeShiftName?e.timeShiftName:void 0},gender:function(e){return null==e||2==e?"Any":0==e?"Male":1==e?"Female":"Not Specified"},maxAge:function(e){return null==e?"Not Specified":e+" yrs"},experience:function(e){return null==e?"NA":e.experienceType}},parse:{createdOnDate:function(e){var a=new Date(e),n=new Date,o=t.parse.daysDiff(a,n);return o>90?" 3 months ago":a.getDate()==n.getUTCDate()?" Today":o+" days ago"},daysDiff:function(e,t){return Math.round((t-e)/864e5)}}};return t}(jQuery);
=======
/*
 * truSearch: TruJobs Job Card module
 * Version 1.0.0
 *
 * Copyright (c) 2016 TruJobs.in (http://trujobs.in)
 *
 * Created by Hawk on 04/01/17.
 *
 * Dependency: jQuery, bootstrap.min.js
 *
 * Pass a parent div to which needs JobCard appended
 *
 */
var candidateMobileCheck = localStorage.getItem("mobile");
var cardModule = (function($) {
    'use strict';

    String.prototype.capitalizeFirstLetter = function() {
        return this.charAt(0).toUpperCase() + this.slice(1);
    };

    String.prototype.toTitleCase = function() {
        return this.replace(/\w\S*/g, function(txt) {
            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
        });
    };

    var cardModule = {
        deActivationMessage: null,
        applicationSuccess: "You have successfully applied",
        applicationFail: "Something went wrong. Try after sometime",
        method: {
            genNewJobCard: function(_jobPostList, _parent) {
                if (cardModule.deActivationMessage == null) {
                    cardModule.method.getDeActivateMessage();
                }

                _jobPostList.forEach(function(jobPost) {
                    //!* get all localities of the jobPost *!/
                    var _jobLocality = jobPost.jobPostToLocalityList;
                    var _localities = "";
                    var _allLocalities = "";
                    var _loopCount = 0;

                    _jobLocality.forEach(function(locality) {
                        _loopCount++;
                        if (_loopCount > 2) {
                            return false;
                        } else {
                            var name = locality.locality.localityName;
                            _localities += name;
                            if (_loopCount < Object.keys(_jobLocality).length) {
                                _localities += ", ";
                            }
                        }
                    });
                    _loopCount = 0;
                    _jobLocality.forEach(function(locality) {
                        _loopCount++;
                        var name = locality.locality.localityName;
                        _allLocalities += name;
                        if (_loopCount < Object.keys(_jobLocality).length) {
                            _allLocalities += ", ";
                        }
                    });

                    var hotJobItem = document.createElement("div");
                    hotJobItem.id = "hotJobItem";
                    _parent.append(hotJobItem);

                    var centreTag = document.createElement("center");
                    hotJobItem.appendChild(centreTag);

                    var rowDiv = document.createElement("div");
                    rowDiv.className = "row";
                    rowDiv.style = "margin: 0; padding: 0";
                    centreTag.appendChild(rowDiv);

                    var col = document.createElement("div");
                    col.className = "col-sm-2";
                    rowDiv.appendChild(col);

                    var jobLogo = document.createElement("img");
                    jobLogo.src = jobPost.company.companyLogo;
                    jobLogo.setAttribute('width', '80%');
                    jobLogo.id = "jobLogo";
                    col.appendChild(jobLogo);

                    var jobBodyCol = document.createElement("div");
                    jobBodyCol.className = "col-sm-8";
                    jobBodyCol.id = "jobBody";
                    rowDiv.appendChild(jobBodyCol);


                    var jobTitle = document.createElement("h4");
                    jobTitle.textContent = jobPost.jobPostTitle;
                    jobTitle.onclick = function() {
                        var jobPostBreak = jobPost.jobPostTitle.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g, '-');
                        jobPostBreak = jobPostBreak.toLowerCase();
                        var jobCompany = jobPost.company.companyName.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g, '-');
                        jobCompany = jobCompany.toLowerCase();
                        try {
                            window.location.href = "/jobs/" + jobPostBreak + "-jobs-in-bengaluru-at-" + jobCompany + "-" + jobPost.jobPostId;
                        } catch (exception) {
                            console.log("exception occured!!" + exception);
                        }
                    };
                    jobBodyCol.appendChild(jobTitle);

                    var jobCompany = document.createElement("p");
                    jobCompany.textContent = jobPost.jobRole.jobName + " Job | " + jobPost.company.companyName;
                    jobCompany.style = "color:rgba(0, 159, 219, 0.99);font-weight:600";
                    jobCompany.onclick = function() {
                        var jobPostBreak = jobPost.jobPostTitle.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g, '-');
                        jobPostBreak = jobPostBreak.toLowerCase();
                        var jobCompany = jobPost.company.companyName.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g, '-');
                        jobCompany = jobCompany.toLowerCase();
                        try {
                            window.location.href = "/jobs/" + jobPostBreak + "-jobs-in-bengaluru-at-" + jobCompany + "-" + jobPost.jobPostId;
                        } catch (exception) {
                            console.log("exception occured!!" + exception);
                        }
                    };
                    jobBodyCol.appendChild(jobCompany);


                    var hr = document.createElement("hr");
                    centreTag.appendChild(hr);

                    var rowDivDetails = document.createElement("div");
                    rowDivDetails.className = "row";
                    rowDivDetails.style = "margin: 0; padding: 0";
                    centreTag.appendChild(rowDivDetails);

                    var jobBodyDetails = document.createElement("div");
                    jobBodyDetails.className = "row";
                    jobBodyDetails.id = "jobBodyDetails";
                    jobBodyDetails.style = "margin:0";
                    rowDivDetails.appendChild(jobBodyDetails);


                    var jobBodyDetailsFirst = document.createElement("div");
                    jobBodyDetailsFirst.className = "row";
                    jobBodyDetailsFirst.id = "jobBodyDetailsFir";
                    jobBodyDetailsFirst.style = "margin:0";
                    jobBodyDetails.appendChild(jobBodyDetailsFirst);


                    var jobBodyDetailsSecond = document.createElement("div");
                    jobBodyDetailsSecond.className = "row";
                    jobBodyDetailsSecond.id = "jobBodyDetailsSec";
                    jobBodyDetailsSecond.style = "margin:0";
                    jobBodyDetails.appendChild(jobBodyDetailsSecond);


                    //!*  salary  *!/

                    var bodyCol = document.createElement("div");
                    bodyCol.className = "col-sm-6 col-md-4";
                    bodyCol.id = "jobSalaryCard";
                    jobBodyDetailsFirst.appendChild(bodyCol);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "row hidden-xs";
                    subDivHint.id = "hintTextProp";
                    subDivHint.textContent = "Salary";
                    bodyCol.appendChild(subDivHint);

                    var subRowForData = document.createElement("div");
                    subRowForData.className = "row";
                    subRowForData.style = "margin-bottom:2px";
                    bodyCol.appendChild(subRowForData);

                    var salaryIconDiv = document.createElement("div");
                    salaryIconDiv.className = "col-sm-2 hidden-xs";
                    salaryIconDiv.id = "iconsProp";
                    subRowForData.appendChild(salaryIconDiv);

                    var salaryIcon = document.createElement("img");
                    salaryIcon.src = "/assets/common/img/details/rupee.svg";
                    salaryIcon.setAttribute('height', '16px');
                    salaryIconDiv.appendChild(salaryIcon);

                    var salaryDataDiv = document.createElement("div");
                    salaryDataDiv.className = "col-xs-12 col-sm-10";
                    salaryDataDiv.id = "textContentProp";
                    subRowForData.appendChild(salaryDataDiv);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "col-xs-4 hidden-sm hidden-md hidden-lg";
                    subDivHint.id = "hintTextPropM";
                    subDivHint.textContent = "Salary";
                    salaryDataDiv.appendChild(subDivHint);

                    var salaryDiv = document.createElement("div");
                    salaryDiv.style = "display: inline-block";

                    if (jobPost.jobPostMaxSalary == "0" || jobPost.jobPostMaxSalary == null) {
                        salaryDiv.textContent = rupeeFormatForSalary(jobPost.jobPostMinSalary) + " monthly";
                    } else {
                        salaryDiv.textContent = rupeeFormatForSalary(jobPost.jobPostMinSalary) + " - " + rupeeFormatForSalary(jobPost.jobPostMaxSalary) + " monthly";
                    }
                    salaryDataDiv.appendChild(salaryDiv);

                    //!*  experience  *!/

                    var bodyCol = document.createElement("div");
                    bodyCol.className = "col-sm-6 col-md-4";
                    bodyCol.id = "jobExperienceCard";
                    jobBodyDetailsSecond.appendChild(bodyCol);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "row hidden-xs";
                    subDivHint.id = "hintTextProp";
                    subDivHint.textContent = "Experience";
                    bodyCol.appendChild(subDivHint);

                    var subRowForData = document.createElement("div");
                    subRowForData.className = "row";
                    subRowForData.style = "margin-bottom:2px";
                    bodyCol.appendChild(subRowForData);

                    var expIconDiv = document.createElement("div");
                    expIconDiv.className = "col-sm-2 hidden-xs";
                    expIconDiv.id = "iconsProp";
                    subRowForData.appendChild(expIconDiv);

                    var expIcon = document.createElement("img");
                    expIcon.src = "/assets/common/img/details/quality.svg";
                    expIcon.setAttribute('height', '16px');
                    expIconDiv.appendChild(expIcon);

                    var expDataDiv = document.createElement("div");
                    expDataDiv.className = "col-xs-12 col-sm-10";
                    expDataDiv.id = "textContentProp";
                    subRowForData.appendChild(expDataDiv);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "col-xs-4 hidden-sm hidden-md hidden-lg";
                    subDivHint.id = "hintTextPropM";
                    subDivHint.textContent = "Experience";
                    expDataDiv.appendChild(subDivHint);

                    var expDiv = document.createElement("div");
                    expDiv.style = "display: inline-block;";
                    expDiv.textContent = cardModule.validate.experience(jobPost.jobPostExperience);
                    expDataDiv.appendChild(expDiv);

                    // gender div

                    var genderCol = document.createElement("div");
                    genderCol.className = "col-sm-6 col-md-4";
                    genderCol.id = "jobGenderCard";
                    jobBodyDetailsFirst.appendChild(genderCol);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "row hidden-xs";
                    subDivHint.id = "hintTextProp";
                    subDivHint.textContent = "Gender";
                    genderCol.appendChild(subDivHint);

                    var subRowForData = document.createElement("div");
                    subRowForData.className = "row";
                    subRowForData.style = "margin-bottom:2px";
                    genderCol.appendChild(subRowForData);

                    var genderIconDiv = document.createElement("div");
                    genderIconDiv.className = "col-sm-2 hidden-xs";
                    genderIconDiv.id = "iconsProp";
                    subRowForData.appendChild(genderIconDiv);

                    var genderIcon = document.createElement("img");
                    genderIcon.src = "/assets/common/img/details/gender.svg";
                    genderIcon.setAttribute('height', '16px');
                    genderIconDiv.appendChild(genderIcon);

                    var genderDataDiv = document.createElement("div");
                    genderDataDiv.className = "col-xs-12 col-sm-10";
                    genderDataDiv.id = "textContentProp";
                    subRowForData.appendChild(genderDataDiv);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "col-xs-4 hidden-sm hidden-md hidden-lg";
                    subDivHint.id = "hintTextPropM";
                    subDivHint.textContent = "Gender";
                    genderDataDiv.appendChild(subDivHint);

                    var genderDiv = document.createElement("div");
                    genderDiv.style = "display: inline-block";
                    genderDiv.textContent = cardModule.validate.gender(jobPost.gender);
                    genderDataDiv.appendChild(genderDiv);

                    //!*  Education  *!/

                    var bodyColEdu = document.createElement("div");
                    bodyColEdu.className = "col-sm-6 col-md-4";
                    bodyColEdu.id = "jobEducationCard";
                    jobBodyDetailsSecond.appendChild(bodyColEdu);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "row hidden-xs";
                    subDivHint.id = "hintTextProp";
                    subDivHint.textContent = "Education";
                    bodyColEdu.appendChild(subDivHint);

                    var jobBodySubRowEdu = document.createElement("div");
                    jobBodySubRowEdu.className = "row";
                    jobBodySubRowEdu.style = "margin-bottom:2px";
                    bodyColEdu.appendChild(jobBodySubRowEdu);

                    var eduIconDiv = document.createElement("div");
                    eduIconDiv.id = "iconsProp";
                    eduIconDiv.className = "col-sm-2 hidden-xs";
                    jobBodySubRowEdu.appendChild(eduIconDiv);

                    var eduIcon = document.createElement("img");
                    eduIcon.src = "/assets/common/img/details/science-book.svg";
                    eduIcon.setAttribute('height', '16px');
                    eduIconDiv.appendChild(eduIcon);

                    var eduDataDiv = document.createElement("div");
                    eduDataDiv.className = "col-xs-12 col-sm-10";
                    eduDataDiv.id = "textContentProp";
                    jobBodySubRowEdu.appendChild(eduDataDiv);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "col-xs-4 hidden-sm hidden-md hidden-lg";
                    subDivHint.id = "hintTextPropM";
                    subDivHint.textContent = "Education";
                    eduDataDiv.appendChild(subDivHint);

                    var EducationDiv = document.createElement("div");
                    EducationDiv.style = "display: inline-block";
                    EducationDiv.textContent = cardModule.validate.education(jobPost.jobPostEducation);
                    eduDataDiv.appendChild(EducationDiv);

                    // age div

                    var ageCol = document.createElement("div");
                    ageCol.className = "col-sm-6 col-md-4";
                    ageCol.id = "jobAgeCard";
                    jobBodyDetailsSecond.appendChild(ageCol);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "row hidden-xs";
                    subDivHint.id = "hintTextProp";
                    subDivHint.textContent = "Max Age";
                    ageCol.appendChild(subDivHint);

                    var subRowForData = document.createElement("div");
                    subRowForData.className = "row";
                    subRowForData.style = "margin-bottom:2px";
                    ageCol.appendChild(subRowForData);

                    var ageIconDiv = document.createElement("div");
                    ageIconDiv.className = "col-sm-2 hidden-xs";
                    ageIconDiv.id = "iconsProp";
                    subRowForData.appendChild(ageIconDiv);

                    var ageIcon = document.createElement("img");
                    ageIcon.src = "/assets/common/img/details/age.svg";
                    ageIcon.setAttribute('height', '16px');
                    ageIconDiv.appendChild(ageIcon);

                    var ageDataDiv = document.createElement("div");
                    ageDataDiv.className = "col-xs-12 col-sm-10";
                    ageDataDiv.id = "textContentProp";
                    subRowForData.appendChild(ageDataDiv);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "col-xs-4 hidden-sm hidden-md hidden-lg";
                    subDivHint.id = "hintTextPropM";
                    subDivHint.textContent = "Max Age";
                    ageDataDiv.appendChild(subDivHint);

                    var ageDiv = document.createElement("div");
                    ageDiv.style = "display: inline-block";
                    ageDiv.textContent = cardModule.validate.maxAge(jobPost.jobPostMaxAge);
                    ageDataDiv.appendChild(ageDiv);

                    // Location div

                    var bodyColLocation = document.createElement("div");
                    bodyColLocation.className = "col-sm-6 col-md-4";
                    bodyColLocation.id = "jobTimeShiftCard";
                    jobBodyDetailsFirst.appendChild(bodyColLocation);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "row hidden-xs";
                    subDivHint.id = "hintTextProp";
                    subDivHint.textContent = "Location";
                    bodyColLocation.appendChild(subDivHint);

                    var subRowForData = document.createElement("div");
                    subRowForData.className = "row";
                    subRowForData.style = "margin-bottom:2px";
                    bodyColLocation.appendChild(subRowForData);

                    var locationIconDiv = document.createElement("div");
                    locationIconDiv.id = "iconsProp";
                    locationIconDiv.className = "col-sm-2 hidden-xs";
                    subRowForData.appendChild(locationIconDiv);

                    var locationIcon = document.createElement("img");
                    locationIcon.src = "/assets/common/img/details/buildings.svg";
                    locationIcon.setAttribute('height', '16px');
                    locationIconDiv.appendChild(locationIcon);

                    var locationDataDiv = document.createElement("div");
                    locationDataDiv.className = "col-xs-12 col-sm-10";
                    locationDataDiv.id = "textContentProp";
                    subRowForData.appendChild(locationDataDiv);

                    var subDivHint = document.createElement("div");
                    subDivHint.className = "col-xs-4 hidden-sm hidden-md hidden-md hidden-lg";
                    subDivHint.id = "hintTextPropM";
                    subDivHint.textContent = "Location";
                    locationDataDiv.appendChild(subDivHint);

                    var locDiv = document.createElement("div");
                    locDiv.style = "display: inline-block";
                    locDiv.textContent = _localities;
                    locationDataDiv.appendChild(locDiv);

                    if (((_jobLocality.length) - 2) > 0) {
                        var tooltip = document.createElement("a");
                        tooltip.id = "locationMsg_" + jobPost.jobPostId;
                        tooltip.title = _allLocalities;
                        tooltip.style = "color: #2980b9";
                        tooltip.textContent = " more";
                        locDiv.appendChild(tooltip);
                    }

                    $("#locationMsg_" + jobPost.jobPostId).attr("data-toggle", "tooltip");
                    $(function() {
                        $('[data-toggle="tooltip"]').tooltip()
                    });

                    var hr = document.createElement("hr");
                    centreTag.appendChild(hr);

                    //!*  apply div button *!/
                    var rowDivApplyButton = document.createElement("div");
                    rowDivApplyButton.className = "row";
                    rowDivApplyButton.style = "margin: 0; padding: 0";
                    centreTag.appendChild(rowDivApplyButton);


                    // posted on div
                    var postedOnDiv = document.createElement("div");
                    postedOnDiv.className = "col-sm-6";
                    postedOnDiv.id = "postedDate";
                    postedOnDiv.textContent = "Posted: " + cardModule.parse.createdOnDate(jobPost.jobPostCreateTimestamp);
                    rowDivApplyButton.appendChild(postedOnDiv);


                    var applyBtnDiv = document.createElement("div");
                    applyBtnDiv.className = "col-sm-6";
                    rowDivApplyButton.appendChild(applyBtnDiv);

                    var applyBtnRow = document.createElement("div");
                    applyBtnRow.className = "row";
                    applyBtnRow.style = "margin:0";

                    var reopenRow = document.createElement("div");
                    reopenRow.className = "row";
                    reopenRow.id = "reopenTextProp";

                    var nextMonday = new Date();
                    nextMonday.setDate(nextMonday.getDate() + (1 + 7 - nextMonday.getDay()) % 7);

                    var day = nextMonday.getDate();
                    if (day < 10) {
                        day = "0" + day;
                    }

                    var month = nextMonday.getMonth() + 1;
                    if (month < 10) {
                        month = "0" + month;
                    }
                    var textReopen = document.createElement("font");
                    textReopen.textContent = "Application will reopen on " + day + "-" + month + "-" + nextMonday.getFullYear();
                    textReopen.style = "font-size:12px";
                    reopenRow.appendChild(textReopen);

                    //!*  more button *!/
                    var jobMoreCol = document.createElement("div");
                    jobMoreCol.className = "col-sm-2 hidden-xs";
                    jobMoreCol.id = "jobMore";
                    rowDiv.appendChild(jobMoreCol);

                    var jobApplyCol = document.createElement("div");
                    jobApplyCol.className = " col-xs-12 hidden-sm hidden-md hidden-lg";
                    jobApplyCol.id = "jobMore";
                    rowDiv.appendChild(jobApplyCol);

                    // vacancies div
                    var vacanciesDiv = document.createElement("div");
                    vacanciesDiv.style = "margin-bottom:6px";
                    vacanciesDiv.textContent = "Vacancies : " + jobPost.jobPostVacancies;
                    jobMoreCol.appendChild(vacanciesDiv);


                    var moreBtn = document.createElement("div");
                    moreBtn.className = "jobMoreBtn";
                    moreBtn.textContent = "More Info";
                    jobMoreCol.appendChild(moreBtn);
                    moreBtn.onclick = function() {
                        var jobPostBreak = jobPost.jobPostTitle.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g, '-');
                        jobPostBreak = jobPostBreak.toLowerCase();
                        var jobCompany = jobPost.company.companyName.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g, '-');
                        jobCompany = jobCompany.toLowerCase();
                        try {
                            window.location.href = "/jobs/" + jobPostBreak + "-jobs-in-bengaluru-at-" + jobCompany + "-" + jobPost.jobPostId;
                        } catch (exception) {
                            console.log("exception occured!!" + exception);
                        }
                    };


                    //!*  apply button *!/
                    var applyBtn = document.createElement("button");
                    applyBtn.className = "jobApplyBtn2";
                    var applyJobText;

                    if (jobPost.applyBtnStatus != null && jobPost.applyBtnStatus != 4) {
                        if (jobPost.applyBtnStatus == CTA_BTN_INTERVIEW_REQUIRED) {
                            applyJobText = "Book Interview";
                            applyBtn.style = "background:#039be5;font-weight:bold";
                        } else if (jobPost.applyBtnStatus == CTA_BTN_ALREADY_APPLIED) {
                            applyJobText = "Already Applied";
                            applyBtn.disabled = true;
                            applyBtn.style = "background:#ffa726;font-weight:bold";
                        } else if (jobPost.applyBtnStatus == CTA_BTN_INTERVIEW_CLOSED) {
                            applyJobText = "Application Closed";
                            applyBtn.disabled = true;
                            applyBtn.style = "background:#ffa726;font-weight:bold";
                        } else if (jobPost.applyBtnStatus == CTA_BTN_CALL_TO_APPLY) {
                            applyBtn.style = "background:#00e676;font-weight:bold";
                        }

                    } else {
                        applyJobText = "Apply";
                        applyBtn.style = "background:#00c853";
                    }
                    applyBtn.textContent = applyJobText;
                    var w = window.innerWidth;
                    if (w > 786) {
                        applyBtnRow.appendChild(applyBtn);
                    } else {
                        jobApplyCol.appendChild(applyBtn);
                    }
                    applyBtnDiv.appendChild(applyBtnRow);

                    if (jobPost.applyBtnStatus == 5) {
                        applyBtnDiv.appendChild(reopenRow);
                    }
                    applyBtn.onclick = function() {
                        if (jobPost.applyBtnStatus == 7) {
                            cardModule.method.genRecruiterContactModal(
                                jobPost.recruiterProfile.recruiterProfileName,
                                jobPost.jobPostId);

                        } else {
                            var jobPostBreak = jobPost.jobPostTitle.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g, '-');
                            jobPostBreak = jobPostBreak.toLowerCase();
                            var jobCompany = jobPost.company.companyName.replace(/[&\/\\#,+()$~%. '":*?<>{}]/g, '-');
                            jobCompany = jobCompany.toLowerCase();
                            try {
                                window.location.href = "/jobs/" + jobPostBreak + "-jobs-in-bengaluru-at-" + jobCompany + "-" + jobPost.jobPostId;
                            } catch (exception) {
                                console.log("exception occured!!" + exception);
                            }
                        }
                    };

                    /*if(jobPost.applyBtnStatus != null && jobPost.applyBtnStatus != 4){
                        if(jobPost.applyBtnStatus == 2) {
                            applyJobText = "Book Interview";
                        } else if(jobPost.applyBtnStatus == 3) {
                            applyJobText = "Already Applied";
                            applyBtn.disabled =  true;
                            applyBtn.style = "background:#ffa726";
                        } else if(jobPost.applyBtnStatus == 5) {
                            applyJobText = "Application Closed";
                            applyBtn.disabled =  true;
                            applyBtn.style = "background:#ffa726";
                        } else if(jobPost.applyBtnStatus == 6) {
                            applyJobText = "Apply";
                            applyBtn.style = "background:#ffa726";
                            applyBtn.onclick = function () {
                                notifyMsg(cardModule.deActivationMessage, 'danger');
                            };
                        }
                    } else {
                        applyJobText = "Apply";
                    }*/
                    applyBtn.textContent = applyJobText;
                    if (jobPost.applyBtnStatus == CTA_BTN_CALL_TO_APPLY) {

                        var icon = document.createElement("img");
                        icon.setAttribute('src', "/assets/common/img/callToApply.svg");
                        icon.style = "height:18px;margin-top:-4px;";
                        applyBtn.appendChild(icon);

                        var icon = document.createElement("span");
                        icon.style = "font-size:14px;margin-left:5px";
                        icon.textContent = "CALL NOW";
                        applyBtn.appendChild(icon);

                    }
                });
            },
            getDeActivateMessage: function() {
                //ajax call || its a promise
                $.ajax({
                    type: 'POST',
                    url: '/getDeActivationMessage'
                }).then(function(returnedData) {
                        if (returnedData != null &&
                            returnedData.deActivationMessage != null &&
                            cardModule.deActivationMessage == null) {

                            cardModule.deActivationMessage = returnedData.deActivationMessage;
                        } else {
                            cardModule.deActivationMessage = "";
                        }
                    },
                    function(xhr, state, error) {});
            },
            genRecruiterContactModal: function(recruiterName, jobPostId) {

                var w = window.innerWidth;

                $("#recruiterModal").html("");
                var parent = $("#recruiterModal");

                var recruiterContactModal = document.createElement("div");
                recruiterContactModal.className = "modal fade";
                recruiterContactModal.id = "recruiterContact";
                recruiterContactModal.role = "dailog";
                parent.append(recruiterContactModal);

                var recruiterContactModalDialog = document.createElement("div");
                recruiterContactModalDialog.className = "modal-dialog";
                if (w > 786) {
                    recruiterContactModalDialog.style = "margin-top:10%";
                } else {
                    recruiterContactModalDialog.style = "margin-top:40%";
                }
                recruiterContactModal.appendChild(recruiterContactModalDialog);

                var recruiterContactModalContent = document.createElement("div");
                recruiterContactModalContent.className = "modal-content";
                recruiterContactModalDialog.appendChild(recruiterContactModalContent);

                var recruiterContactModalBody = document.createElement("div");
                recruiterContactModalBody.className = "modal-body";
                recruiterContactModalBody.style = "padding:0";
                recruiterContactModalContent.appendChild(recruiterContactModalBody);

                var recruiterFirstName = recruiterName.split(" ");
                if (recruiterFirstName[0].length <= 3) {
                    recruiterFirstName[0] = recruiterFirstName[0] + " " + recruiterFirstName[1];
                }

                var modalHeadingText = document.createElement("h4");
                modalHeadingText.style = "text-align:center;font-weight:bold;font-size:16px";
                modalHeadingText.textContent = "Call HR (" + recruiterFirstName[0] + ") and Go !!";
                recruiterContactModalBody.appendChild(modalHeadingText);

                var hr = document.createElement("hr");
                recruiterContactModalBody.appendChild(hr);

                var recruiterContactMainDiv = document.createElement("div");
                recruiterContactMainDiv.className = "row";
                recruiterContactMainDiv.id = "contactRecruiter";
                recruiterContactMainDiv.style = "margin-top: 0; margin-right: 2%; margin-left: 2%";
                recruiterContactModalBody.appendChild(recruiterContactMainDiv);
                if (candidateMobileCheck == null) {
                    var candidateName = document.createElement("input");
                    candidateName.className = "form-control input-md";
                    candidateName.id = "candidateNameRecruiterContactModal";
                    candidateName.style = "margin:5px 0";
                    candidateName.type = "type";
                    candidateName.placeholder = "Name (e.g. Ankit Singh)";
                    candidateName.setAttribute('autofocus', 'autofocus');
                    recruiterContactMainDiv.appendChild(candidateName);

                    var candidateMobile = document.createElement("input");
                    candidateMobile.className = "form-control input-md";
                    candidateMobile.id = "candidateMobileRecruiterContactModal";
                    candidateMobile.type = "type";
                    candidateMobile.style = "margin:5px 0";
                    candidateMobile.setAttribute("maxlength", "10");
                    candidateMobile.placeholder = "Your Phone No (e.g. 9998887770)";
                    recruiterContactMainDiv.appendChild(candidateMobile);

                    $("#candidateNameRecruiterContactModal").focus();
                }

                var submitButton = document.createElement("button");
                submitButton.className = "btn btn-default";
                submitButton.id = "recruiterContactModalBtn";
                submitButton.style = "font-size:18px;background:#00e676;margin-top: 8px; padding-top: 3%; padding-bottom: 3%; padding-right: 8%; padding-left: 8%; width: 100%;font-weight:bold";
                submitButton.type = "button";
                submitButton.onclick = function() {

                    var candidateName;
                    var candidateMobileNumber;

                    if (candidateMobileCheck == null) {
                        candidateName = $("#candidateNameRecruiterContactModal").val();
                        candidateMobileNumber = $("#candidateMobileRecruiterContactModal").val();
                    } else {
                        candidateName = localStorage.getItem("name");
                        candidateMobileNumber = (localStorage.getItem("mobile")).slice(3);
                    }
                    if (cardModule.validate.candidateNameValidation(candidateName) && cardModule.validate.candidateMobileValidation(candidateMobileNumber)) {
                        submitButton.setAttribute("disabled", "true");
                        submitButton.textContent = "Please wait...";

                        var d = {
                            candidateMobile: candidateMobileNumber,
                            candidateName: candidateName,
                            jobId: jobPostId
                        };

                        $.ajax({
                            type: 'POST',
                            url: '/quickApply/',
                            contentType: "application/json; charset=utf-8",
                            data: JSON.stringify(d)
                        }).then(function(returnedData) {
                                if (returnedData != null) {
                                    if (returnedData.status == 1) {
                                        var recruiterNumber = returnedData.recruiterMobile;
                                        submitButton.setAttribute("disabled", "true");
                                        submitButton.textContent = "Call : " + recruiterNumber.slice(3, recruiterNumber.length);

                                        var w = window.innerWidth;
                                        if (w < 786) {
                                            document.location.href = "tel:" + recruiterNumber.slice(3, recruiterNumber.length);
                                        }

                                    } else {
                                        notifyMsg(cardModule.applicationFail, 'danger');
                                    }

                                } else {
                                    notifyMsg(cardModule.applicationFail, 'danger');
                                }
                            },
                            function(xhr, state, error) {});
                    }
                };
                recruiterContactMainDiv.appendChild(submitButton);

                var icon = document.createElement("img");
                icon.setAttribute('src', "/assets/common/img/callToApply.svg");
                icon.style = "height:22px;margin-top:-8px;margin-left:-15px";
                submitButton.appendChild(icon);

                var icon = document.createElement("span");
                icon.style = "font-size:18px;margin-left:15px";
                icon.textContent = "CALL NOW";
                submitButton.appendChild(icon);

                $("#recruiterContact").modal("show");
            }
        },
        validate: {
            candidateMobileValidation: function(phone) {
                var res = validateMobile(phone);
                var validationResult = true;
                if (res == 0) {
                    notifyMsg("Enter a valid mobile number", 'danger');
                    validationResult = false;
                } else if (res == 1) {
                    notifyMsg("Enter 10 digit mobile number", 'danger');
                    validationResult = false;
                }

                return validationResult;
            },
            candidateNameValidation: function(firstName) {
                var firstNameCheck = validateName(firstName);
                var validationResult = true;
                switch (firstNameCheck) {
                    case 0:
                        notifyMsg("Name contains number. Please Enter a valid  name", 'danger');
                        validationResult = false;
                        break;
                    case 2:
                        notifyMsg("Name cannot be blank spaces. Enter a valid  name", 'danger');
                        validationResult = false;
                        break;
                    case 3:
                        notifyMsg("Name contains special symbols. Enter a valid  name", 'danger');
                        validationResult = false;
                        break;
                    case 4:
                        notifyMsg("Please enter your name", 'danger');
                        validationResult = false;
                        break;
                }
                return validationResult;
            },
            education: function(education) {
                if (education != null) {
                    return education.educationName;
                } else {
                    return "Not Specified"
                }
            },
            workShift: function(jobPostShift) {
                if (jobPostShift == null) {
                    return "";
                } else if (jobPostShift.timeShiftName) {
                    return jobPostShift.timeShiftName;
                }
            },
            gender: function(gender) {
                if (gender == null || gender == 2) {
                    return "Any";
                } else if (gender == 0) {
                    return "Male";
                } else if (gender == 1) {
                    return "Female";
                }
                return "Not Specified";
            },
            maxAge: function(age) {
                if (age == null) {
                    return "Not Specified";
                } else {
                    return age + " yrs";
                }
            },
            experience: function(jobPostExperience) {
                if (jobPostExperience == null) {
                    return "NA";
                } else {
                    return jobPostExperience.experienceType;
                }
            }
        },
        parse: {
            createdOnDate: function(timestamp) {
                var jobDate = new Date(timestamp);
                var currentDate = new Date();

                var daysDiff = cardModule.parse.daysDiff(jobDate, currentDate);

                if (daysDiff > 90) {
                    return " 3 months ago";
                } else if (jobDate.getDate() == currentDate.getUTCDate()) {
                    return " Today";
                } else {
                    return daysDiff + " days ago";
                }

            },
            daysDiff: function(firstDate, secondDate) {

                return Math.round((secondDate - firstDate) / (1000 * 60 * 60 * 24));
            }
        }
    };

    return cardModule;
}(jQuery));

// public card module handler
function genNewJobCard(_jobPostList, parent) {
    console.log("jobcard working on " + _jobPostList.length + " jobpost");
    cardModule.method.genNewJobCard(_jobPostList, parent);
}


function notifyMsg(msg, type) {
    if (typeof $.notify == 'function') {
        $.notify({
            message: msg,
            animate: {
                enter: 'animated lightSpeedIn',
                exit: 'animated lightSpeedOut'
            }
        }, {
            type: type,
            placement: {
                from: "top",
                align: "center"
            }
        });
    } else {
        alert(msg);
    }
};

function rupeeFormatForSalary(sal) {
    if (sal != null) {
        sal = sal.toString();
        var lastThree = sal.substring(sal.length - 3);
        var otherNumbers = sal.substring(0, sal.length - 3);
        if (otherNumbers != '')
            lastThree = ',' + lastThree;
        return otherNumbers.replace(/\B(?=(\d{2})+(?!\d))/g, ",") + lastThree;
    }
    return "";
}
>>>>>>> 678a02620aa44ab1813fad50f725ff7905ab95f6
