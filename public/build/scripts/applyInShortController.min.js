var applyInShort=function(e){"use strict";var t={isNavBarLoaded:!1,isInterviewSlotAvailable:!1,loginStatus:null,candidateId:null,jobPostId:null,missingDataURL:null,missingData:null,jobTitle:null,companyName:null,allJobRole:null,companyCount:1,factory:{parent:null,mainDiv:null,subDivOne:null,subDivTwo:null,orderList:null,hintMessage:null,factory:function(){this.parent=e("#missingInfo"),this.mainDiv=document.createElement("div"),this.mainDiv.className="row",this.mainDiv.style="margin:0",this.parent.append(this.mainDiv),this.subDivOne=document.createElement("div"),this.subDivOne.className="col-sm-12",this.mainDiv.appendChild(this.subDivOne),this.hintMessage=document.createElement("p"),this.hintMessage.textContent="Please provide following details to apply for this job",this.hintMessage.style="margin:10px 0;font-weight:bold;font-size:18px",this.subDivOne.appendChild(this.hintMessage),this.subDivTwo=document.createElement("div"),this.subDivTwo.style="padding:0 4%",this.subDivTwo.className="col-sm-12",this.mainDiv.appendChild(this.subDivTwo),this.orderList=document.createElement("ol"),this.orderList.className="list-group",this.subDivTwo.appendChild(this.orderList)}},method:{init:function(){t.render.hideContainer(),t.factory.factory(),t.validation.checkIsUserLoggedIn(),t.method.prepareRequestParam(),t.render.applyJobForm()},ending:function(){t.render.showContainer(),e("#footer_inc").load("/footer")},getUserLogInStatus:function(){return t.isNavBarLoaded?new Promise(function(e,t){e(null)}):e.ajax({type:"GET",url:"/checkNavBar"})},getMissingData:function(){return null!=t.missingDataURL?e.ajax({type:"GET",url:t.missingDataURL}):new Promise(function(e,t){e(null)})},prepareRequestParam:function(){var e=window.location.pathname.split("-");t.jobPostId=e[e.length-1];var a=window.location.search.split("&")[0].split("=");t.candidateId=a[a.length-1],t.missingDataURL="/apply/inshort/api/getMissingDate?candidateId="+t.candidateId+"&jobPostId="+t.jobPostId}},fetch:{missingData:function(){return new Promise(function(e,a){t.method.getMissingData().then(function(a){null!=a&&(t.missingData=a),e()},function(e,t,n){a(n)})})}},render:{messageModal:function(t,a){var n="Notice";e("#messagePromptModal").modal(),e("#myModalLabel").html(n),e("#customMsg").html(t),null!=a&&(e("#card_container").hide(),setTimeout(function(){window.location="/dashboard"},a))},hideContainer:function(){e("#card_container").hide()},showContainer:function(){e("#card_container").show()},hideUI:function(a,n){e.notify(a,"error"),e("#card_container").hide(),t["do"].redirectToDashboard(n)},applyJobForm:function(){var a=t.fetch.missingData();a.then(function(){void 0,void 0,e("#finalSubmitBtn").prop("disabled",!0),5==t.missingData.statusCode?t.render.messageModal("You have already applied to this Job. Redirecting to dashboard ....",4e3):6==t.missingData.statusCode?t.render.messageModal("Invalid Link. No Job Found. Redirecting to dashboard ....",4e3):7==t.missingData.statusCode?t.render.messageModal(t.missingData.message+". Redirecting to Dashboard ....",7e3):4==t.missingData.statusCode&&(e("#finalSubmitBtn").prop("disabled",!1),null!=t.missingData.localityPopulateResponse&&t.render.jobLocalityCard(t.missingData.localityPopulateResponse),null!=t.missingData.shortPSPopulateResponse&&t.missingData.shortPSPopulateResponse.visible?t.render.preScreenCard(t.missingData.shortPSPopulateResponse):e("#preScreenCardDiv").hide(),null!=t.missingData.interviewSlotPopulateResponse&&2==t.missingData.interviewSlotPopulateResponse.interviewResponse.status&&null!=t.missingData.interviewSlotPopulateResponse.interviewSlotMap?t.render.interviewSlotCard(t.missingData.interviewSlotPopulateResponse.interviewSlotMap):(e("#jobInterviewSlotCardDiv").hide(),t.isInterviewSlotAvailable=!1),void 0)})["catch"](function(e){void 0})},jobLocalityCard:function(a){void 0;var n=a.localityMap;if(t.jobTitle=a.jobTitle+" ",t.companyName=a.companyName,e("#locality_jobNameConfirmation").html(t.jobTitle),e("#locality_companyNameConfirmation").html(t.companyName),null!=n){var i=e("<option value=0></option>").text("Select Location");e("#jobLocality").append(i);for(var o in n){var l=o,d=n[o],i=e("<option value="+l+"></option>").text(d);e("#jobLocality").append(i)}}n=null},jobOtherDetailsCard:function(t){void 0;e("#preScreenCardDiv")},interviewSlotCard:function(a){if(void 0,null==a)return void(t.isInterviewSlotAvailable=!1);if(t.isInterviewSlotAvailable=!0,e("#interviewJobTitle").html(t.jobTitle),e("#interviewCompanyName").html(t.companyName),null!=a){var n=e("<option value=0></option>").text("Select Interview slot");e("#interViewSlot").append(n);for(var i in a){var o=a[i].interviewDateMillis,l=o+"_"+a[i].interviewTimeSlot.slotId,d=i,n=e("<option value="+l+"></option>").text(d);e("#interViewSlot").append(n)}}},preScreenCard:function(e){null!=e.documentList&&e.documentList.length>0&&t.construct._document(e.documentList),null!=e.languageList&&e.languageList.length>0&&t.construct._language(e.languageList),null!=e.assetList&&e.assetList.length>0&&t.construct._asset(e.assetList),null!=e.dobMissing&&e.dobMissing&&t.construct._dob(),null!=e.genderMissing&&e.genderMissing&&t.construct._gender(),null!=e.salaryMissing&&e.salaryMissing&&t.construct._salary(),null!=e.experienceResponse&&e.experienceResponse.experienceMissing&&t.construct._experience(e.experienceResponse.jobRoleList),null!=e.educationResponse&&e.educationResponse.educationMissing&&t.construct._education(e.educationResponse.educationList,e.educationResponse.degreeList)}},construct:{_document:function(e){var a=document.createElement("li");a.textContent="Do you have the following document(s) ?";var n=document.createElement("div");n.className="row";var i=document.createElement("div");i.className="col-sm-12 col-md-12",i.id="document_details",i.style="padding:2%",n.appendChild(i),a.appendChild(n),t.factory.orderList.appendChild(a),t.process.document(e)},_language:function(e){var a=document.createElement("li");a.textContent="Do you know following language(s) ?";var n=document.createElement("div");n.className="row";var i=document.createElement("div");i.className="col-sm-12",i.id="language_details",i.style="padding:1%;",n.appendChild(i),a.appendChild(n),t.factory.orderList.appendChild(a),t.process.language(e)},_dob:function(){var e=document.createElement("li");e.textContent="Please mention your date of birth",t.factory.orderList.appendChild(e);var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-sm-5 hidden-xs",n.style="padding:14px 3%",a.appendChild(n);var i=document.createElement("div");i.className="col-xs-12 col-sm-6 ",i.style="padding:1% 2%",a.appendChild(i);var o=document.createElement("font");o.textContent="Date of birth",o.style="font-weight:bold",n.appendChild(o);var l=document.createElement("select");l.className="selectDropDown",l.id="dob_day",l.style="margin:0 2%",i.appendChild(l);var d=document.createElement("option");d.textContent="Day",l.appendChild(d);var r;for(r=1;r<=31;r++){var s=document.createElement("option");s.value=("0"+r).slice(-2),s.textContent=r,l.appendChild(s)}var c=document.createElement("select");c.className="selectDropDown",c.id="dob_month",c.style="margin:0 2%",i.appendChild(c);var p=document.createElement("option");for(p.textContent="Month",c.appendChild(p),r=1;r<=12;r++){s=document.createElement("option"),s.value=("0"+r).slice(-2);var m;switch(r){case 1:m="January";break;case 2:m="February";break;case 3:m="March";break;case 4:m="April";break;case 5:m="May";break;case 6:m="June";break;case 7:m="July";break;case 8:m="August";break;case 9:m="September";break;case 10:m="October";break;case 11:m="November";break;case 12:m="December"}s.textContent=m,c.appendChild(s)}var u=document.createElement("select");u.className="selectDropDown",u.id="dob_year",u.style="margin:0 2%",i.appendChild(u);var v=document.createElement("option");for(v.textContent="Year",u.appendChild(v),r=(new Date).getFullYear()-19;r>=(new Date).getFullYear()-80;r--)s=document.createElement("option"),s.value=r,s.textContent=r,u.appendChild(s);e.appendChild(a),t.factory.orderList.appendChild(e)},_experience:function(e){var a=document.createElement("li");a.textContent="Do you have work experience?";var n=document.createElement("div");n.className="row";var i=document.createElement("div");i.className="row",i.style="display: none;",i.id="companyDetailsCapture";var o=document.createElement("p");o.textContent="Where all have you worked before? ",o.style="margin-left:10px",i.appendChild(o);var l=document.createElement("div");l.className="row",l.id="row_1",l.style="margin:4px 0",i.appendChild(l);var d=document.createElement("div");d.className="col-sm-3",d.id="companyName",l.appendChild(d);var r=document.createElement("div");r.className="col-sm-3",r.id="workedJobRole",l.appendChild(r);var s=document.createElement("div");s.className="col-sm-4",s.id="workedCurrently",s.style="padding-top:1%;text-align:center",l.appendChild(s);var c=document.createElement("div");c.className="col-sm-2",l.appendChild(c);var p=document.createElement("input");p.className="form-control",p.type="text",p.placeholder="Company Name",p.id="companyName_1",p.onchange=applyInShort.validation.enableAddBtn,d.appendChild(p);var m=document.createElement("input");m.id="workedJobRole_1",m.onchange=applyInShort.validation.enableAddBtn,r.appendChild(m);var u=document.createElement("input");u.type="radio",u.style="margin:0 4%;",u.id="addCurrentlyWorking_1",u.name="addCurrently_Working",u.setAttribute("disabled",!0),u.value=0,s.appendChild(u);var v=document.createElement("button");v.className="form-control",v.type="button",v.setAttribute("disabled",!0),v.id="addCurrentlyWorkingBtn_1",v.value="Add",v.name="Add",v.style="background:#09ac58;color:#fff;font-size:12px",v.textContent="Add Company",v.onclick=applyInShort.aux.addmoreCompany,c.appendChild(v),u.type="radio",u.style="margin:0 4%",u.name="addCurrently_Working",s.appendChild(u);var h=document.createElement("label");h.textContent="Is this your current company",h["for"]="addCurrentlyWorking_1",s.appendChild(h);var y=document.createElement("div");y.className="col-xs-12 col-md-12",y.style="padding:2% 0;",n.appendChild(y);var g=document.createElement("div");g.className="col-xs-12 col-sm-5",g.id="experienceQuestion",g.style="padding:2% 3%;display:none",n.appendChild(g);var f=document.createElement("p");f.textContent="How many year(s) of work experience do you have?",g.appendChild(f);var C=document.createElement("div");C.className="col-xs-12 col-md-6",C.id="experienceDuration",C.style="display:none;padding:1%",n.appendChild(C);var b=document.createElement("div");b.className="col-xs-12 col-sm-3 ",y.appendChild(b);var x=document.createElement("div");x.className="col-xs-12 col-sm-4",y.appendChild(x);var E=document.createElement("input");E.type="radio",E.id="candidateFresh",E.name="candidateExperience",E.value=0,E.onchange=applyInShort.aux.hideExperienceCaptureDiv,b.appendChild(E);var w=document.createElement("label");w.textContent="I'm a fresher",w["for"]="candidateFresh",b.appendChild(w);var I=document.createElement("input");I.type="radio",I.id="candidateExp",I.name="candidateExperience",I.value=1,I.onchange=applyInShort.aux.showExperienceCaptureDiv,x.appendChild(I);var N=document.createElement("label");N.textContent="I have work experience",N["for"]="candidateExp",x.appendChild(N);var _=document.createElement("input");_.className="form-control",_.type="number",_.placeholder="Years",_.style="margin-top:1%",_.oninput=applyInShort.aux.showExperienceBox,_.id="candidateTotalExperienceYear",C.appendChild(_);var S=document.createElement("input");S.className="form-control",S.type="number",S.placeholder="Months",S.id="candidateTotalExperienceMonth",S.oninput=applyInShort.aux.showExperienceBox,C.appendChild(S);var k=document.createElement("div");k.className="col-xs-12 col-md-10",k.id="experienceCurrently",k.style="padding:2% 3%;display:none",n.appendChild(k);var D=document.createElement("p");D.textContent="Are you currently working : ",k.appendChild(D);var P=document.createElement("input");P.id="currentlyWorking",P.type="checkbox",P.style="margin:0 2% 0 4%",P.onclick=applyInShort.aux.disableCurrentCompanyOption,D.appendChild(P);var L=document.createElement("label");L.textContent="Yes",L["for"]="currentlyWorking",D.appendChild(L),a.appendChild(n),a.appendChild(i),t.factory.orderList.appendChild(a),t.process.experience(e,t.companyCount)},_education:function(e,a){var n=document.createElement("li");n.textContent="Please provide your education details";var i=document.createElement("div");i.className="row",n.appendChild(i);var o=document.createElement("div");o.className="row",n.appendChild(o);var l=document.createElement("div");l.className="row",n.appendChild(l);var d=document.createElement("div");d.className="row",n.appendChild(d);var r=document.createElement("div");r.className="col-xs-12 col-sm-5",r.id="education_details",i.appendChild(r);var s=document.createElement("div");s.className="col-xs-12 col-sm-6",s.style="padding:1%",i.appendChild(s);var c=document.createElement("font");c.textContent="Highest education qualification? ",c.style="font-weight:bold;",r.appendChild(c);var p=document.createElement("select");p.id="candidateHighestEducation",s.appendChild(p);var m=document.createElement("div");m.className="col-xs-12 col-sm-5",m.id="education_details",o.appendChild(m);var u=document.createElement("div");u.className="col-xs-12 col-sm-6",u.style="padding-top:3%",o.appendChild(u);var v=document.createElement("font");v.textContent="Have you successfully completed this course? ",v.style="font-weight:bold;",m.appendChild(v);var h=document.createElement("input");h.type="radio",h.style="margin:0 4% 0 0",h.id="successYes",h.name="candidateEducationCompletionStatus",h.value=1,u.appendChild(h);var y=document.createElement("label");y.textContent="Yes",y["for"]="successConformationHEQ",u.appendChild(y);var g=document.createElement("input");g.type="radio",g.style="margin:0 4% 0 8%",g.id="successNo",g.name="candidateEducationCompletionStatus",g.value=0,u.appendChild(g);var f=document.createElement("label");f.textContent="No",f["for"]="successConformationHEQ",u.appendChild(f);var C=document.createElement("div");C.className="col-xs-12 col-sm-5",C.id="education_details",l.appendChild(C);var b=document.createElement("div");b.className="col-xs-12 col-sm-6",b.id="education_details",b.style="padding:1%",l.appendChild(b);var x=document.createElement("font");x.textContent="Highest education degree? ",x.style="font-weight:bold;",C.appendChild(x);var E=document.createElement("select");E.id="candidateHighestDegree",b.appendChild(E);var w=document.createElement("div");w.className="col-xs-12 col-sm-5",w.style="padding:2% 3%",d.appendChild(w);var I=document.createElement("div");I.className="col-xs-12 col-sm-6",I.style="padding:1%",d.appendChild(I);var N=document.createElement("font");N.textContent="Last attended education institute?",N.style="margin-top:8px;font-weight:bold",w.appendChild(N);var _=document.createElement("input");_.className="form-control",_.type="text",_.placeholder="School/Institute Name",_.id="candidateEducationInstitute",I.appendChild(_),t.factory.orderList.appendChild(n),t.process.degree(a),t.process.education(e)},_gender:function(){var e=document.createElement("li");e.textContent="Please mention your gender ";var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-sm-12 col-md-12",n.id="gender_details",n.style="padding:2% 0;";var i=document.createElement("div");i.className="col-xs-6 col-sm-3",n.appendChild(i);var o=document.createElement("div");o.className="col-xs-6 col-sm-3",n.appendChild(o);var l=document.createElement("label");l.textContent="Male",l["for"]="genderMale";var d=document.createElement("input");d.type="radio",d.style="margin:0 8%",d.id="genderMale",d.name="gender",d.value=0;var r=document.createElement("label");r.textContent="Female",r["for"]="genderFemale";var s=document.createElement("input");s.type="radio",s.style="margin:0 8%",s.id="genderFemale",s.name="gender",s.value=1,i.appendChild(d),i.appendChild(l),o.appendChild(s),o.appendChild(r),a.appendChild(n),e.appendChild(a),t.factory.orderList.appendChild(e)},_salary:function(){var e=document.createElement("li");e.textContent="Please provide your salary details";var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-xs-12 col-sm-5",n.id="salary_details";var i=document.createElement("div");i.className="col-xs-12 col-sm-6",i.id="salary_response",i.style="padding:1%";var o=document.createElement("font");o.textContent="Current/last drawn salary",o.style="margin-top:8px;font-weight:bold",n.appendChild(o);var l=document.createElement("input");l.className="form-control",l.type="number",l.placeholder="Salary InHand/Month",l.id="candidateLastWithdrawnSalary",l.oninput=applyInShort.validation.salary,i.appendChild(l);var d=document.createElement("p");d.id="invalidSalaryNotification",d.textContent="Invalid Salary Input Please enter a valid 'Last Withdrawn Salary' (Ex: 15000) in a month",d.style="color:#ff1744;display:none;margin:1px 0 1px 2px;font-size:12px",i.appendChild(d),a.appendChild(n),a.appendChild(i),e.appendChild(a),t.factory.orderList.appendChild(e)},_locality:function(){var e=document.createElement("li");e.textContent="Which is your home locality? ";var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-sm-12 col-md-12",n.id="locality_details",n.style="padding:2%";var i=document.createElement("p");i.textContent="Locality",i.style="margin-left:18px;font-weight:bold";var o=document.createElement("input");o.id="candidateHomeLocality",e.appendChild(o),i.appendChild(o),n.appendChild(i),a.appendChild(n),e.appendChild(a),t.factory.orderList.appendChild(e)},_asset:function(e){var a=document.createElement("li");a.textContent="Do you own any of the following ?";var n=document.createElement("div");n.className="row";var i=document.createElement("div");i.className="col-md-12",i.id="assets_details",i.style="padding:1%",n.appendChild(i),a.appendChild(n),t.factory.orderList.appendChild(a),t.process.asset(e)}},process:{document:function(t){if(null!=t&&t.length>0){var a=e("#document_details");t.forEach(function(t){void 0;var n=document.createElement("div");n.className="col-sm-6 col-md-4",n.id="document_response_checkbox",a.append(n);var i=document.createElement("div");i.className="row",i.id="document_response_checkbox",i.style="margin:0",n.appendChild(i);var o=document.createElement("div");o.className="row",o.id="document_response_input_"+t.idProofId,o.style="padding:2% 2%;display:none;margin:0",n.appendChild(o);var l=document.createElement("div");l.className="btn-group",l.style="width:100%",l.setAttribute("data-toggle","buttons"),i.appendChild(l);var d=document.createElement("label");d.className="btn btn-custom-check",d.style="margin:6px 0px;width:100%",d.id="label_"+t.idProofId,d.textContent=t.idProofName,l.appendChild(d);var r=document.createElement("input");r.id="idProofCheckbox_"+t.idProofId,r.type="checkbox",r.name="document",r.onchange=function(){1==e("#idProofCheckbox_"+t.idProofId).prop("checked")?(void 0,e("#document_response_input_"+t.idProofId).css("display","block")):(void 0,e("#document_response_input_"+t.idProofId).css("display","none"),e("#Invalid_"+t.idProofId).css("display","none"))},d.appendChild(r);var s=document.createElement("p");s.id="Invalid_"+t.idProofId,s.textContent="(Invalid Number)",s.style="color:#ff1744;display:none;margin:1px 0 1px 42px;font-size:12px",i.appendChild(s);var c=document.createElement("p");c.id="idProofValueTd_"+t.idProofId,o.appendChild(c);var p=document.createElement("input");p.className="form-control",p.setAttribute("type","text"),p.oninput=applyInShort.validation.input,p.placeholder=t.idProofName+" Number",p.setAttribute("id","idProofValue_"+t.idProofId),c.appendChild(p)})}},language:function(t){var a=[],n=[];t.forEach(function(t){void 0;var i=t.languageId,o=t.languageName,l={};l.id=i,l.name=o,a.push(o),n.push(i);e("<option value="+i+"></option>").text(o)}),this.populateLanguages(a.reverse(),n.reverse())},populateLanguages:function(e,t){var a,n=document.getElementById("language_details");for(a=0;a<e.length;a++)if(1==t[a]||2==t[a]||3==t[a]||4==t[a]||5==t[a]){var i=document.createElement("div");i.className="col-xs-12 col-sm-4",i.style="padding-top:8px",n.appendChild(i),i.innerHTML='<div class="btn-group" style="margin:6px 0px;width:100%" data-toggle="buttons"><label class="btn btn-custom-check"style="width:100%" ><input id="lang_'+t[a]+'" type="checkbox" name="u" value=0 >'+e[a]+"</label></div>"}},experience:function(a,n){null!=a&&a.length>0&&(null==t.allJobRole&&(t.allJobRole=[],a.forEach(function(e){var a=e.jobName,n=parseInt(e.jobRoleId),i={};i.id=n,i.name=a,t.allJobRole.push(i)})),void 0,e("#workedJobRole_"+n).tokenInput(applyInShort.allJobRole,{theme:"facebook",placeholder:"Job Role?",hintText:"Select job role",minChars:0,tokenLimit:1,zindex:9999,preventDuplicates:!0}),applyInShort.aux.disableCurrentCompanyOption)},education:function(t){if(null!=t){var a=[{label:"None Selected",value:-1}];t.forEach(function(e){var t={label:e.educationName,value:parseInt(e.educationId)};a.push(t)});var n=e("#candidateHighestEducation");n.multiselect({nonSelectedText:"None Selected",includeSelectAllOption:!0,maxHeight:300}),n.multiselect("dataprovider",a),n.multiselect("rebuild")}},degree:function(t){if(null!=t){var a=[{label:"None Selected",value:-1}];t.forEach(function(e){var t={label:e.degreeName,value:parseInt(e.degreeId)};a.push(t)});var n=e("#candidateHighestDegree");n.multiselect({nonSelectedText:"None Selected",includeSelectAllOption:!0,maxHeight:300}),n.multiselect("dataprovider",a),n.multiselect("rebuild")}},asset:function(t){var a=e("#assets_details");t.forEach(function(e){void 0;var t=document.createElement("div");t.className="col-xs-12 col-sm-3 col-md-3",t.style="padding-top:8px",a.append(t);var n=document.createElement("div");n.className="btn-group",n.style="margin:6px 0px",n.setAttribute("data-toggle","buttons"),t.appendChild(n);var i=document.createElement("label");i.className="btn btn-custom-check",i.textContent=e.assetTitle,n.appendChild(i);var o=document.createElement("input");o.id="assetsCheckboxId_"+e.assetId,o.type="checkbox",o.name="document",i.appendChild(o)})}},validation:{checkIsUserLoggedIn:function(){var a=new Promise(function(e,a){t.method.getUserLogInStatus().then(function(a){null!=a&&(t.loginStatus=a),e()},function(e,t,n){a(n)})});a.then(function(){"1"==t.loginStatus?(e("#nav_bar_inc").load("/navBarLoggedIn"),e(".jobApplyBtnV2").show(),e("#incentiveSection").hide()):"2"==t.loginStatus?(e("#nav_bar_inc").load("/partnerNavBarLoggedIn"),e(".jobApplyBtnV2").hide(),e("#incentiveSection").show()):(e("#nav_bar_inc").load("/navBar"),e("#incentiveSection").hide()),t.isNavBarLoaded=!0})["catch"](function(e){void 0})},input:function(t,a){return null!=t&&null!=a||(t=this.id.split("_")[1],a=this.value),!e("input#idProofCheckbox_"+t).is(":checked")||(3==t?validateAadhar(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1):1==t?validateDL(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1):2==t?validatePASSPORT(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1):4!=t||(validatePAN(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1)))},salary:function(){var t=e("#candidateLastWithdrawnSalary").val();!isNaN(t)&&parseInt(t)>=1e3&&parseInt(t)<=99e3?e("#invalidSalaryNotification").css("display","none"):e("#invalidSalaryNotification").css("display","block")},enableAddBtn:function(){var t=this.id.split("_")[1];""==e("#companyName_"+t).val()||""==e("#workedJobRole_"+t).val()?e("#addCurrentlyWorkingBtn_"+t).prop("disabled",!0):e("#addCurrentlyWorkingBtn_"+t).prop("disabled",!1)}},aux:{hideExperienceCaptureDiv:function(){e("#candidateFresh").is(":checked")&&(e("#experienceDuration").css("display","none"),e("#experienceQuestion").css("display","none"),e("#experienceCurrently").css("display","none"),e("#companyDetailsCapture").hide())},showExperienceCaptureDiv:function(){e("#candidateExp").is(":checked")&&(e("#experienceDuration").css("display","block"),e("#experienceQuestion").css("display","block"))},showExperienceBox:function(){var t=e("#candidateTotalExperienceYear").val(),a=e("#candidateTotalExperienceMonth").val();!isNaN(t)&&parseInt(t)>0||!isNaN(a)&&parseInt(a)>0?(e("#companyDetailsCapture").css("display","block"),e("#experienceCurrently").css("display","block")):(e("#companyDetailsCapture").css("display","none"),e("#experienceCurrently").css("display","none"))},disableCurrentCompanyOption:function(){if(e("#currentlyWorking").is(":checked")){if(e("#currentlyWorking").is(":checked"))for(var t=document.getElementsByName("addCurrently_Working"),a=0;a<t.length;a++)t[a].disabled=!1}else for(var t=document.getElementsByName("addCurrently_Working"),a=0;a<t.length;a++)t[a].disabled=!0,t[a].checked=!1},addmoreCompany:function(){if(void 0,0!=t.companyCount&&t.companyCount<=3){t.companyCount++;var a=document.createElement("div");a.className="row",a.id="row_"+t.companyCount,a.style="margin:4px 0";var n=document.createElement("div");n.className="col-sm-3",n.id="companyName",a.appendChild(n);var i=document.createElement("div");i.className="col-sm-3",i.id="workedJobRole",a.appendChild(i);var o=document.createElement("div");o.className="col-sm-4",o.id="workedCurrently",o.style="padding-top:1%;text-align:center",a.appendChild(o);var l=document.createElement("div");l.className="col-sm-2",a.appendChild(l);var d=document.createElement("input");d.className="form-control",d.type="text",d.placeholder="Company Name",d.id="companyName_"+t.companyCount,n.appendChild(d);var r=document.createElement("input");r.id="workedJobRole_"+t.companyCount,r.onchange=applyInShort.aux.enableAddBtn,i.appendChild(r);var s=document.createElement("input");e("#currentlyWorking").is(":checked")?s.disabled=!1:s.disabled=!0;var c=document.createElement("button");c.className="form-control",c.type="button",c.setAttribute("disabled",!0),c.id="addCurrentlyWorkingBtn_"+t.companyCount,c.value="Add",c.style="background:#09ac58;color:#fff;font-size:12px",c.name="Add",c.textContent="Add Company",c.onclick=applyInShort.aux.addmoreCompany,l.appendChild(c),s.type="radio",s.style="margin:0 4%",s.id="addCurrentlyWorking_"+t.companyCount,s.name="addCurrently_Working",o.appendChild(s);var p=document.createElement("label");p.textContent="Is this your current company",p["for"]="addCurrentlyWorking_"+t.companyCount,o.appendChild(p);var m=t.companyCount-1;e("#companyDetailsCapture").append(a),e("#addCurrentlyWorkingBtn_"+m).prop("disabled",!0),t.process.experience(t.allJobRole,t.companyCount)}else e.notify("Max 3 Addition Allowed","error")}},"do":{submit:function(a){void 0;try{e.ajax({type:"POST",url:"/updateCandidateDetailViaShortJobApply/",contentType:"application/json; charset=utf-8",data:JSON.stringify(a),success:function(a){void 0,e("#finalSubmitBtn").prop("disabled",!0),3==a.statusCode?(e.notify("Application Submitted successfully. Opening Dashboard","success"),t["do"].redirectToDashboard(3e3)):4==a.statusCode?(e.notify("Looks like you have already applied to this job. Opening Dashboard","error"),t["do"].redirectToDashboard(3e3)):(e.notify("Something went wrong. Please re-check submission!","error"),setTimeout(function(){e("#finalSubmitBtn").prop("disabled",!1)},3e3))}})}catch(n){void 0}},validateSubmit:function(){t.missingData.shortPSPopulateResponse.propertyIdList,e(".notifyjs-container").trigger("notify-hide"),void 0;var a,n,i=[],o=!0,l=[],d={},r={};d.candidateId=parseInt(t.candidateId),d.jobPostId=parseInt(t.jobPostId),d.propertyIdList=t.missingData.shortPSPopulateResponse.propertyIdList;var s=e("#jobLocality").val();if(null==s||0==s){o=!1,n="Please select a valid locality.",e.notify(n,"error");var c={propId:11,message:n,submissionStatus:o};i.push(c)}else d.localityId=parseInt(s);var p=e("#interViewSlot").val();if(t.isInterviewSlotAvailable)if(null==p||"0"==p){o=!1,n="Please select a valid Interview Slot.",e.notify(n,"error");var c={propId:12,message:n,submissionStatus:o};i.push(c)}else d.dateInMillis=parseInt(p.split("_")[0]),d.timeSlotId=parseInt(p.split("_")[1]);if(void 0,e.each(t.missingData.shortPSPopulateResponse.propertyIdList,function(d,s){if(o=!0,0==s){var c=[];e("#document_details").each(function(){e(this).find("input[type=checkbox]").each(function(){var a,l={};a=e(this).attr("id").split("_").slice(-1).pop();var d=e("input#idProofCheckbox_"+a).is(":checked"),r=t.validation.input(a,e("input#idProofValue_"+a).val().trim());if(r&&d?(l.idProofId=parseInt(a),l.idNumber=e("input#idProofValue_"+a).val().trim()):d&&!r&&(o=!1,e.notify("Please provide valid document details.","error")),jQuery.isEmptyObject(l)||c.push(l),!o){var p={propId:s,message:n,submissionStatus:o};i.push(p)}})}),r.idProofWithIdNumberList=c}else if(1==s){var p,m=[];e("#language_details input:checked").map(function(){p=0;var e,t=this.id.split("_")[1],a=this.name,n={};for(var i in m)if(m[i].id==t){e=i,p=1;break}0==p?(n.id=t,n.u=0,n.rw=0,n.s=0,"u"==a&&(n.u=1),m.push(n)):"u"==a&&(m[e].u=1)}).get();if(r.candidateKnownLanguageList=m,!o){var u={propId:s,message:n,submissionStatus:o};i.push(u)}}else if(2==s){var v=[];e("#assets_details input:checked").each(function(){var t=parseInt(e(this).attr("id").split("_").slice(-1).pop());v.push(t)}),r.assetIdList=v}else if(3==s){if("Day"==e("#dob_day").val()||"Month"==e("#dob_month").val()||"Year"==e("#dob_year").val())o=!1;else var h=e("#dob_year").val()+"-"+e("#dob_month").val()+"-"+e("#dob_day").val();""==h&&(o=!1);var y=String(h),g=new Date(y),f=new Date,C=new Date(f.setFullYear(f.getFullYear()-18));f=new Date;var b=new Date(f.setFullYear(f.getFullYear()-70));if(f=new Date,g>=C&&(a=0,o=!1),g<=b&&(a=0,o=!1),r.candidateDob=y,n="Please provide valid Date of birth",!o){e.notify(n,"error");var u={propId:s,message:n,submissionStatus:o};i.push(u)}}else if(4==s){0==e('input:radio[name="candidateExperience"]:checked').length&&(o=!1,e.notify("Please select Fresher/Experienced.","error"));var x,E,w;if("0"==e('input:radio[name="candidateExperience"]:checked').val())w=0;else{x=parseInt(e("#candidateTotalExperienceMonth").val()),E=parseInt(e("#candidateTotalExperienceYear").val()),w=x+12*E;var I=0==e("#candidateTotalExperienceMonth").val()&&0==e("#candidateTotalExperienceYear").val();e("input[id=candidateExp]").is(":checked")&&I&&(e.notify("Please provide your total years of experience","error"),o=!1)}e("input[id=candidateExp]").is(":checked")&&e("#currentlyWorking").is(":checked")&&!e("input[name=addCurrently_Working]").is(":checked")&&(e.notify("Please provide your current company details and mark appropriately.","error"),o=!1);var N=1;for(l=[],N;N<=3;N++){var _={};""==e("#companyName_"+N).val()&&e("#workedJobRole_"+N).val()>0&&(n="please provide company name",e.notify("please provide company name","error"),o=!1),""!=e("#companyName_"+N).val()&&e("#workedJobRole_"+N).val()<0&&(n+=" | please provide Job Role",e.notify("please provide Job Role","error"),o=!1),""!=e("#companyName_"+N).val()&&e("#workedJobRole_"+N).val()>0&&(_.companyName=e("#companyName_"+N).val(),_.jobRoleId=e("#workedJobRole_"+N).val(),_.current=e("#addCurrentlyWorking_"+N).is(":checked")),jQuery.isEmptyObject(_)||l.push(_)}if(r.candidateTotalExperience=w,
r.pastCompanyList=l,r.candidateIsEmployed=e("#currentlyWorking").is(":checked"),r.extraDetailAvailable=!0,!o){var u={propId:s,message:n,submissionStatus:o};i.push(u)}}else if(5==s){if(r.candidateEducationLevel=e("#candidateHighestEducation").val(),r.candidateDegree=e("#candidateHighestDegree").val(),r.candidateEducationInstitute=e("#candidateEducationInstitute").val(),r.candidateEducationCompletionStatus=parseInt(e('input:radio[name="candidateEducationCompletionStatus"]:checked').val()),("-1"==e("#candidateHighestEducation").val()||e("#candidateHighestEducation").val()>3||null==e('input:radio[name="candidateEducationCompletionStatus"]:checked').val())&&("-1"!=e("#candidateHighestDegree").val()&&""!=e("#candidateEducationInstitute").val()||(o=!1,e.notify("Please provide full education details","error"))),!o){var u={propId:s,message:n,submissionStatus:o};i.push(u)}}else if(6==s){if(r.candidateGender=e('input:radio[name="gender"]:checked').val(),0==e('input:radio[name="gender"]:checked').length&&(o=!1,e.notify("Please provide your gender details","error")),!o){var u={propId:s,message:n,submissionStatus:o};i.push(u)}}else if(7==s){var S=e("#candidateLastWithdrawnSalary").val();if(!isNaN(S)&&parseInt(S)>=1e3&&parseInt(S)<=1e5)r.candidateLastWithdrawnSalary=parseInt(e("#candidateLastWithdrawnSalary").val());else if(o=!1,e.notify("Please enter a valid 'Last Withdrawn Salary' per month. (Min: 1000, Max: 1,00,000)","error"),!o){var u={propId:s,message:"Please enter a valid 'Last Withdrawn Salary' per month. (Min: 1000, Max: 1,00,000)",submissionStatus:o};i.push(u)}}else if(8==s){var k=e("#candidateHomeLocality").val();if(null==k?(o=!1,e.notify("Please enter a valid Locality","error")):r.candidateHomeLocality=parseInt(k),!o){var u={propId:s,message:"Please enter a valid Home locality",submissionStatus:o};i.push(u)}}else if(9==s){var D=e("#candidateTimeShiftPref").val();if("-1"==D?(o=!1,e.notify("Please enter a valid time/shift preference (ex: Part time, Full time)","error")):r.candidateTimeShiftPref=e("#candidateTimeShiftPref").val(),!o){var u={propId:s,message:"Please enter a valid time preference",submissionStatus:o};i.push(u)}}}),0==i.length)return d.updateCandidateDetail=r,this.submit(d),e("#finalSubmitBtn").prop("disabled",!0),setTimeout(function(){e("#finalSubmitBtn").prop("disabled",!1)},7e3),!0},redirectToDashboard:function(e){null!=e&&setTimeout(function(){window.location="/dashboard/appliedJobs/"},e)}}};return t.method.init(),t.method.ending(),document.getElementById("finalSubmitBtn").addEventListener("click",function(){t["do"].validateSubmit()}),t}(jQuery);