<<<<<<< HEAD
var applyInShort=function(e){"use strict";var t={isNavBarLoaded:!1,isInterviewSlotAvailable:!1,loginStatus:null,candidateId:null,jobPostId:null,missingDataURL:null,missingData:null,jobTitle:null,companyName:null,allJobRole:null,companyCount:1,factory:{parent:null,mainDiv:null,subDivOne:null,subDivTwo:null,orderList:null,hintMessage:null,factory:function(){this.parent=e("#missingInfo"),this.mainDiv=document.createElement("div"),this.mainDiv.className="row",this.mainDiv.style="margin:0",this.parent.append(this.mainDiv),this.subDivOne=document.createElement("div"),this.subDivOne.className="col-sm-12",this.mainDiv.appendChild(this.subDivOne),this.hintMessage=document.createElement("p"),this.hintMessage.textContent="(Optional) Give some more details to apply",this.hintMessage.style="margin:10px 0;font-weight:bold;font-size:18px",this.subDivOne.appendChild(this.hintMessage),this.subDivTwo=document.createElement("div"),this.subDivTwo.style="padding:0 4%",this.subDivTwo.className="col-sm-12",this.mainDiv.appendChild(this.subDivTwo),this.orderList=document.createElement("ol"),this.orderList.className="list-group",this.subDivTwo.appendChild(this.orderList)}},method:{init:function(){t.render.hideContainer(),t.factory.factory(),t.validation.checkIsUserLoggedIn(),t.method.prepareRequestParam(),t.render.applyJobForm()},ending:function(){t.render.showContainer(),e("#footer_inc").load("/footer")},getUserLogInStatus:function(){return t.isNavBarLoaded?new Promise(function(e,t){e(null)}):e.ajax({type:"GET",url:"/checkNavBar"})},getMissingData:function(){return null!=t.missingDataURL?e.ajax({type:"GET",url:t.missingDataURL}):new Promise(function(e,t){e(null)})},prepareRequestParam:function(){var e=window.location.pathname.split("-");t.jobPostId=e[e.length-1];var a=window.location.search.split("&")[0].split("=");t.candidateId=a[a.length-1],t.missingDataURL="/apply/inshort/api/getMissingData?candidateId="+t.candidateId+"&jobPostId="+t.jobPostId}},fetch:{missingData:function(){return new Promise(function(e,a){t.method.getMissingData().then(function(a){null!=a&&(t.missingData=a),e()},function(e,t,n){a(n)})})}},render:{messageModal:function(a,n){var o="Notice";e("#messagePromptModal").modal(),e("#myModalLabel").html(o),e("#customMsg").html(a),null!=n&&t.render.hideContainer()},hideContainer:function(){e("#card_container").hide()},showContainer:function(){e("#card_container").show()},hideUI:function(a,n){t.render.messageModal(a,null),e("#card_container").hide()},applyJobForm:function(){var a=t.fetch.missingData();a.then(function(){void 0,void 0,e("#finalSubmitBtn").prop("disabled",!0),5==t.missingData.statusCode?t.render.messageModal("You have already applied to this Job.",4e3):6==t.missingData.statusCode?t.render.messageModal("Invalid Link. No Job Found.",4e3):7==t.missingData.statusCode?t.render.messageModal(t.missingData.message+". ",7e3):4==t.missingData.statusCode&&(t.render.jobBasicDetails(),e("#finalSubmitBtn").prop("disabled",!1),null!=t.missingData.localityPopulateResponse&&t.render.jobLocalityCard(t.missingData.localityPopulateResponse),null!=t.missingData.shortPSPopulateResponse&&t.missingData.shortPSPopulateResponse.visible?t.render.preScreenCard(t.missingData.shortPSPopulateResponse):e("#preScreenCardDiv").hide(),null!=t.missingData.interviewSlotPopulateResponse&&2==t.missingData.interviewSlotPopulateResponse.interviewResponse.status&&null!=t.missingData.interviewSlotPopulateResponse.interviewSlotMap?t.render.interviewSlotCard(t.missingData.interviewSlotPopulateResponse.interviewSlotMap):(e("#jobInterviewSlotCardDiv").hide(),t.isInterviewSlotAvailable=!1),void 0)}).catch(function(e){void 0})},jobBasicDetails:function(){var a=e("#jobSalaryIncentives"),n=e("#jobTime"),o="",i="",l=document.createElement("font");if(null!=t.missingData.jobPost.jobPostMinSalary&&0!=t.missingData.jobPost.jobPostMinSalary&&(i+=null==t.missingData.jobPost.jobPostMaxSalary||"0"==t.missingData.jobPost.jobPostMaxSalary?" ₹ "+rupeeFormatSalary(t.missingData.jobPost.jobPostMinSalary)+" monthly":" ₹ "+rupeeFormatSalary(t.missingData.jobPost.jobPostMinSalary)+" -  ₹ "+rupeeFormatSalary(t.missingData.jobPost.jobPostMaxSalary)+" monthly"),null!=t.missingData.jobPost.jobPostIncentives&&""!=t.missingData.jobPost.jobPostIncentives&&(i+=" ("+t.missingData.jobPost.jobPostIncentives+")"),l.textContent=i,a.append(l),null!=t.missingData.jobPost.jobPostStartTime&&t.missingData.jobPost.jobPostStartTime!=-1&&null!=t.missingData.jobPost.jobPostEndTime&&null!=t.missingData.jobPost.jobPostEndTime!=-1){var d,s;t.missingData.jobPost.jobPostStartTime>12?(t.missingData.jobPost.jobPostStartTime=t.missingData.jobPost.jobPostStartTime-12,d="PM"):d="AM",t.missingData.jobPost.jobPostEndTime>12?(t.missingData.jobPost.jobPostEndTime=t.missingData.jobPost.jobPostEndTime-12,s="PM"):s="AM",o+=", "+t.missingData.jobPost.jobPostStartTime+" "+d+" - "+t.missingData.jobPost.jobPostEndTime+" "+s}if(""!=t.missingData.jobPost.jobPostWorkingDays&&null!=t.missingData.jobPost.jobPostWorkingDays)if(127==t.missingData.jobPost.jobPostWorkingDays)o+=" (No - Off) ";else{var r,c=t.missingData.jobPost.jobPostWorkingDays.toString(2);if(7!=c.length){var p=7-c.length,m="";for(r=0;r<p;r++)m+="0";m+=c,c=m}var u="",h=c.split("");1!=h[0]&&(u+="Mon, "),1!=h[1]&&(u+="Tue, "),1!=h[2]&&(u+="Wed, "),1!=h[3]&&(u+="Thu, "),1!=h[4]&&(u+="Fri, "),1!=h[5]&&(u+="Sat, "),1!=h[6]&&(u+="Sun "),o+=" ("+u+" - Off)"}var v=document.createElement("font");if(v.textContent=t.missingData.jobPost.jobPostShift.timeShiftName+o,n.append(v),null!=t.missingData.jobPost.jobPostDescription)if(t.missingData.jobPost.jobPostDescription.length>65){var g=t.missingData.jobPost.jobPostDescription;g=g.substr(0,65),g=g.substr(0,Math.min(g.length,g.lastIndexOf(" "))),e("#jobDescription").html(g+'<a id="more">..more</a>'),e("#jobDescriptionFull").html(t.missingData.jobPost.jobPostDescription+'<a id="less">..less</a>'),e("#jobDescriptionFull").css("display","none"),e("#more").on("click",function(){e("#jobDescription").hide(),e("#jobDescriptionFull").show()}),e("#less").on("click",function(){e("#jobDescriptionFull").hide(),e("#jobDescription").show()})}else e("#jobDescription").html(t.missingData.jobPost.jobPostDescription);else e("#jobDescriptionContainer").remove()},jobLocalityCard:function(a){void 0;var n=a.localityMap;if(t.jobTitle=a.jobTitle+" ",t.companyName=a.companyName,0==t.missingData.jobPost.gender?e("#genderDetail").html("(Male Only)"):1==t.missingData.jobPost.gender?e("#genderDetail").html("(Female Only)"):e("#genderDetail").hide(),e("#locality_jobNameConfirmation").html(t.jobTitle),e("#locality_companyNameConfirmation").html(t.companyName),null!=n){if(Object.keys(n).length>1){var o=e("<option value=0></option>").text("Select Location");e("#jobLocality").append(o)}for(var i in n){var l=i,d=n[i],o=e("<option value="+l+"></option>").text(d);e("#jobLocality").append(o)}}n=null},jobOtherDetailsCard:function(t){void 0;e("#preScreenCardDiv")},interviewSlotCard:function(a){if(void 0,null==a)return void(t.isInterviewSlotAvailable=!1);if(t.isInterviewSlotAvailable=!0,e("#interviewJobTitle").html(t.jobTitle),e("#interviewCompanyName").html(t.companyName),null!=a)for(var n in a){var o=a[n].interviewDateMillis,i=o+"_"+a[n].interviewTimeSlot.slotId,l=n,d=e("<option value="+i+"></option>").text(l);e("#interViewSlot").append(d)}},preScreenCard:function(e){null!=e.documentList&&e.documentList.length>0&&t.construct._document(e.documentList),null!=e.languageList&&e.languageList.length>0&&t.construct._language(e.languageList),null!=e.assetList&&e.assetList.length>0&&t.construct._asset(e.assetList),null!=e.dobMissing&&e.dobMissing&&t.construct._dob(),null!=e.genderMissing&&e.genderMissing&&t.construct._gender(),null!=e.salaryMissing&&e.salaryMissing&&t.construct._salary(),null!=e.experienceResponse&&e.experienceResponse.experienceMissing&&t.construct._experience(e.experienceResponse.jobRoleList),null!=e.educationResponse&&e.educationResponse.educationMissing&&t.construct._education(e.educationResponse.educationList,e.educationResponse.degreeList)}},construct:{_document:function(e){var a=document.createElement("li");a.textContent="Do you have the following document(s) ?";var n=document.createElement("div");n.className="row";var o=document.createElement("div");o.className="col-sm-12 col-md-12",o.id="document_details",o.style="padding:2%",n.appendChild(o),a.appendChild(n),t.factory.orderList.appendChild(a),t.process.document(e)},_language:function(e){var a=document.createElement("li");a.textContent="Do you know following language(s) ?";var n=document.createElement("div");n.className="row";var o=document.createElement("div");o.className="col-sm-12",o.id="language_details",o.style="padding:1%;",n.appendChild(o),a.appendChild(n),t.factory.orderList.appendChild(a),t.process.language(e)},_dob:function(){var e=document.createElement("li");e.textContent="Please mention your date of birth",t.factory.orderList.appendChild(e);var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-sm-5 hidden-xs",n.style="padding:14px 3%",a.appendChild(n);var o=document.createElement("div");o.className="col-xs-12 col-sm-6 ",o.style="padding:1% 2%",a.appendChild(o);var i=document.createElement("font");i.textContent="Date of birth",i.style="font-weight:bold",n.appendChild(i);var l=document.createElement("select");l.className="selectDropDown",l.id="dob_day",l.style="margin:0 2%",o.appendChild(l);var d=document.createElement("option");d.textContent="Day",l.appendChild(d);var s;for(s=1;s<=31;s++){var r=document.createElement("option");r.value=("0"+s).slice(-2),r.textContent=s,l.appendChild(r)}var c=document.createElement("select");c.className="selectDropDown",c.id="dob_month",c.style="margin:0 2%",o.appendChild(c);var p=document.createElement("option");for(p.textContent="Month",c.appendChild(p),s=1;s<=12;s++){r=document.createElement("option"),r.value=("0"+s).slice(-2);var m;switch(s){case 1:m="January";break;case 2:m="February";break;case 3:m="March";break;case 4:m="April";break;case 5:m="May";break;case 6:m="June";break;case 7:m="July";break;case 8:m="August";break;case 9:m="September";break;case 10:m="October";break;case 11:m="November";break;case 12:m="December"}r.textContent=m,c.appendChild(r)}var u=document.createElement("select");u.className="selectDropDown",u.id="dob_year",u.style="margin:0 2%",o.appendChild(u);var h=document.createElement("option");for(h.textContent="Year",u.appendChild(h),s=(new Date).getFullYear()-19;s>=(new Date).getFullYear()-80;s--)r=document.createElement("option"),r.value=s,r.textContent=s,u.appendChild(r);e.appendChild(a),t.factory.orderList.appendChild(e)},_experience:function(e){var a=document.createElement("li");a.textContent="Do you have work experience?";var n=document.createElement("div");n.className="row";var o=document.createElement("div");o.className="row",o.style="display: none;",o.id="companyDetailsCapture";var i=document.createElement("p");i.textContent="Where all have you worked before? ",i.style="margin-left:10px",o.appendChild(i);var l=document.createElement("div");l.className="row",l.id="row_1",l.style="margin:4px 0",o.appendChild(l);var d=document.createElement("div");d.className="col-sm-3",d.id="companyName",l.appendChild(d);var s=document.createElement("div");s.className="col-sm-3",s.id="workedJobRole",l.appendChild(s);var r=document.createElement("div");r.className="col-sm-4",r.id="workedCurrently",r.style="padding-top:1%;text-align:center",l.appendChild(r);var c=document.createElement("div");c.className="col-sm-2",l.appendChild(c);var p=document.createElement("input");p.className="form-control",p.type="text",p.placeholder="Company Name",p.id="companyName_1",p.onchange=applyInShort.validation.enableAddBtn,d.appendChild(p);var m=document.createElement("input");m.id="workedJobRole_1",m.onchange=applyInShort.validation.enableAddBtn,s.appendChild(m);var u=document.createElement("input");u.type="radio",u.style="margin:0 4%;",u.id="addCurrentlyWorking_1",u.name="addCurrently_Working",u.setAttribute("disabled",!0),u.value=0,r.appendChild(u);var h=document.createElement("button");h.className="form-control",h.type="button",h.setAttribute("disabled",!0),h.id="addCurrentlyWorkingBtn_1",h.value="Add",h.name="Add",h.style="background:#09ac58;color:#fff;font-size:12px",h.textContent="Add Company",h.onclick=applyInShort.aux.addmoreCompany,c.appendChild(h),u.type="radio",u.style="margin:0 4%",u.name="addCurrently_Working",r.appendChild(u);var v=document.createElement("label");v.textContent="Is this your current company",v.for="addCurrentlyWorking_1",r.appendChild(v);var g=document.createElement("div");g.className="col-xs-12 col-md-12",g.style="padding:2% 0;",n.appendChild(g);var y=document.createElement("div");y.className="col-xs-12 col-sm-5",y.id="experienceQuestion",y.style="padding:2% 3%;display:none",n.appendChild(y);var b=document.createElement("p");b.textContent="How many year(s) of work experience do you have?",y.appendChild(b);var C=document.createElement("div");C.className="col-xs-12 col-md-6",C.id="experienceDuration",C.style="display:none;padding:1%",n.appendChild(C);var f=document.createElement("div");f.className="col-xs-12 col-sm-3 ",g.appendChild(f);var E=document.createElement("div");E.className="col-xs-12 col-sm-4",g.appendChild(E);var x=document.createElement("input");x.type="radio",x.id="candidateFresh",x.name="candidateExperience",x.value=0,x.onchange=applyInShort.aux.hideExperienceCaptureDiv,f.appendChild(x);var D=document.createElement("label");D.textContent="I'm a fresher",D.for="candidateFresh",f.appendChild(D);var I=document.createElement("input");I.type="radio",I.id="candidateExp",I.name="candidateExperience",I.value=1,I.onchange=applyInShort.aux.showExperienceCaptureDiv,E.appendChild(I);var P=document.createElement("label");P.textContent="I have work experience",P.for="candidateExp",E.appendChild(P);var w=document.createElement("input");w.className="form-control",w.type="number",w.placeholder="Years",w.style="margin-top:1%",w.oninput=applyInShort.aux.showExperienceBox,w.id="candidateTotalExperienceYear",C.appendChild(w);var S=document.createElement("input");S.className="form-control",S.type="number",S.placeholder="Months",S.id="candidateTotalExperienceMonth",S.oninput=applyInShort.aux.showExperienceBox,C.appendChild(S);var N=document.createElement("div");N.className="col-xs-12 col-md-10",N.id="experienceCurrently",N.style="padding:2% 3%;display:none",n.appendChild(N);var k=document.createElement("p");k.textContent="Are you currently working : ",N.appendChild(k);var j=document.createElement("input");j.id="currentlyWorking",j.type="checkbox",j.style="margin:0 2% 0 4%",j.onclick=applyInShort.aux.disableCurrentCompanyOption,k.appendChild(j);var _=document.createElement("label");_.textContent="Yes",_.for="currentlyWorking",k.appendChild(_),a.appendChild(n),a.appendChild(o),t.factory.orderList.appendChild(a),t.process.experience(e,t.companyCount)},_education:function(e,a){var n=document.createElement("li");n.textContent="Please provide your education details";var o=document.createElement("div");o.className="row",n.appendChild(o);var i=document.createElement("div");i.className="row",n.appendChild(i);var l=document.createElement("div");l.className="row",n.appendChild(l);var d=document.createElement("div");d.className="row",n.appendChild(d);var s=document.createElement("div");s.className="col-xs-12 col-sm-5",s.id="education_details",o.appendChild(s);var r=document.createElement("div");r.className="col-xs-12 col-sm-6",r.style="padding:1%",o.appendChild(r);var c=document.createElement("font");c.textContent="Highest education qualification? ",c.style="font-weight:bold;",s.appendChild(c);var p=document.createElement("select");p.id="candidateHighestEducation",r.appendChild(p);var m=document.createElement("div");m.className="col-xs-12 col-sm-5",m.id="education_details",i.appendChild(m);var u=document.createElement("div");u.className="col-xs-12 col-sm-6",u.style="padding-top:3%",i.appendChild(u);var h=document.createElement("font");h.textContent="Have you successfully completed this course? ",h.style="font-weight:bold;",m.appendChild(h);var v=document.createElement("input");v.type="radio",v.style="margin:0 4% 0 0",v.id="successYes",v.name="candidateEducationCompletionStatus",v.value=1,u.appendChild(v);var g=document.createElement("label");g.textContent="Yes",g.for="successConformationHEQ",u.appendChild(g);var y=document.createElement("input");y.type="radio",y.style="margin:0 4% 0 8%",y.id="successNo",y.name="candidateEducationCompletionStatus",y.value=0,u.appendChild(y);var b=document.createElement("label");b.textContent="No",b.for="successConformationHEQ",u.appendChild(b);var C=document.createElement("div");C.className="col-xs-12 col-sm-5",C.id="education_details",l.appendChild(C);var f=document.createElement("div");f.className="col-xs-12 col-sm-6",f.id="education_details",f.style="padding:1%",l.appendChild(f);var E=document.createElement("font");E.textContent="Highest education degree? ",E.style="font-weight:bold;",C.appendChild(E);var x=document.createElement("select");x.id="candidateHighestDegree",f.appendChild(x);var D=document.createElement("div");D.className="col-xs-12 col-sm-5",D.style="padding:2% 3%",d.appendChild(D);var I=document.createElement("div");I.className="col-xs-12 col-sm-6",I.style="padding:1%",d.appendChild(I);var P=document.createElement("font");P.textContent="Last attended education institute?",P.style="margin-top:8px;font-weight:bold",D.appendChild(P);var w=document.createElement("input");w.className="form-control",w.type="text",w.placeholder="School/Institute Name",w.id="candidateEducationInstitute",I.appendChild(w),t.factory.orderList.appendChild(n),t.process.degree(a),t.process.education(e)},_gender:function(){var e=document.createElement("li");e.textContent="Please mention your gender ";var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-sm-12 col-md-12",n.id="gender_details",n.style="padding:2% 0;";var o=document.createElement("div");o.className="col-xs-6 col-sm-3",n.appendChild(o);var i=document.createElement("div");i.className="col-xs-6 col-sm-3",n.appendChild(i);var l=document.createElement("label");l.textContent="Male",l.for="genderMale";var d=document.createElement("input");d.type="radio",d.style="margin:0 8%",d.id="genderMale",d.name="gender",d.value=0;var s=document.createElement("label");s.textContent="Female",s.for="genderFemale";var r=document.createElement("input");r.type="radio",r.style="margin:0 8%",r.id="genderFemale",r.name="gender",r.value=1,o.appendChild(d),o.appendChild(l),i.appendChild(r),i.appendChild(s),a.appendChild(n),e.appendChild(a),t.factory.orderList.appendChild(e)},_salary:function(){var e=document.createElement("li");e.textContent="Please provide your salary details";var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-xs-12 col-sm-5",n.id="salary_details";var o=document.createElement("div");o.className="col-xs-12 col-sm-6",o.id="salary_response",o.style="padding:1%";var i=document.createElement("font");i.textContent="Current/last drawn salary",i.style="margin-top:8px;font-weight:bold",n.appendChild(i);var l=document.createElement("input");l.className="form-control",l.type="number",l.placeholder="Salary InHand/Month",l.id="candidateLastWithdrawnSalary",l.oninput=applyInShort.validation.salary,o.appendChild(l);var d=document.createElement("p");d.id="invalidSalaryNotification",d.textContent="Invalid Salary Input Please enter a valid 'Last Withdrawn Salary' (Ex: 15000) in a month",d.style="color:#ff1744;display:none;margin:1px 0 1px 2px;font-size:12px",o.appendChild(d),a.appendChild(n),a.appendChild(o),e.appendChild(a),t.factory.orderList.appendChild(e)},_locality:function(){var e=document.createElement("li");e.textContent="Which is your home locality? ";var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-sm-12 col-md-12",n.id="locality_details",n.style="padding:2%";var o=document.createElement("p");o.textContent="Locality",o.style="margin-left:18px;font-weight:bold";var i=document.createElement("input");i.id="candidateHomeLocality",e.appendChild(i),o.appendChild(i),n.appendChild(o),a.appendChild(n),e.appendChild(a),t.factory.orderList.appendChild(e)},_asset:function(e){var a=document.createElement("li");a.textContent="Do you own any of the following ?";var n=document.createElement("div");n.className="row";var o=document.createElement("div");o.className="col-md-12",o.id="assets_details",o.style="padding:1%",n.appendChild(o),a.appendChild(n),t.factory.orderList.appendChild(a),t.process.asset(e)}},process:{document:function(t){if(null!=t&&t.length>0){var a=e("#document_details");t.forEach(function(t){void 0;var n=document.createElement("div");n.className="col-sm-6 col-md-4",n.id="document_response_checkbox",a.append(n);var o=document.createElement("div");o.className="row",o.id="document_response_checkbox",o.style="margin:0",n.appendChild(o);var i=document.createElement("div");i.className="row",i.id="document_response_input_"+t.idProofId,i.style="padding:2% 2%;display:none;margin:0",n.appendChild(i);var l=document.createElement("div");l.className="btn-group",l.style="width:100%",l.setAttribute("data-toggle","buttons"),o.appendChild(l);var d=document.createElement("label");d.className="btn btn-custom-check",d.style="margin:6px 0px;width:100%",d.id="label_"+t.idProofId,d.textContent=t.idProofName,l.appendChild(d);var s=document.createElement("input");s.id="idProofCheckbox_"+t.idProofId,s.type="checkbox",s.name="document",s.onchange=function(){1==e("#idProofCheckbox_"+t.idProofId).prop("checked")?(void 0,e("#document_response_input_"+t.idProofId).css("display","block")):(void 0,e("#document_response_input_"+t.idProofId).css("display","none"),e("#Invalid_"+t.idProofId).css("display","none"))},d.appendChild(s);var r=document.createElement("p");r.id="Invalid_"+t.idProofId,r.textContent="(Invalid Number)",r.style="color:#ff1744;display:none;margin:1px 0 1px 42px;font-size:12px",o.appendChild(r);var c=document.createElement("p");c.id="idProofValueTd_"+t.idProofId,i.appendChild(c);var p=document.createElement("input");p.className="form-control",p.setAttribute("type","text"),p.oninput=applyInShort.validation.input,p.placeholder=t.idProofName+" Number",p.setAttribute("id","idProofValue_"+t.idProofId),c.appendChild(p)})}},language:function(t){var a=[],n=[];t.forEach(function(t){void 0;var o=t.languageId,i=t.languageName,l={};l.id=o,l.name=i,a.push(i),n.push(o);e("<option value="+o+"></option>").text(i)}),this.populateLanguages(a.reverse(),n.reverse())},populateLanguages:function(e,t){var a,n=document.getElementById("language_details");for(a=0;a<e.length;a++)if(1==t[a]||2==t[a]||3==t[a]||4==t[a]||5==t[a]){var o=document.createElement("div");o.className="col-xs-12 col-sm-4",o.style="padding-top:8px",n.appendChild(o),o.innerHTML='<div class="btn-group" style="margin:6px 0px;width:100%" data-toggle="buttons"><label class="btn btn-custom-check"style="width:100%" ><input id="lang_'+t[a]+'" type="checkbox" name="u" value=0 >'+e[a]+"</label></div>"}},experience:function(a,n){null!=a&&a.length>0&&(null==t.allJobRole&&(t.allJobRole=[],a.forEach(function(e){var a=e.jobName,n=parseInt(e.jobRoleId),o={};o.id=n,o.name=a,t.allJobRole.push(o)})),void 0,e("#workedJobRole_"+n).tokenInput(applyInShort.allJobRole,{theme:"facebook",placeholder:"Job Role?",hintText:"Select job role",minChars:0,tokenLimit:1,zindex:9999,preventDuplicates:!0}),applyInShort.aux.disableCurrentCompanyOption)},education:function(t){if(null!=t){var a=[{label:"None Selected",value:-1}];t.forEach(function(e){var t={label:e.educationName,value:parseInt(e.educationId)};a.push(t)});var n=e("#candidateHighestEducation");n.multiselect({nonSelectedText:"None Selected",includeSelectAllOption:!0,maxHeight:300}),n.multiselect("dataprovider",a),n.multiselect("rebuild")}},degree:function(t){if(null!=t){var a=[{label:"None Selected",value:-1}];t.forEach(function(e){var t={label:e.degreeName,value:parseInt(e.degreeId)};a.push(t)});var n=e("#candidateHighestDegree");n.multiselect({nonSelectedText:"None Selected",includeSelectAllOption:!0,maxHeight:300}),n.multiselect("dataprovider",a),n.multiselect("rebuild")}},asset:function(t){var a=e("#assets_details");t.forEach(function(e){void 0;var t=document.createElement("div");t.className="col-xs-12 col-sm-3 col-md-3",t.style="padding-top:8px",a.append(t);var n=document.createElement("div");n.className="btn-group",n.style="margin:6px 0px",n.setAttribute("data-toggle","buttons"),t.appendChild(n);var o=document.createElement("label");o.className="btn btn-custom-check",o.textContent=e.assetTitle,n.appendChild(o);var i=document.createElement("input");i.id="assetsCheckboxId_"+e.assetId,i.type="checkbox",i.name="document",o.appendChild(i)})}},validation:{checkIsUserLoggedIn:function(){var a=new Promise(function(e,a){t.method.getUserLogInStatus().then(function(a){null!=a&&(t.loginStatus=a),e()},function(e,t,n){a(n)})});a.then(function(){"1"==t.loginStatus?(e(".jobApplyBtnV2").show(),e("#incentiveSection").hide()):"2"==t.loginStatus?(e(".jobApplyBtnV2").hide(),e("#incentiveSection").show()):e("#incentiveSection").hide(),t.isNavBarLoaded=!0}).catch(function(e){void 0})},input:function(t,a){return null!=t&&null!=a||(t=this.id.split("_")[1],a=this.value),!e("input#idProofCheckbox_"+t).is(":checked")||(3==t?validateAadhar(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1):1==t?validateDL(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1):2==t?validatePASSPORT(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1):4!=t||(validatePAN(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1)))},salary:function(){var t=e("#candidateLastWithdrawnSalary").val();!isNaN(t)&&parseInt(t)>=1e3&&parseInt(t)<=99e3?e("#invalidSalaryNotification").css("display","none"):e("#invalidSalaryNotification").css("display","block")},enableAddBtn:function(){var t=this.id.split("_")[1];""==e("#companyName_"+t).val()||""==e("#workedJobRole_"+t).val()?e("#addCurrentlyWorkingBtn_"+t).prop("disabled",!0):e("#addCurrentlyWorkingBtn_"+t).prop("disabled",!1)}},aux:{hideExperienceCaptureDiv:function(){e("#candidateFresh").is(":checked")&&(e("#experienceDuration").css("display","none"),e("#experienceQuestion").css("display","none"),e("#experienceCurrently").css("display","none"),e("#companyDetailsCapture").hide())},showExperienceCaptureDiv:function(){e("#candidateExp").is(":checked")&&(e("#experienceDuration").css("display","block"),e("#experienceQuestion").css("display","block"))},showExperienceBox:function(){var t=e("#candidateTotalExperienceYear").val(),a=e("#candidateTotalExperienceMonth").val();!isNaN(t)&&parseInt(t)>0||!isNaN(a)&&parseInt(a)>0?(e("#companyDetailsCapture").css("display","block"),e("#experienceCurrently").css("display","block")):(e("#companyDetailsCapture").css("display","none"),e("#experienceCurrently").css("display","none"))},disableCurrentCompanyOption:function(){if(e("#currentlyWorking").is(":checked")){if(e("#currentlyWorking").is(":checked"))for(var t=document.getElementsByName("addCurrently_Working"),a=0;a<t.length;a++)t[a].disabled=!1}else for(var t=document.getElementsByName("addCurrently_Working"),a=0;a<t.length;a++)t[a].disabled=!0,t[a].checked=!1},addmoreCompany:function(){if(void 0,t.companyCount<3){t.companyCount++;var a=document.createElement("div");a.className="row",a.id="row_"+t.companyCount,a.style="margin:4px 0";var n=document.createElement("div");n.className="col-sm-3",n.id="companyName",a.appendChild(n);var o=document.createElement("div");o.className="col-sm-3",o.id="workedJobRole",a.appendChild(o);var i=document.createElement("div");i.className="col-sm-4",i.id="workedCurrently",i.style="padding-top:1%;text-align:center",a.appendChild(i);var l=document.createElement("div");l.className="col-sm-2",a.appendChild(l);var d=document.createElement("input");d.className="form-control",d.type="text",d.placeholder="Company Name",d.id="companyName_"+t.companyCount,d.onchange=applyInShort.validation.enableAddBtn,n.appendChild(d);var s=document.createElement("input");s.id="workedJobRole_"+t.companyCount,s.onchange=applyInShort.validation.enableAddBtn,o.appendChild(s);var r=document.createElement("input");e("#currentlyWorking").is(":checked")?r.disabled=!1:r.disabled=!0,r.type="radio",r.style="margin:0 4%",r.id="addCurrentlyWorking_"+t.companyCount,r.name="addCurrently_Working",i.appendChild(r);var c=document.createElement("button");c.className="form-control",c.type="button",c.setAttribute("disabled",!0),c.id="addCurrentlyWorkingBtn_"+t.companyCount,c.value="Add",c.style="background:#09ac58;color:#fff;font-size:12px",c.name="Add",c.textContent="Add Company",c.onclick=applyInShort.aux.addmoreCompany,l.appendChild(c);var p=document.createElement("label");p.textContent="Is this your current company",p.for="addCurrentlyWorking_"+t.companyCount,i.appendChild(p);var m=t.companyCount-1;e("#companyDetailsCapture").append(a),e("#addCurrentlyWorkingBtn_"+m).prop("disabled",!0),t.process.experience(t.allJobRole,t.companyCount)}else e.notify("Max 3 Addition Allowed","error")}},do:{submit:function(a){void 0;try{e.ajax({type:"POST",url:"/updateCandidateDetailViaShortJobApply/",contentType:"application/json; charset=utf-8",data:JSON.stringify(a),success:function(a){void 0,e("#finalSubmitBtn").prop("disabled",!0),3==a.statusCode?(t.render.messageModal("Thanks for applying ! Your will receive interview details in an SMS."),t.do.hideAllInputFields()):4==a.statusCode?(t.render.messageModal("Looks like you have already applied to this job. Closing this tab.."),t.do.hideAllInputFields()):(e.notify("Something went wrong. Please re-check submission!","error"),setTimeout(function(){e("#finalSubmitBtn").prop("disabled",!1)},3e3))}})}catch(e){void 0}},interviewIconChange:function(){1==e("#jobInterviewPanel").hasClass("in")?e("#interviewCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):e("#interviewCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")},localityIconChange:function(){1==e("#jobLocalityPanel").hasClass("in")?e("#localityCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):e("#localityCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")},detailsIconChange:function(){1==e("#missingInfo").hasClass("in")?e("#detailsCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):e("#detailsCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")},basicDetailsIconChange:function(){1==e("#jobBasicDetailsPanel").hasClass("in")?e("#jobBasicDetailsPanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):e("#jobBasicDetailsPanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")},validateSubmit:function(){t.missingData.shortPSPopulateResponse.propertyIdList,e(".notifyjs-container").trigger("notify-hide"),void 0;var a,n,o=[],i=!0,l=[],d={},s={};d.candidateId=parseInt(t.candidateId),d.jobPostId=parseInt(t.jobPostId),d.propertyIdList=t.missingData.shortPSPopulateResponse.propertyIdList;var r=e("#jobLocality").val();if(null==r||0==r){i=!1,n="Please select a valid Interview locality.",e.notify(n,"error");
var c={propId:11,message:n,submissionStatus:i};o.push(c)}else d.localityId=parseInt(r);var p=e("#interViewSlot").val();if(t.isInterviewSlotAvailable)if(null==p||"0"==p){i=!1,n="Please select a valid Interview Slot.",e.notify(n,"error");var c={propId:12,message:n,submissionStatus:i};o.push(c)}else d.dateInMillis=parseInt(p.split("_")[0]),d.timeSlotId=parseInt(p.split("_")[1]);if(void 0,e.each(t.missingData.shortPSPopulateResponse.propertyIdList,function(d,r){if(n="",i=!0,0==r){var c=[];e("#document_details").each(function(){e(this).find("input[type=checkbox]").each(function(){var a,l={};a=e(this).attr("id").split("_").slice(-1).pop();var d=e("input#idProofCheckbox_"+a).is(":checked"),s=t.validation.input(a,e("input#idProofValue_"+a).val().trim());if(s&&d&&(l.idProofId=parseInt(a),l.idNumber=e("input#idProofValue_"+a).val().trim()),jQuery.isEmptyObject(l)||c.push(l),!i){var p={propId:r,message:n,submissionStatus:i};o.push(p)}})}),s.idProofWithIdNumberList=c}else if(1==r){var p,m=[];e("#language_details input:checked").map(function(){p=0;var e,t=this.id.split("_")[1],a=this.name,n={};for(var o in m)if(m[o].id==t){e=o,p=1;break}0==p?(n.id=t,n.u=0,n.rw=0,n.s=0,"u"==a&&(n.u=1),m.push(n)):"u"==a&&(m[e].u=1)}).get();if(s.candidateKnownLanguageList=m,!i){s.candidateKnownLanguageList=[];var u={propId:r,message:n,submissionStatus:i};o.push(u)}}else if(2==r){var h=[];e("#assets_details input:checked").each(function(){var t=parseInt(e(this).attr("id").split("_").slice(-1).pop());h.push(t)}),s.assetIdList=h}else if(3==r){var v=null,g=null;if("Day"==e("#dob_day").val()&&"Month"==e("#dob_month").val()&&"Year"==e("#dob_year").val()||("Day"==e("#dob_day").val()||"Month"==e("#dob_month").val()||"Year"==e("#dob_year").val()?i=!1:v=e("#dob_year").val()+"-"+e("#dob_month").val()+"-"+e("#dob_day").val()),null==v||""==v);else{g=String(v);var y=new Date(g),b=new Date,C=new Date(b.setFullYear(b.getFullYear()-18));b=new Date;var f=new Date(b.setFullYear(b.getFullYear()-70));b=new Date,y>=C&&(a=0,i=!1),y<=f&&(a=0,i=!1)}if(s.candidateDob=g,n="Please provide valid Date of birth",!i){e.notify(n,"error"),s.candidateDob=null;var u={propId:r,message:n,submissionStatus:i};o.push(u)}}else if(4==r){0==e('input:radio[name="candidateExperience"]:checked').length;var E,x=0,D=0;if("0"==e('input:radio[name="candidateExperience"]:checked').val())E=0;else{""==e("#candidateTotalExperienceMonth").val()&&""==e("#candidateTotalExperienceYear").val()?E=null:(x=e("#candidateTotalExperienceMonth").val(),D=e("#candidateTotalExperienceYear").val(),x=parseInt(""==x?0:x),D=parseInt(""==D?0:D),E=x+12*D);var I=0==e("#candidateTotalExperienceMonth").val()&&0==e("#candidateTotalExperienceYear").val();e("input[id=candidateExp]").is(":checked")&&I&&(n="Please provide your total years of experience",e.notify(n,"error"),i=!1)}e("input[id=candidateExp]").is(":checked")&&e("#currentlyWorking").is(":checked")&&!e("input[name=addCurrently_Working]").is(":checked")&&(n="Please provide your current company details and mark appropriately.",e.notify(n,"error"),i=!1);var P=1;for(l=[],P;P<=3;P++){var w={};""==e("#companyName_"+P).val()&&e("#workedJobRole_"+P).val()>0&&(n="please provide company name",e.notify("please provide company name","error"),i=!1),""!=e("#companyName_"+P).val()&&e("#workedJobRole_"+P).val()<0&&(n+=" | please provide Job Role",e.notify("please provide Job Role","error"),i=!1),""!=e("#companyName_"+P).val()&&e("#workedJobRole_"+P).val()>0&&(w.companyName=e("#companyName_"+P).val(),w.jobRoleId=e("#workedJobRole_"+P).val(),w.current=e("#addCurrentlyWorking_"+P).is(":checked")),jQuery.isEmptyObject(w)||l.push(w)}if(s.candidateTotalExperience=E,s.pastCompanyList=l,s.candidateIsEmployed=e("#currentlyWorking").is(":checked"),s.extraDetailAvailable=!0,!i){s.candidateTotalExperience=null,s.pastCompanyList=null,s.candidateIsEmployed=null,s.extraDetailAvailable=null;var u={propId:r,message:n,submissionStatus:i};o.push(u)}}else if(5==r){if(s.candidateEducationLevel=e("#candidateHighestEducation").val(),s.candidateDegree=e("#candidateHighestDegree").val(),s.candidateEducationInstitute=e("#candidateEducationInstitute").val(),s.candidateEducationCompletionStatus=parseInt(e('input:radio[name="candidateEducationCompletionStatus"]:checked').val()),("-1"==e("#candidateHighestEducation").val()||e("#candidateHighestEducation").val()>3||null==e('input:radio[name="candidateEducationCompletionStatus"]:checked').val())&&("-1"!=e("#candidateHighestDegree").val()&&""!=e("#candidateEducationInstitute").val()||(s.candidateEducationLevel=null,s.candidateDegree=null,s.candidateEducationInstitute=null,s.candidateEducationCompletionStatus=null)),!i){var u={propId:r,message:n,submissionStatus:i};o.push(u)}}else if(6==r){if(s.candidateGender=e('input:radio[name="gender"]:checked').val(),0==e('input:radio[name="gender"]:checked').length,!i){s.candidateGender=null;var u={propId:r,message:n,submissionStatus:i};o.push(u)}}else if(7==r){var S=e("#candidateLastWithdrawnSalary").val();if(!isNaN(S)&&parseInt(S)>=1e3&&parseInt(S)<=1e5)s.candidateLastWithdrawnSalary=parseInt(e("#candidateLastWithdrawnSalary").val());else if(!i){s.candidateLastWithdrawnSalary=null;var u={propId:r,message:"Please enter a valid 'Last Withdrawn Salary' per month. (Min: 1000, Max: 1,00,000)",submissionStatus:i};o.push(u)}}else if(8==r){var N=e("#candidateHomeLocality").val();if(null==N?s.candidateHomeLocality=null:s.candidateHomeLocality=parseInt(N),!i){var u={propId:r,message:"Please enter a valid Home locality",submissionStatus:i};o.push(u)}}else if(9==r){var k=e("#candidateTimeShiftPref").val();if("-1"==k?s.candidateTimeShiftPref=null:s.candidateTimeShiftPref=e("#candidateTimeShiftPref").val(),!i){var u={propId:r,message:"Please enter a valid time preference",submissionStatus:i};o.push(u)}}}),void 0,0==o.length)return d.updateCandidateDetail=s,this.submit(d),e("#finalSubmitBtn").prop("disabled",!0),setTimeout(function(){e("#finalSubmitBtn").prop("disabled",!1)},7e3),!0},hideAllInputFields:function(){e("#finalSubmitBtn").prop("disabled",!0),t.render.hideContainer()}}};return t.method.init(),t.method.ending(),document.getElementById("finalSubmitBtn").addEventListener("click",function(){t.do.validateSubmit()}),document.getElementById("jobInterviewHead").addEventListener("click",function(){t.do.interviewIconChange()}),document.getElementById("jobLocalityHead").addEventListener("click",function(){t.do.localityIconChange()}),document.getElementById("jobdetailsHead").addEventListener("click",function(){t.do.detailsIconChange()}),document.getElementById("jobBasicDetailsHead").addEventListener("click",function(){t.do.basicDetailsIconChange()}),t}(jQuery);
=======
var applyInShort = (function($) {

    'use strict';
    var appz = {
        isNavBarLoaded: false,
        isInterviewSlotAvailable: false,
        loginStatus: null,
        candidateId: null,
        jobPostId: null,
        missingDataURL: null,
        missingData: null,
        jobTitle: null,
        companyName: null,
        allJobRole: null,
        companyCount: 1,
        factory: {
            parent: null,
            mainDiv: null,
            subDivOne: null,
            subDivTwo: null,
            orderList: null,
            hintMessage: null,

            factory: function() {
                    this.parent = $('#missingInfo');
                    this.mainDiv = document.createElement("div");
                    this.mainDiv.className = "row";
                    this.mainDiv.style = "margin:0";
                    this.parent.append(this.mainDiv);

                    this.subDivOne = document.createElement("div");
                    this.subDivOne.className = "col-sm-12";

                    this.mainDiv.appendChild(this.subDivOne);

                    this.hintMessage = document.createElement("p");
                    this.hintMessage.textContent = "(Optional) Give some more details to apply";
                    this.hintMessage.style = "margin:10px 0;font-weight:bold;font-size:18px";

                    this.subDivOne.appendChild(this.hintMessage);

                    this.subDivTwo = document.createElement("div");
                    this.subDivTwo.style = "padding:0 4%";
                    this.subDivTwo.className = "col-sm-12";
                    this.mainDiv.appendChild(this.subDivTwo);

                    this.orderList = document.createElement("ol");
                    this.orderList.className = "list-group";
                    this.subDivTwo.appendChild(this.orderList);
                } // constructor
        },

        method: {
            init: function() {
                appz.render.hideContainer();
                appz.factory.factory();
                appz.validation.checkIsUserLoggedIn();
                appz.method.prepareRequestParam();
                appz.render.applyJobForm();
            },
            ending: function() {
                appz.render.showContainer();
                $('#footer_inc').load('/footer');
            },
            getUserLogInStatus: function() {
                if (!appz.isNavBarLoaded) {
                    return $.ajax({
                        type: 'GET',
                        url: '/checkNavBar'
                    });
                } else {
                    // new promise says its already there
                    return new Promise(function(resolve, reject) {
                        resolve(null);
                    });
                }
            },
            getMissingData: function() {
                if (appz.missingDataURL != null) {
                    return $.ajax({
                        type: 'GET',
                        url: appz.missingDataURL
                    });
                } else {
                    // new promise says its already there
                    return new Promise(function(resolve, reject) {
                        resolve(null);
                    });
                }
            },
            prepareRequestParam: function() {
                var pathNameList = window.location.pathname.split('-');
                appz.jobPostId = pathNameList[pathNameList.length - 1];
                var searchParam = window.location.search.split("&")[0].split("=");
                appz.candidateId = searchParam[searchParam.length - 1];

                appz.missingDataURL =
                    "/apply/inshort/api/getMissingData?candidateId=" + appz.candidateId +
                    "&jobPostId=" + appz.jobPostId;
            }
        },

        fetch: {
            missingData: function() {
                return new Promise(function(resolve, reject) {
                    appz.method.getMissingData().then(
                        function(returnedData) {
                            if (returnedData != null) {
                                appz.missingData = returnedData;
                            }
                            resolve();
                        },
                        function(xhr, state, error) {
                            reject(error);
                        }
                    )
                });
            }
        },

        render: {
            messageModal: function(message, sec) {
                var title = "Notice";
                $("#messagePromptModal").modal();
                $("#myModalLabel").html(title);
                $("#customMsg").html(message);

                if (sec != null) {
                    appz.render.hideContainer();
                }
            },
            hideContainer: function() {
                $('#card_container').hide();
            },

            showContainer: function() {
                $('#card_container').show();
            },
            hideUI: function(message, sec) {
                appz.render.messageModal(message, null);
                // $.notify(message, 'error');

                $('#card_container').hide();
            },
            applyJobForm: function() {

                var promise = appz.fetch.missingData();

                promise.then(function() {
                    console.log(appz.missingData.statusCode);
                    console.log(appz.missingData.status);
                    $("#finalSubmitBtn").prop("disabled", true);

                    // already applied
                    if (appz.missingData.statusCode == 5) {
                        appz.render.messageModal("You have already applied to this Job.", 4000);
                    }
                    // no job with this id
                    else if (appz.missingData.statusCode == 6) {
                        appz.render.messageModal("Invalid Link. No Job Found.", 4000);
                    }
                    // candidate deactivate
                    else if (appz.missingData.statusCode == 7) {
                        appz.render.messageModal(appz.missingData.message + ". ", 7000);
                    }
                    // success | display ui
                    else if (appz.missingData.statusCode == 4) {

                        $("#finalSubmitBtn").prop("disabled", false);
                        /* render locality card */
                        if (appz.missingData.localityPopulateResponse != null) {

                            appz.render.jobLocalityCard(appz.missingData.localityPopulateResponse);
                        }

                        if (appz.missingData.shortPSPopulateResponse != null && appz.missingData.shortPSPopulateResponse.visible) {
                            appz.render.preScreenCard(appz.missingData.shortPSPopulateResponse);
                        } else {
                            // hide panel
                            $('#preScreenCardDiv').hide();
                        }

                        /* render interview slot card */
                        if (appz.missingData.interviewSlotPopulateResponse != null &&
                            appz.missingData.interviewSlotPopulateResponse.interviewResponse.status == 2 &&
                            appz.missingData.interviewSlotPopulateResponse.interviewSlotMap != null) {
                            appz.render.interviewSlotCard(appz.missingData.interviewSlotPopulateResponse.interviewSlotMap);
                        } else {
                            $('#jobInterviewSlotCardDiv').hide();
                            appz.isInterviewSlotAvailable = false;
                        }

                        console.log(appz.missingData);
                    } else {
                        // something went wrong
                        // hide container

                    }


                }).catch(function(fromReject) {
                    console.log(fromReject);
                });

            },
            jobLocalityCard: function(localityResponse) {
                console.log("rendering jobLocality card");

                var localityMap = localityResponse.localityMap;

                appz.jobTitle = localityResponse.jobTitle + " ";
                appz.companyName = localityResponse.companyName;

                $('#locality_jobNameConfirmation').html(appz.jobTitle);
                $('#locality_companyNameConfirmation').html(appz.companyName);

                if (localityMap != null) {
                    /* add select location hint if locality more the one  */
                    if (Object.keys(localityMap).length > 1) {
                        var option = $('<option value=0></option>').text("Select Location");
                        $('#jobLocality').append(option);
                    }
                    for (var value in localityMap) {
                        var id = value;
                        var title = localityMap[value];
                        var option = $('<option value=' + id + '></option>').text(title);
                        $('#jobLocality').append(option);
                    }
                }
                /* clear mem */
                localityMap = null;
            },
            jobOtherDetailsCard: function(otherDetailsResponse) {
                console.log("rendering jobother deatils card");
                var parent = $("#preScreenCardDiv");

            },
            interviewSlotCard: function(slotMap) {
                console.log("rendering interview slot card");

                if (slotMap == null) {
                    appz.isInterviewSlotAvailable = false;
                    return;
                }

                appz.isInterviewSlotAvailable = true;

                $('#interviewJobTitle').html(appz.jobTitle);
                $('#interviewCompanyName').html(appz.companyName);

                if (slotMap != null) {
                    /* add select interview slot hint if slot is more the one  */
                    if (Object.keys(slotMap).length > 1) {
                        var option = $('<option value=0></option>').text("Select Interview slot");
                        $('#interViewSlot').append(option);
                    }
                    for (var value in slotMap) {
                        var date = slotMap[value].interviewDateMillis;
                        var id = date + "_" + slotMap[value].interviewTimeSlot.slotId;
                        var title = value;
                        var option = $('<option value=' + id + '></option>').text(title);
                        $('#interViewSlot').append(option);
                    }
                }
            },
            preScreenCard: function(ps) {

                // list
                if (ps.documentList != null && ps.documentList.length > 0) {
                    appz.construct._document(ps.documentList);
                }

                if (ps.languageList != null && ps.languageList.length > 0) {
                    appz.construct._language(ps.languageList);
                }

                if (ps.assetList != null && ps.assetList.length > 0) {
                    appz.construct._asset(ps.assetList);
                }

                // booleans
                if (ps.dobMissing != null && ps.dobMissing) {
                    appz.construct._dob();
                }

                if (ps.genderMissing != null && ps.genderMissing) {
                    appz.construct._gender();
                }

                if (ps.salaryMissing != null && ps.salaryMissing) {
                    appz.construct._salary();
                }

                // object
                if (ps.experienceResponse != null && ps.experienceResponse.experienceMissing) {
                    appz.construct._experience(ps.experienceResponse.jobRoleList);
                }

                if (ps.educationResponse != null && ps.educationResponse.educationMissing) {
                    appz.construct._education(ps.educationResponse.educationList, ps.educationResponse.degreeList);
                }
            }
        },

        construct: {

            _document: function(documentList) {
                var firstproperty = document.createElement("li");
                firstproperty.textContent = "Do you have the following document(s) ?";

                var rowBox = document.createElement("div");
                rowBox.className = "row";

                var documentDetails = document.createElement("div");
                documentDetails.className = "col-sm-12 col-md-12";
                documentDetails.id = "document_details";
                documentDetails.style = "padding:2%";

                rowBox.appendChild(documentDetails);
                firstproperty.appendChild(rowBox);

                appz.factory.orderList.appendChild(firstproperty);

                // render doc data
                appz.process.document(documentList);
            },

            _language: function(languageList) {
                /* language html */
                var secondProperty = document.createElement("li");
                secondProperty.textContent = "Do you know following language(s) ?";

                var rowBox = document.createElement("div");
                rowBox.className = "row";

                var languageDetails = document.createElement("div");
                languageDetails.className = "col-sm-12";
                languageDetails.id = "language_details";
                languageDetails.style = "padding:1%;";

                rowBox.appendChild(languageDetails);
                secondProperty.appendChild(rowBox);

                appz.factory.orderList.appendChild(secondProperty);

                // now render language
                appz.process.language(languageList);
            },

            _dob: function() {
                //    age html
                var thirdProperty = document.createElement("li");
                thirdProperty.textContent = "Please mention your date of birth";
                appz.factory.orderList.appendChild(thirdProperty);

                var rowBox = document.createElement("div");
                rowBox.className = "row";

                var ageTitle = document.createElement("div");
                ageTitle.className = "col-sm-5 hidden-xs";
                ageTitle.style = "padding:14px 3%";
                rowBox.appendChild(ageTitle);

                var ageResponse = document.createElement("div");
                ageResponse.className = "col-xs-12 col-sm-6 ";
                ageResponse.style = "padding:1% 2%";
                rowBox.appendChild(ageResponse);

                var ageText = document.createElement("font");
                ageText.textContent = ("Date of birth");
                ageText.style = "font-weight:bold";
                ageTitle.appendChild(ageText);

                var dayCandidate = document.createElement("select");
                dayCandidate.className = "selectDropDown";
                dayCandidate.id = "dob_day";
                dayCandidate.style = "margin:0 2%";
                ageResponse.appendChild(dayCandidate);

                var dayOption = document.createElement("option");
                dayOption.textContent = "Day";
                dayCandidate.appendChild(dayOption);

                var i;
                for (i = 1; i <= 31; i++) {
                    var option = document.createElement("option");
                    option.value = ('0' + i).slice(-2);
                    option.textContent = i;
                    dayCandidate.appendChild(option);
                }

                var monthCandidate = document.createElement("select");
                monthCandidate.className = "selectDropDown";
                monthCandidate.id = "dob_month";
                monthCandidate.style = "margin:0 2%";
                ageResponse.appendChild(monthCandidate);

                var monthOption = document.createElement("option");
                monthOption.textContent = "Month";
                monthCandidate.appendChild(monthOption);

                for (i = 1; i <= 12; i++) {
                    option = document.createElement("option");
                    option.value = ('0' + i).slice(-2);
                    var monthName;
                    switch (i) {
                        case 1:
                            monthName = "January";
                            break;
                        case 2:
                            monthName = "February";
                            break;
                        case 3:
                            monthName = "March";
                            break;
                        case 4:
                            monthName = "April";
                            break;
                        case 5:
                            monthName = "May";
                            break;
                        case 6:
                            monthName = "June";
                            break;
                        case 7:
                            monthName = "July";
                            break;
                        case 8:
                            monthName = "August";
                            break;
                        case 9:
                            monthName = "September";
                            break;
                        case 10:
                            monthName = "October";
                            break;
                        case 11:
                            monthName = "November";
                            break;
                        case 12:
                            monthName = "December";
                            break;
                    }
                    option.textContent = monthName;
                    monthCandidate.appendChild(option);
                }

                var yearCandidate = document.createElement("select");
                yearCandidate.className = "selectDropDown";
                yearCandidate.id = "dob_year";
                yearCandidate.style = "margin:0 2%";
                ageResponse.appendChild(yearCandidate);

                var yearOption = document.createElement("option");
                yearOption.textContent = "Year";
                yearCandidate.appendChild(yearOption);

                for (i = new Date().getFullYear() - 19; i >= new Date().getFullYear() - 80; i--) {
                    option = document.createElement("option");
                    option.value = i;
                    option.textContent = i;
                    yearCandidate.appendChild(option);
                }

                thirdProperty.appendChild(rowBox);
                appz.factory.orderList.appendChild(thirdProperty);

                // nothing to process
            },

            _experience: function(jobRoleList) {
                // currently working
                var fourthproperty = document.createElement("li");
                fourthproperty.textContent = "Do you have work experience?";

                var rowBox = document.createElement("div");
                rowBox.className = "row";

                var rowBoxDetails = document.createElement("div");
                rowBoxDetails.className = "row";
                rowBoxDetails.style = "display: none;";
                rowBoxDetails.id = "companyDetailsCapture";


                var allworkedCompanyDetails = document.createElement("p");
                allworkedCompanyDetails.textContent = ("Where all have you worked before? ");
                allworkedCompanyDetails.style = "margin-left:10px";
                rowBoxDetails.appendChild(allworkedCompanyDetails);

                var allworkedCompanyDetailsDiv = document.createElement("div");
                allworkedCompanyDetailsDiv.className = "row";
                allworkedCompanyDetailsDiv.id = "row_1";
                allworkedCompanyDetailsDiv.style = "margin:4px 0";
                rowBoxDetails.appendChild(allworkedCompanyDetailsDiv);


                var allCompanyNameCol = document.createElement("div");
                allCompanyNameCol.className = "col-sm-3";
                allCompanyNameCol.id = "companyName";
                allworkedCompanyDetailsDiv.appendChild(allCompanyNameCol);

                var allworkedJobRoleCol = document.createElement("div");
                allworkedJobRoleCol.className = "col-sm-3";
                allworkedJobRoleCol.id = "workedJobRole";
                allworkedCompanyDetailsDiv.appendChild(allworkedJobRoleCol);

                var allWorkedCurrentltyCol = document.createElement("div");
                allWorkedCurrentltyCol.className = "col-sm-4"
                allWorkedCurrentltyCol.id = "workedCurrently";
                allWorkedCurrentltyCol.style = "padding-top:1%;text-align:center";
                allworkedCompanyDetailsDiv.appendChild(allWorkedCurrentltyCol);

                var allWorkedAddMoreCol = document.createElement("div");
                allWorkedAddMoreCol.className = "col-sm-2";
                allworkedCompanyDetailsDiv.appendChild(allWorkedAddMoreCol);

                var addCompanyName = document.createElement("input");
                addCompanyName.className = "form-control";
                addCompanyName.type = "text";
                addCompanyName.placeholder = "Company Name";
                addCompanyName.id = "companyName_1";
                addCompanyName.onchange = applyInShort.validation.enableAddBtn;
                allCompanyNameCol.appendChild(addCompanyName);

                var addJobRole = document.createElement("input");
                addJobRole.id = "workedJobRole_1";
                addJobRole.onchange = applyInShort.validation.enableAddBtn;
                allworkedJobRoleCol.appendChild(addJobRole);

                var addCurrentlyWorking = document.createElement("input");
                addCurrentlyWorking.type = ("radio");
                addCurrentlyWorking.style = "margin:0 4%;";
                addCurrentlyWorking.id = "addCurrentlyWorking_1";
                addCurrentlyWorking.name = ("addCurrently_Working");
                addCurrentlyWorking.setAttribute("disabled", true);
                addCurrentlyWorking.value = (0);
                allWorkedCurrentltyCol.appendChild(addCurrentlyWorking);

                var addMore = document.createElement("button");
                addMore.className = "form-control";
                addMore.type = "button";
                addMore.setAttribute("disabled", true);
                addMore.id = "addCurrentlyWorkingBtn_1";
                addMore.value = "Add";
                addMore.name = "Add";
                addMore.style = "background:#09ac58;color:#fff;font-size:12px";
                addMore.textContent = "Add Company";
                addMore.onclick = applyInShort.aux.addmoreCompany;

                allWorkedAddMoreCol.appendChild(addMore);
                addCurrentlyWorking.type = ("radio");
                addCurrentlyWorking.style = "margin:0 4%";
                // addCurrentlyWorking.id = ("addCurrentlyWorking_" + appz.companyCount);
                addCurrentlyWorking.name = ("addCurrently_Working");
                allWorkedCurrentltyCol.appendChild(addCurrentlyWorking);

                var addCurrentlyWorkingLabel = document.createElement("label");
                addCurrentlyWorkingLabel.textContent = ("Is this your current company");
                addCurrentlyWorkingLabel.for = ("addCurrentlyWorking_1");
                allWorkedCurrentltyCol.appendChild(addCurrentlyWorkingLabel);

                // render all jobs here
                var experienceOption = document.createElement("div");
                experienceOption.className = "col-xs-12 col-md-12";
                experienceOption.style = "padding:2% 0;";
                rowBox.appendChild(experienceOption);

                var experienceQuestion = document.createElement("div");
                experienceQuestion.className = "col-xs-12 col-sm-5";
                experienceQuestion.id = "experienceQuestion";
                experienceQuestion.style = "padding:2% 3%;display:none";
                rowBox.appendChild(experienceQuestion);

                var experienceText = document.createElement("p");
                experienceText.textContent = ("How many year(s) of work experience do you have?");
                experienceQuestion.appendChild(experienceText);

                var experienceDuration = document.createElement("div");
                experienceDuration.className = "col-xs-12 col-md-6";
                experienceDuration.id = "experienceDuration";
                experienceDuration.style = "display:none;padding:1%";
                rowBox.appendChild(experienceDuration);

                var colDetailsFresher = document.createElement("div");
                colDetailsFresher.className = "col-xs-12 col-sm-3 ";
                experienceOption.appendChild(colDetailsFresher);

                var colDetailsExperience = document.createElement("div");
                colDetailsExperience.className = "col-xs-12 col-sm-4";
                experienceOption.appendChild(colDetailsExperience);

                var radioFresher = document.createElement("input");
                radioFresher.type = ("radio");
                radioFresher.id = ("candidateFresh");
                radioFresher.name = ("candidateExperience");
                radioFresher.value = (0);
                radioFresher.onchange = applyInShort.aux.hideExperienceCaptureDiv;
                colDetailsFresher.appendChild(radioFresher);

                var labelFresher = document.createElement("label");
                labelFresher.textContent = ("I'm a fresher");
                labelFresher.for = ("candidateFresh");
                colDetailsFresher.appendChild(labelFresher);

                var radioExperience = document.createElement("input");
                radioExperience.type = ("radio");
                radioExperience.id = ("candidateExp");
                radioExperience.name = ("candidateExperience");
                radioExperience.value = (1);
                radioExperience.onchange = applyInShort.aux.showExperienceCaptureDiv;
                colDetailsExperience.appendChild(radioExperience);

                var labelExperience = document.createElement("label");
                labelExperience.textContent = ("I have work experience");
                labelExperience.for = ("candidateExp");
                colDetailsExperience.appendChild(labelExperience);


                var textYear = document.createElement("input");
                textYear.className = "form-control";
                textYear.type = ("number");
                textYear.placeholder = "Years";
                textYear.style = "margin-top:1%";
                textYear.oninput = applyInShort.aux.showExperienceBox;
                textYear.id = ("candidateTotalExperienceYear");
                experienceDuration.appendChild(textYear);

                var textMonths = document.createElement("input");
                textMonths.className = "form-control";
                textMonths.type = ("number");
                textMonths.placeholder = "Months";
                textMonths.id = ("candidateTotalExperienceMonth");
                textMonths.oninput = applyInShort.aux.showExperienceBox;
                experienceDuration.appendChild(textMonths);


                var experienceCurrently = document.createElement("div");
                experienceCurrently.className = "col-xs-12 col-md-10";
                experienceCurrently.id = "experienceCurrently";
                experienceCurrently.style = "padding:2% 3%;display:none";
                rowBox.appendChild(experienceCurrently);

                var currentlyWorking = document.createElement("p");
                currentlyWorking.textContent = ("Are you currently working : ");
                experienceCurrently.appendChild(currentlyWorking);

                var checkboxCurrentlyWorking = document.createElement("input");
                checkboxCurrentlyWorking.id = ("currentlyWorking");
                checkboxCurrentlyWorking.type = ("checkbox");
                checkboxCurrentlyWorking.style = "margin:0 2% 0 4%";
                checkboxCurrentlyWorking.onclick = applyInShort.aux.disableCurrentCompanyOption;
                currentlyWorking.appendChild(checkboxCurrentlyWorking);

                var labelYes = document.createElement("label");
                labelYes.textContent = ("Yes");
                labelYes.for = ("currentlyWorking");
                currentlyWorking.appendChild(labelYes);

                fourthproperty.appendChild(rowBox);
                fourthproperty.appendChild(rowBoxDetails);

                appz.factory.orderList.appendChild(fourthproperty);

                appz.process.experience(jobRoleList, appz.companyCount);
            },

            _education: function(educationList, degreeList) {
                /// education
                var fifthproperty = document.createElement("li");
                fifthproperty.textContent = "Please provide your education details";

                var rowBoxHEQ = document.createElement("div");
                rowBoxHEQ.className = "row";
                fifthproperty.appendChild(rowBoxHEQ);

                var rowBoxSuccess = document.createElement("div");
                rowBoxSuccess.className = "row";
                fifthproperty.appendChild(rowBoxSuccess);

                var rowBoxHED = document.createElement("div");
                rowBoxHED.className = "row";
                fifthproperty.appendChild(rowBoxHED);

                var rowBoxLastInstitute = document.createElement("div");
                rowBoxLastInstitute.className = "row";
                fifthproperty.appendChild(rowBoxLastInstitute);

                //Highest Education Qualification

                var educationDetailsHEQ = document.createElement("div");
                educationDetailsHEQ.className = "col-xs-12 col-sm-5";
                educationDetailsHEQ.id = "education_details";
                rowBoxHEQ.appendChild(educationDetailsHEQ);

                var educationResponseHEQ = document.createElement("div");
                educationResponseHEQ.className = "col-xs-12 col-sm-6";
                educationResponseHEQ.style = "padding:1%";
                rowBoxHEQ.appendChild(educationResponseHEQ);

                var educationTitleHEQ = document.createElement("font");
                educationTitleHEQ.textContent = ("Highest education qualification? ");
                educationTitleHEQ.style = "font-weight:bold;";
                educationDetailsHEQ.appendChild(educationTitleHEQ);

                var educationOptionHEQ = document.createElement("select");
                educationOptionHEQ.id = "candidateHighestEducation";
                educationResponseHEQ.appendChild(educationOptionHEQ);

                //Highest Education Successfully Complete

                var educationDetailsSuccess = document.createElement("div");
                educationDetailsSuccess.className = "col-xs-12 col-sm-5";
                educationDetailsSuccess.id = "education_details";
                rowBoxSuccess.appendChild(educationDetailsSuccess);

                var educationResponseSuccess = document.createElement("div");
                educationResponseSuccess.className = "col-xs-12 col-sm-6";
                educationResponseSuccess.style = "padding-top:3%";
                rowBoxSuccess.appendChild(educationResponseSuccess);

                var educationTitleSuccess = document.createElement("font");
                educationTitleSuccess.textContent = ("Have you successfully completed this course? ");
                educationTitleSuccess.style = "font-weight:bold;";
                educationDetailsSuccess.appendChild(educationTitleSuccess);

                var successYes = document.createElement("input");
                successYes.type = ("radio");
                successYes.style = "margin:0 4% 0 0";
                successYes.id = ("successYes");
                successYes.name = ("candidateEducationCompletionStatus");
                successYes.value = (1);
                educationResponseSuccess.appendChild(successYes);

                var labelYesSuccess = document.createElement("label");
                labelYesSuccess.textContent = ("Yes");
                labelYesSuccess.for = ("successConformationHEQ");
                educationResponseSuccess.appendChild(labelYesSuccess);

                var successNo = document.createElement("input");
                successNo.type = ("radio");
                successNo.style = "margin:0 4% 0 8%";
                successNo.id = ("successNo");
                successNo.name = ("candidateEducationCompletionStatus");
                successNo.value = (0);
                educationResponseSuccess.appendChild(successNo);

                var labelNoSuccess = document.createElement("label");
                labelNoSuccess.textContent = ("No");
                labelNoSuccess.for = ("successConformationHEQ");
                educationResponseSuccess.appendChild(labelNoSuccess);

                //Highest Education Degree

                var educationDetailsHED = document.createElement("div");
                educationDetailsHED.className = "col-xs-12 col-sm-5";
                educationDetailsHED.id = "education_details";
                rowBoxHED.appendChild(educationDetailsHED);

                var educationResponseHED = document.createElement("div");
                educationResponseHED.className = "col-xs-12 col-sm-6";
                educationResponseHED.id = "education_details";
                educationResponseHED.style = "padding:1%";
                rowBoxHED.appendChild(educationResponseHED);

                var educationTitleHED = document.createElement("font");
                educationTitleHED.textContent = ("Highest education degree? ");
                educationTitleHED.style = "font-weight:bold;";
                educationDetailsHED.appendChild(educationTitleHED);

                var educationOptionHED = document.createElement("select");
                educationOptionHED.id = "candidateHighestDegree";
                educationResponseHED.appendChild(educationOptionHED);

                //Last Attended Institute

                var educationDetailsInstitute = document.createElement("div");
                educationDetailsInstitute.className = "col-xs-12 col-sm-5";
                educationDetailsInstitute.style = "padding:2% 3%";
                rowBoxLastInstitute.appendChild(educationDetailsInstitute);
                var educationResponseInstitute = document.createElement("div");

                educationResponseInstitute.className = "col-xs-12 col-sm-6";
                educationResponseInstitute.style = "padding:1%";
                rowBoxLastInstitute.appendChild(educationResponseInstitute);

                var educationtitleInstitute = document.createElement("font");
                educationtitleInstitute.textContent = ("Last attended education institute?");
                educationtitleInstitute.style = "margin-top:8px;font-weight:bold";
                educationDetailsInstitute.appendChild(educationtitleInstitute);

                var educationtextInstitute = document.createElement("input");
                educationtextInstitute.className = "form-control";
                educationtextInstitute.type = ("text");
                educationtextInstitute.placeholder = ("School/Institute Name");
                educationtextInstitute.id = ("candidateEducationInstitute");
                educationResponseInstitute.appendChild(educationtextInstitute);

                appz.factory.orderList.appendChild(fifthproperty);

                // render education
                appz.process.degree(degreeList);
                appz.process.education(educationList);
            },

            _gender: function() {
                var sixthproperty = document.createElement("li");
                sixthproperty.textContent = "Please mention your gender ";

                var rowBox = document.createElement("div");
                rowBox.className = "row";

                var genderDetails = document.createElement("div");
                genderDetails.className = "col-sm-12 col-md-12";
                genderDetails.id = "gender_details";
                genderDetails.style = "padding:2% 0;";

                var colGenderDetailsMale = document.createElement("div");
                colGenderDetailsMale.className = "col-xs-6 col-sm-3";
                genderDetails.appendChild(colGenderDetailsMale);

                var colGenderDetailsFemale = document.createElement("div");
                colGenderDetailsFemale.className = "col-xs-6 col-sm-3";
                genderDetails.appendChild(colGenderDetailsFemale);

                var labelMale = document.createElement("label");
                labelMale.textContent = ("Male");
                labelMale.for = ("genderMale");
                var radioMale = document.createElement("input");
                radioMale.type = ("radio");
                radioMale.style = "margin:0 8%";
                radioMale.id = ("genderMale");
                radioMale.name = ("gender");
                radioMale.value = (0);

                var labelFemale = document.createElement("label");
                labelFemale.textContent = ("Female");
                labelFemale.for = ("genderFemale");
                var radioFemale = document.createElement("input");
                radioFemale.type = ("radio");
                radioFemale.style = "margin:0 8%";
                radioFemale.id = ("genderFemale");
                radioFemale.name = ("gender");
                radioFemale.value = (1);

                colGenderDetailsMale.appendChild(radioMale);
                colGenderDetailsMale.appendChild(labelMale);
                colGenderDetailsFemale.appendChild(radioFemale);
                colGenderDetailsFemale.appendChild(labelFemale);
                rowBox.appendChild(genderDetails);
                sixthproperty.appendChild(rowBox);
                appz.factory.orderList.appendChild(sixthproperty);
            },

            _salary: function() {
                var seventhproperty = document.createElement("li");
                seventhproperty.textContent = "Please provide your salary details";

                var rowBox = document.createElement("div");
                rowBox.className = "row";

                var salaryDetails = document.createElement("div");
                salaryDetails.className = "col-xs-12 col-sm-5";
                salaryDetails.id = "salary_details";

                var salaryResponse = document.createElement("div");
                salaryResponse.className = "col-xs-12 col-sm-6";
                salaryResponse.id = "salary_response";
                salaryResponse.style = "padding:1%";

                var titleSalary = document.createElement("font");
                titleSalary.textContent = "Current/last drawn salary";
                titleSalary.style = "margin-top:8px;font-weight:bold";
                salaryDetails.appendChild(titleSalary);

                var textSalary = document.createElement("input");
                textSalary.className = "form-control";
                textSalary.type = "number";
                textSalary.placeholder = "Salary InHand/Month";
                textSalary.id = ("candidateLastWithdrawnSalary");
                textSalary.oninput = applyInShort.validation.salary;
                salaryResponse.appendChild(textSalary);

                var salaryInvalid = document.createElement("p");
                salaryInvalid.id = "invalidSalaryNotification";
                salaryInvalid.textContent = "Invalid Salary Input Please enter a valid 'Last Withdrawn Salary' (Ex: 15000) in a month";
                salaryInvalid.style = "color:#ff1744;display:none;margin:1px 0 1px 2px;font-size:12px";
                salaryResponse.appendChild(salaryInvalid);

                rowBox.appendChild(salaryDetails);
                rowBox.appendChild(salaryResponse);
                seventhproperty.appendChild(rowBox);
                appz.factory.orderList.appendChild(seventhproperty);
            },

            _locality: function() {
                var eigthproperty = document.createElement("li");
                eigthproperty.textContent = "Which is your home locality? ";

                var rowBox = document.createElement("div");
                rowBox.className = "row";

                var localityDetails = document.createElement("div");
                localityDetails.className = "col-sm-12 col-md-12";
                localityDetails.id = "locality_details";
                localityDetails.style = "padding:2%";

                var titleLocality = document.createElement("p");
                titleLocality.textContent = ("Locality");
                titleLocality.style = "margin-left:18px;font-weight:bold";

                var allLocalityDetail = document.createElement("input");
                allLocalityDetail.id = "candidateHomeLocality";
                eigthproperty.appendChild(allLocalityDetail);

                // render locality

                titleLocality.appendChild(allLocalityDetail);
                localityDetails.appendChild(titleLocality);
                rowBox.appendChild(localityDetails);
                eigthproperty.appendChild(rowBox);
                appz.factory.orderList.appendChild(eigthproperty);
            },

            _asset: function(assetList) {
                // asset html
                var ninthProperty = document.createElement("li");
                ninthProperty.textContent = "Do you own any of the following ?";

                var rowBox = document.createElement("div");
                rowBox.className = "row";

                var assetsDetails = document.createElement("div");
                assetsDetails.className = "col-md-12";
                assetsDetails.id = "assets_details";
                assetsDetails.style = "padding:1%";

                rowBox.appendChild(assetsDetails);
                ninthProperty.appendChild(rowBox);

                appz.factory.orderList.appendChild(ninthProperty);

                // render asset here
                appz.process.asset(assetList);
            }
        },

        process: {
            document: function(documentList) {

                if (documentList != null && documentList.length > 0) {

                    var responseInput = $('#document_details');

                    documentList.forEach(function(idProof) {
                        console.log(idProof);
                        // to do check idproof obj here
                        var documentResponseCol = document.createElement("div");
                        documentResponseCol.className = "col-sm-6 col-md-4";
                        documentResponseCol.id = "document_response_checkbox";
                        responseInput.append(documentResponseCol);

                        var documentResponseRow1 = document.createElement("div");
                        documentResponseRow1.className = "row";
                        documentResponseRow1.id = "document_response_checkbox";
                        documentResponseRow1.style = "margin:0";
                        documentResponseCol.appendChild(documentResponseRow1);

                        var documentResponseRow2 = document.createElement("div");
                        documentResponseRow2.className = "row";
                        documentResponseRow2.id = "document_response_input_" + idProof.idProofId;
                        documentResponseRow2.style = "padding:2% 2%;display:none;margin:0";
                        documentResponseCol.appendChild(documentResponseRow2);

                        var documentBtnGroup = document.createElement("div");
                        documentBtnGroup.className = "btn-group";
                        documentBtnGroup.style = "width:100%";
                        documentBtnGroup.setAttribute('data-toggle', 'buttons');
                        documentResponseRow1.appendChild(documentBtnGroup);

                        var documentLabel = document.createElement("label");
                        documentLabel.className = "btn btn-custom-check";
                        documentLabel.style = "margin:6px 0px;width:100%";
                        documentLabel.id = "label_" + idProof.idProofId;
                        documentLabel.textContent = idProof.idProofName;
                        documentBtnGroup.appendChild(documentLabel);

                        var documentCheckMatch = document.createElement("input");
                        documentCheckMatch.id = "idProofCheckbox_" + idProof.idProofId;
                        documentCheckMatch.type = "checkbox";
                        documentCheckMatch.name = "document";
                        documentCheckMatch.onchange = function() {
                            if ($("#idProofCheckbox_" + idProof.idProofId).prop('checked') == true) {
                                console.log("Show");
                                $("#document_response_input_" + idProof.idProofId).css("display", "block");
                            } else {
                                console.log("Hide");
                                $("#document_response_input_" + idProof.idProofId).css("display", "none");
                                $("#Invalid_" + idProof.idProofId).css("display", "none");
                            }

                        };
                        documentLabel.appendChild(documentCheckMatch);

                        var alertInvalid = document.createElement("p");
                        alertInvalid.id = "Invalid_" + idProof.idProofId;
                        alertInvalid.textContent = "(Invalid Number)";
                        alertInvalid.style = "color:#ff1744;display:none;margin:1px 0 1px 42px;font-size:12px";
                        documentResponseRow1.appendChild(alertInvalid);

                        var idProofNumberTd = document.createElement("p");
                        idProofNumberTd.id = "idProofValueTd_" + idProof.idProofId;
                        documentResponseRow2.appendChild(idProofNumberTd);

                        var ip = document.createElement("input");
                        ip.className = "form-control";
                        ip.setAttribute("type", "text");
                        ip.oninput = applyInShort.validation.input;
                        ip.placeholder = idProof.idProofName + " Number";
                        ip.setAttribute("id", "idProofValue_" + idProof.idProofId);
                        idProofNumberTd.appendChild(ip);

                    });
                }
            },

            language: function(languageList) {
                var arrayLang = [];
                var arrayLangId = [];

                languageList.forEach(function(language) {
                    console.log(language);
                    var id = language.languageId;
                    var name = language.languageName;
                    var item = {};
                    item["id"] = id;
                    item["name"] = name;
                    arrayLang.push(name);
                    arrayLangId.push(id);
                    var option = $('<option value=' + id + '></option>').text(name);
                });
                this.populateLanguages(arrayLang.reverse(), arrayLangId.reverse());
            },

            populateLanguages: function(l, lId) {
                var i;
                var table = document.getElementById("language_details");
                for (i = 0; i < l.length; i++) {
                    if (lId[i] == 1 || lId[i] == 2 || lId[i] == 3 || lId[i] == 4 || lId[i] == 5) {
                        var colLanguageTitle = document.createElement("div");
                        colLanguageTitle.className = "col-xs-12 col-sm-4";
                        colLanguageTitle.style = "padding-top:8px";
                        table.appendChild(colLanguageTitle);

                        colLanguageTitle.innerHTML = "<div class=\"btn-group\" style=\"margin:6px 0px;width:100%\" data-toggle=\"buttons\">" +
                            "<label class=\"btn btn-custom-check\"style=\"width:100%\" >" +
                            "<input id=\"lang_" + lId[i] + "\" type=\"checkbox\" name=\"u\" value=0 >" + l[i] +
                            "</label>" +
                            "</div>";
                    }
                }
            },

            experience: function(jobRoleArray, id) {
                if (jobRoleArray != null && jobRoleArray.length > 0) {

                    if (appz.allJobRole == null) {
                        appz.allJobRole = [];
                        jobRoleArray.forEach(function(jobRole) {
                            var label = jobRole.jobName;
                            var value = parseInt(jobRole.jobRoleId);
                            var item = {};
                            item["id"] = value;
                            item["name"] = label;
                            appz.allJobRole.push(item);
                        });
                    }
                    console.log("id: " + id + " allJobRole size: " + applyInShort.allJobRole.length);
                    $("#workedJobRole_" + id).tokenInput(applyInShort.allJobRole, {
                        theme: "facebook",
                        placeholder: "Job Role?",
                        hintText: "Select job role",
                        minChars: 0,
                        tokenLimit: 1,
                        zindex: 9999,
                        preventDuplicates: true
                    });
                    applyInShort.aux.disableCurrentCompanyOption;
                }
            },

            education: function(returnedEdu) {
                if (returnedEdu != null) {
                    var data = [{
                        label: "None Selected",
                        value: -1
                    }];

                    returnedEdu.forEach(function(education) {
                        var opt = {
                            label: education.educationName,
                            value: parseInt(education.educationId)
                        };
                        data.push(opt);
                    });

                    var selectList = $('#candidateHighestEducation');
                    selectList.multiselect({
                        nonSelectedText: 'None Selected',
                        includeSelectAllOption: true,
                        maxHeight: 300
                    });
                    selectList.multiselect('dataprovider', data);
                    selectList.multiselect('rebuild');
                }
            },

            degree: function(degreeList) {
                if (degreeList != null) {
                    var data = [{
                        label: "None Selected",
                        value: -1
                    }];

                    degreeList.forEach(function(degree) {
                        var opt = {
                            label: degree.degreeName,
                            value: parseInt(degree.degreeId)
                        };
                        data.push(opt);
                    });

                    var selectList = $('#candidateHighestDegree');
                    selectList.multiselect({
                        nonSelectedText: 'None Selected',
                        includeSelectAllOption: true,
                        maxHeight: 300
                    });
                    selectList.multiselect('dataprovider', data);
                    selectList.multiselect('rebuild');
                }
            },

            asset: function(assetList) {
                var selectList = $('#assets_details');

                assetList.forEach(function(asset) {
                    console.log(asset);

                    var assetsResponseCol = document.createElement("div");
                    assetsResponseCol.className = "col-xs-12 col-sm-3 col-md-3";
                    assetsResponseCol.style = "padding-top:8px";
                    selectList.append(assetsResponseCol);


                    var assetsBtnGroup = document.createElement("div");
                    assetsBtnGroup.className = "btn-group";
                    assetsBtnGroup.style = "margin:6px 0px";
                    assetsBtnGroup.setAttribute('data-toggle', 'buttons');
                    assetsResponseCol.appendChild(assetsBtnGroup);

                    var assetsLabel = document.createElement("label");
                    assetsLabel.className = "btn btn-custom-check";
                    assetsLabel.textContent = asset.assetTitle;
                    assetsBtnGroup.appendChild(assetsLabel);

                    var assetsCheckMatch = document.createElement("input");
                    assetsCheckMatch.id = "assetsCheckboxId_" + asset.assetId;
                    assetsCheckMatch.type = "checkbox";
                    assetsCheckMatch.name = "document";
                    assetsLabel.appendChild(assetsCheckMatch);

                });
            },

        },

        validation: {
            checkIsUserLoggedIn: function() {
                var promise = new Promise(function(resolve, reject) {
                    appz.method.getUserLogInStatus().then(
                        function(returnedData) {
                            if (returnedData != null) {
                                appz.loginStatus = returnedData;
                            }
                            resolve();
                        },
                        function(xhr, state, error) {
                            reject(error);
                        }
                    )
                });
                promise.then(function() {
                    if (appz.loginStatus == '1') {
                        $(".jobApplyBtnV2").show();
                        $("#incentiveSection").hide();
                    } else if (appz.loginStatus == '2') {
                        $(".jobApplyBtnV2").hide();
                        $("#incentiveSection").show();
                    } else {
                        $("#incentiveSection").hide();
                    }
                    appz.isNavBarLoaded = true;
                }).catch(function(fromReject) {
                    console.log(fromReject);
                });
            },
            input: function(idProofId, value) {
                if (idProofId == null || value == null) {
                    idProofId = this.id.split("_")[1];
                    value = this.value;
                };
                if (!$('input#idProofCheckbox_' + idProofId).is(':checked')) {
                    return true;
                }
                /*else if($('input#idProofValue_'+idProofId).val().trim() == ""){
                                $("#Invalid_" + idProofId).css("display", "block");
                                return false;
                                } else {
                                $("#Invalid_" + idProofId).css("display", "none");
                                }*/
                // if(value == "") {
                //     $("#Invalid_" + idProofId).css("display", "none");
                //     return true;
                // }
                // aadhaar validation
                if (idProofId == 3) {
                    if (!validateAadhar(value)) {
                        $("#Invalid_" + idProofId).css("display", "block");
                        return false;
                    } else {
                        $("#Invalid_" + idProofId).css("display", "none");
                        return true;
                    }
                } else if (idProofId == 1) {
                    if (!validateDL(value)) {
                        $("#Invalid_" + idProofId).css("display", "block");
                        return false;
                    } else {
                        $("#Invalid_" + idProofId).css("display", "none");
                        return true;
                    }
                } else if (idProofId == 2) {
                    if (!validatePASSPORT(value)) {
                        $("#Invalid_" + idProofId).css("display", "block");
                        return false;
                    } else {
                        $("#Invalid_" + idProofId).css("display", "none");
                        return true;
                    }
                } else if (idProofId == 4) {
                    if (!validatePAN(value)) {
                        $("#Invalid_" + idProofId).css("display", "block");
                        return false;
                    } else {
                        $("#Invalid_" + idProofId).css("display", "none");
                        return true;
                    }
                } else {
                    return true;
                }
            },
            salary: function() {
                var salary = $('#candidateLastWithdrawnSalary').val();
                if (!isNaN(salary) && parseInt(salary) >= 1000 && parseInt(salary) <= 99000) {
                    $("#invalidSalaryNotification").css("display", "none");
                } else {
                    $("#invalidSalaryNotification").css("display", "block");
                }
            },
            enableAddBtn: function() {
                var id = this.id.split("_")[1];
                if ($("#companyName_" + id).val() == "" || $("#workedJobRole_" + id).val() == "") {
                    $("#addCurrentlyWorkingBtn_" + id).prop("disabled", true);
                } else {
                    $("#addCurrentlyWorkingBtn_" + id).prop("disabled", false);
                }
            }
        },
        aux: {
            hideExperienceCaptureDiv: function() {
                if ($("#candidateFresh").is(":checked")) {
                    $("#experienceDuration").css("display", "none");
                    $("#experienceQuestion").css("display", "none");
                    $("#experienceCurrently").css("display", "none");
                    $('#companyDetailsCapture').hide();
                }
            },

            showExperienceCaptureDiv: function() {
                if ($("#candidateExp").is(":checked")) {
                    $("#experienceDuration").css("display", "block");
                    $("#experienceQuestion").css("display", "block");
                }
            },

            showExperienceBox: function() {
                var yearValue = $("#candidateTotalExperienceYear").val();
                var monthValue = $("#candidateTotalExperienceMonth").val();
                if (!isNaN(yearValue) && parseInt(yearValue) > 0 || !isNaN(monthValue) && parseInt(monthValue) > 0) {
                    $("#companyDetailsCapture").css("display", "block");
                    $("#experienceCurrently").css("display", "block");
                } else {
                    $("#companyDetailsCapture").css("display", "none");
                    $("#experienceCurrently").css("display", "none");
                }
            },

            disableCurrentCompanyOption: function() {
                if (!$("#currentlyWorking").is(":checked")) {
                    var radios = document.getElementsByName('addCurrently_Working');
                    for (var i = 0; i < radios.length; i++) {
                        radios[i].disabled = true;
                        radios[i].checked = false;
                    }
                    // document.getElementsByName("addCurrently_Working").disabled = true;
                    //$("#addCurrentlyWorking").prop("disabled",true);
                } else {
                    if ($("#currentlyWorking").is(":checked")) {
                        var radios = document.getElementsByName('addCurrently_Working');
                        for (var i = 0; i < radios.length; i++) {
                            radios[i].disabled = false;
                        }
                        // $("#addCurrentlyWorking").prop("disabled",false);
                    }
                }
            },

            addmoreCompany: function() {
                console.log(appz.compyCount);
                if (appz.companyCount < 3) {
                    appz.companyCount++;
                    var allworkedCompanyDetailsDiv = document.createElement("div");
                    allworkedCompanyDetailsDiv.className = "row";
                    allworkedCompanyDetailsDiv.id = "row_" + appz.companyCount;
                    allworkedCompanyDetailsDiv.style = "margin:4px 0";

                    var allCompanyNameCol = document.createElement("div");
                    allCompanyNameCol.className = "col-sm-3";
                    allCompanyNameCol.id = "companyName";
                    allworkedCompanyDetailsDiv.appendChild(allCompanyNameCol);

                    var allworkedJobRoleCol = document.createElement("div");
                    allworkedJobRoleCol.className = "col-sm-3";
                    allworkedJobRoleCol.id = "workedJobRole";
                    allworkedCompanyDetailsDiv.appendChild(allworkedJobRoleCol);

                    var allWorkedCurrentltyCol = document.createElement("div");
                    allWorkedCurrentltyCol.className = "col-sm-4";
                    allWorkedCurrentltyCol.id = "workedCurrently";
                    allWorkedCurrentltyCol.style = "padding-top:1%;text-align:center";
                    allworkedCompanyDetailsDiv.appendChild(allWorkedCurrentltyCol);

                    var allWorkedAddMoreCol = document.createElement("div");
                    allWorkedAddMoreCol.className = "col-sm-2";
                    allworkedCompanyDetailsDiv.appendChild(allWorkedAddMoreCol);

                    var addCompanyName = document.createElement("input");
                    addCompanyName.className = "form-control";
                    addCompanyName.type = ("text");
                    addCompanyName.placeholder = ("Company Name");
                    addCompanyName.id = ("companyName_" + appz.companyCount);
                    addCompanyName.onchange = applyInShort.validation.enableAddBtn;
                    allCompanyNameCol.appendChild(addCompanyName);

                    var addJobRole = document.createElement("input");
                    addJobRole.id = "workedJobRole_" + appz.companyCount;
                    addJobRole.onchange = applyInShort.validation.enableAddBtn;
                    allworkedJobRoleCol.appendChild(addJobRole);

                    var addCurrentlyWorking = document.createElement("input");
                    if (!$("#currentlyWorking").is(":checked")) {
                        addCurrentlyWorking.disabled = true;
                    } else {
                        addCurrentlyWorking.disabled = false;
                    }
                    addCurrentlyWorking.type = ("radio");
                    addCurrentlyWorking.style = "margin:0 4%";
                    addCurrentlyWorking.id = ("addCurrentlyWorking_" + appz.companyCount);
                    addCurrentlyWorking.name = ("addCurrently_Working");
                    allWorkedCurrentltyCol.appendChild(addCurrentlyWorking);

                    var addMore = document.createElement("button");
                    addMore.className = "form-control";
                    addMore.type = "button";
                    addMore.setAttribute("disabled", true);
                    addMore.id = "addCurrentlyWorkingBtn_" + appz.companyCount;
                    addMore.value = "Add";
                    addMore.style = "background:#09ac58;color:#fff;font-size:12px";
                    addMore.name = "Add";
                    addMore.textContent = "Add Company";
                    addMore.onclick = applyInShort.aux.addmoreCompany;
                    allWorkedAddMoreCol.appendChild(addMore);

                    var addCurrentlyWorkingLabel = document.createElement("label");
                    addCurrentlyWorkingLabel.textContent = ("Is this your current company");
                    addCurrentlyWorkingLabel.for = ("addCurrentlyWorking_" + appz.companyCount);
                    allWorkedCurrentltyCol.appendChild(addCurrentlyWorkingLabel);

                    var previousButton = appz.companyCount - 1;
                    $('#companyDetailsCapture').append(allworkedCompanyDetailsDiv);
                    $("#addCurrentlyWorkingBtn_" + previousButton).prop("disabled", true);

                    appz.process.experience(appz.allJobRole, appz.companyCount);
                } else {
                    $.notify("Max 3 Addition Allowed", 'error');
                }

            }
        },
        do: {
            submit: function(d) {
                console.log("data to submit:" + d);

                try {
                    $.ajax({
                        type: "POST",
                        url: "/updateCandidateDetailViaShortJobApply/",
                        contentType: "application/json; charset=utf-8",
                        data: JSON.stringify(d),
                        success: function(returnedData) {

                            console.log(returnedData);
                            $("#finalSubmitBtn").prop("disabled", true);

                            if (returnedData.statusCode == 3) {

                                appz.render.messageModal("Thanks for applying ! Your will receive interview details in an SMS.");

                                appz.do.hideAllInputFields();
                            } else if (returnedData.statusCode == 4) {

                                appz.render.messageModal("Looks like you have already applied to this job. Closing this tab..");
                                appz.do.hideAllInputFields();
                            } else {
                                $.notify("Something went wrong. Please re-check submission!", 'error');

                                setTimeout(function() {
                                    $("#finalSubmitBtn").prop("disabled", false);
                                }, 3000);

                            }

                        }
                    });
                } catch (exception) {
                    console.log("exception occured!!" + exception);
                }
            },
            interviewIconChange: function() {
                if ($("#jobInterviewPanel").hasClass("in") == true) {
                    $("#interviewCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down");
                } else {
                    $("#interviewCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up");
                }
            },
            localityIconChange: function() {
                if ($("#jobLocalityPanel").hasClass("in") == true) {
                    $("#localityCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down");
                } else {
                    $("#localityCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up");
                }
            },
            detailsIconChange: function() {
                if ($("#missingInfo").hasClass("in") == true) {
                    $("#detailsCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down");
                } else {
                    $("#detailsCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up");
                }
            },
            validateSubmit: function() {

                appz.missingData.shortPSPopulateResponse.propertyIdList;

                // c.f https://github.com/jpillora/notifyjs/issues/64
                $('.notifyjs-container').trigger('notify-hide');

                console.log("validating submit");
                var okToSubmitList = [];
                var okToSubmit = true;

                var dobCheck;
                var prevCompanyList = [];
                var main = {};
                var d = {};
                var msg;

                main["candidateId"] = parseInt(appz.candidateId);
                main["jobPostId"] = parseInt(appz.jobPostId);
                main["propertyIdList"] = appz.missingData.shortPSPopulateResponse.propertyIdList;

                var localityId = $('#jobLocality').val();

                if (localityId == null || localityId == 0) {
                    okToSubmit = false;
                    msg = "Please select a valid Interview locality.";

                    $.notify(msg, 'error');

                    var submit = {
                        propId: 11,
                        message: msg,
                        submissionStatus: okToSubmit
                    };
                    okToSubmitList.push(submit);
                } else {
                    main["localityId"] = parseInt(localityId);
                }

                var selectedInterview = $('#interViewSlot').val();

                if (appz.isInterviewSlotAvailable) {

                    if (selectedInterview == null || selectedInterview == "0") {
                        okToSubmit = false;
                        msg = "Please select a valid Interview Slot.";
                        $.notify(msg, 'error');

                        var submit = {
                            propId: 12,
                            message: msg,
                            submissionStatus: okToSubmit
                        };
                        okToSubmitList.push(submit);
                    } else {
                        main["dateInMillis"] = parseInt(selectedInterview.split("_")[0]);
                        main["timeSlotId"] = parseInt(selectedInterview.split("_")[1]);
                    }
                }

                console.log(appz.missingData.shortPSPopulateResponse.propertyIdList);
                $.each(appz.missingData.shortPSPopulateResponse.propertyIdList, function(index, propId) {
                    msg = "";
                    okToSubmit = true;
                    if (propId == 0) {
                        var documentList = [];
                        $('#document_details').each(function() {
                            $(this).find('input[type=checkbox]').each(function() {
                                var item = {};
                                var id;
                                id = $(this).attr('id').split("_").slice(-1).pop();

                                var isChecked = $('input#idProofCheckbox_' + id).is(':checked');
                                var isValid = appz.validation.input(id, $('input#idProofValue_' + id).val().trim());
                                if (isValid && isChecked) {
                                    item["idProofId"] = parseInt(id);
                                    item["idNumber"] = $('input#idProofValue_' + id).val().trim();
                                } else if (isChecked && !isValid) {
                                    // okToSubmit = false;
                                    // $.notify("Please provide valid document details.", 'error');
                                }

                                if (!jQuery.isEmptyObject(item)) {
                                    documentList.push(item);
                                };

                                if (!okToSubmit) {
                                    var submit = {
                                        propId: propId,
                                        message: msg,
                                        submissionStatus: okToSubmit
                                    };
                                    okToSubmitList.push(submit);
                                }
                            });
                        });

                        // documents
                        d["idProofWithIdNumberList"] = documentList;
                        //
                        // if(documentList.length == 0) {
                        //     // won't allow candidate to make submission without provide alteast one doc
                        //     $.notify("Please provide your document details", 'error');
                        //     okToSubmit = false;
                        // }

                    } else if (propId == 1) {
                        var check;
                        var languageMap = [];
                        var languageKnown = $('#language_details input:checked').map(function() {
                            check = 0;
                            var id = this.id.split("_")[1];
                            var name = this.name;
                            var item = {};
                            var pos;

                            for (var i in languageMap) {
                                if (languageMap[i].id == id) {
                                    pos = i;
                                    check = 1;
                                    break;
                                }
                            }
                            if (check == 0) {
                                item["id"] = id;
                                item["u"] = 0;
                                item["rw"] = 0;
                                item["s"] = 0;
                                if (name == "u")
                                    item["u"] = 1;
                                languageMap.push(item);
                            } else {
                                if (name == "u")
                                    languageMap[pos].u = 1;
                            }
                        }).get();

                        d["candidateKnownLanguageList"] = languageMap;

                        /*if(languageMap.length == 0) {
                         okToSubmit = false;
                         $.notify("Please provide all known languages", 'error');
                         }*/
                        if (!okToSubmit) {
                            d["candidateKnownLanguageList"] = [];
                            var submit = {
                                propId: propId,
                                message: msg,
                                submissionStatus: okToSubmit
                            };
                            okToSubmitList.push(submit);
                        }
                    } else if (propId == 2) {
                        // asset
                        var assetArrayList = [];
                        $('#assets_details input:checked').each(function() {
                            var id = parseInt($(this).attr('id').split("_").slice(-1).pop());
                            assetArrayList.push(id);
                        });
                        d["assetIdList"] = assetArrayList;

                    } else if (propId == 3) {
                        var selectedDob = null;
                        var c_dob = null;
                        // age submission
                        if ($('#dob_day').val() == "Day" && $('#dob_month').val() == "Month" && $('#dob_year').val() == "Year") {
                            // okToSubmit = false;
                        } else if ($('#dob_day').val() == "Day" || $('#dob_month').val() == "Month" || $('#dob_year').val() == "Year") {
                            okToSubmit = false;
                        } else {
                            selectedDob = $('#dob_year').val() + "-" + $('#dob_month').val() + "-" + $('#dob_day').val();
                        }
                        if (selectedDob == null || selectedDob == "") {
                            // okToSubmit = false;
                        } else {
                            c_dob = String(selectedDob);
                            var selectedDate = new Date(c_dob);
                            var toDate = new Date();
                            var pastDate = new Date(toDate.setFullYear(toDate.getFullYear() - 18)); // ex: if current year: 2016 || pastDate: 1998
                            toDate = new Date(); //reset toDate to current Date
                            var zombieYear = new Date(toDate.setFullYear(toDate.getFullYear() - 70)); // ex: if current year: 2016  || zombieYear: 1928
                            toDate = new Date(); //reset toDate to current Date
                            if (selectedDate >= pastDate) {
                                dobCheck = 0;
                                okToSubmit = false;
                            }
                            if (selectedDate <= zombieYear) {
                                dobCheck = 0;
                                okToSubmit = false;
                            }

                        }

                        d["candidateDob"] = c_dob;

                        msg = "Please provide valid Date of birth";

                        if (!okToSubmit) {
                            $.notify(msg, 'error');
                            d["candidateDob"] = null;
                            var submit = {
                                propId: propId,
                                message: msg,
                                submissionStatus: okToSubmit
                            };
                            okToSubmitList.push(submit);
                        }
                    } else if (propId == 4) {
                        /* calculate total experience in months */
                        if (($('input:radio[name="candidateExperience"]:checked').length == 0)) {
                            // okToSubmit = false;
                            // $.notify("Please select Fresher/Experienced.", 'error');
                        }
                        var expMonth = 0;
                        var expYear = 0;
                        var totalExp;

                        if ($('input:radio[name="candidateExperience"]:checked').val() == "0") {
                            totalExp = 0;
                        } else {
                            if ($('#candidateTotalExperienceMonth').val() == "" &&
                                $('#candidateTotalExperienceYear').val() == "") {
                                totalExp = null;
                            } else {
                                expMonth = $('#candidateTotalExperienceMonth').val();
                                expYear = $('#candidateTotalExperienceYear').val();
                                expMonth = parseInt(expMonth == "" ? 0 : expMonth);
                                expYear = parseInt(expYear == "" ? 0 : expYear);

                                totalExp = expMonth + (12 * expYear);
                            }
                            var isExpEmpty = ($('#candidateTotalExperienceMonth').val() == 0) && ($('#candidateTotalExperienceYear').val() == 0);
                            if ($('input[id=candidateExp]').is(":checked") && isExpEmpty) {
                                msg = "Please provide your total years of experience";
                                $.notify(msg, 'error');
                                okToSubmit = false;
                            }
                        }

                        // are you currently working
                        if ($('input[id=candidateExp]').is(":checked") && $('#currentlyWorking').is(":checked") &&
                            !$('input[name=addCurrently_Working]').is(":checked")) {
                            msg = "Please provide your current company details and mark appropriately.";
                            $.notify(msg, 'error');
                            okToSubmit = false;
                        }

                        var i = 1;
                        prevCompanyList = [];
                        for (i; i <= 3; i++) {
                            var item = {};
                            if ($('#companyName_' + i).val() == "" && $('#workedJobRole_' + i).val() > 0) {
                                msg = "please provide company name";
                                $.notify("please provide company name", 'error');
                                okToSubmit = false;
                            }
                            if ($('#companyName_' + i).val() != "" && $('#workedJobRole_' + i).val() < 0) {
                                msg += " | please provide Job Role";

                                $.notify("please provide Job Role", 'error');
                                okToSubmit = false;
                            }
                            if ($('#companyName_' + i).val() != "" && $('#workedJobRole_' + i).val() > 0) {
                                item["companyName"] = $('#companyName_' + i).val();
                                item["jobRoleId"] = $('#workedJobRole_' + i).val();
                                item["current"] = $('#addCurrentlyWorking_' + i).is(":checked");
                            }
                            if (!jQuery.isEmptyObject(item)) {
                                prevCompanyList.push(item);
                            }
                        }

                        d["candidateTotalExperience"] = totalExp;
                        d["pastCompanyList"] = prevCompanyList;
                        d["candidateIsEmployed"] = $('#currentlyWorking').is(":checked");
                        d["extraDetailAvailable"] = true;

                        if (!okToSubmit) {

                            d["candidateTotalExperience"] = null;
                            d["pastCompanyList"] = null;
                            d["candidateIsEmployed"] = null;
                            d["extraDetailAvailable"] = null;

                            var submit = {
                                propId: propId,
                                message: msg,
                                submissionStatus: okToSubmit
                            };
                            okToSubmitList.push(submit);
                        }

                    } else if (propId == 5) {
                        d["candidateEducationLevel"] = $('#candidateHighestEducation').val();
                        d["candidateDegree"] = ($('#candidateHighestDegree').val());
                        d["candidateEducationInstitute"] = $('#candidateEducationInstitute').val();
                        d["candidateEducationCompletionStatus"] = parseInt($('input:radio[name="candidateEducationCompletionStatus"]:checked').val());

                        if ($('#candidateHighestEducation').val() == "-1" || $('#candidateHighestEducation').val() > 3 ||
                            $('input:radio[name="candidateEducationCompletionStatus"]:checked').val() == null) {
                            if (($('#candidateHighestDegree').val()) == "-1" ||
                                $('#candidateEducationInstitute').val() == "") {
                                // okToSubmit = false;
                                // $.notify("Please provide full education details", 'error');
                                d["candidateEducationLevel"] = null;
                                d["candidateDegree"] = null;
                                d["candidateEducationInstitute"] = null;
                                d["candidateEducationCompletionStatus"] = null;


                            }
                        }

                        if (!okToSubmit) {
                            var submit = {
                                propId: propId,
                                message: msg,
                                submissionStatus: okToSubmit
                            };
                            okToSubmitList.push(submit);
                        }
                    } else if (propId == 6) {
                        d["candidateGender"] = ($('input:radio[name="gender"]:checked').val());
                        if (($('input:radio[name="gender"]:checked').length == 0)) {
                            // okToSubmit = false;
                            // $.notify("Please provide your gender details", 'error');
                        }
                        if (!okToSubmit) {
                            d["candidateGender"] = null;
                            var submit = {
                                propId: propId,
                                message: msg,
                                submissionStatus: okToSubmit
                            };

                            okToSubmitList.push(submit);
                        }
                    } else if (propId == 7) {
                        var salary = $('#candidateLastWithdrawnSalary').val();
                        if (!isNaN(salary) && parseInt(salary) >= 1000 && parseInt(salary) <= 100000) {
                            d["candidateLastWithdrawnSalary"] = parseInt($('#candidateLastWithdrawnSalary').val());
                        } else {
                            // okToSubmit = false;
                            // $.notify("Please enter a valid 'Last Withdrawn Salary' per month. (Min: 1000, Max: 1,00,000)", 'error');
                            if (!okToSubmit) {
                                d["candidateLastWithdrawnSalary"] = null;
                                var submit = {
                                    propId: propId,
                                    message: "Please enter a valid 'Last Withdrawn Salary' per month. (Min: 1000, Max: 1,00,000)",
                                    submissionStatus: okToSubmit
                                };
                                okToSubmitList.push(submit);
                            }
                        }
                    } else if (propId == 8) {
                        var lId = $('#candidateHomeLocality').val();
                        if (lId == null) {
                            // okToSubmit = false;
                            d["candidateHomeLocality"] = null;
                            // $.notify("Please enter a valid Locality", 'error');
                        } else {
                            d["candidateHomeLocality"] = parseInt(lId);
                        }
                        if (!okToSubmit) {
                            var submit = {
                                propId: propId,
                                message: "Please enter a valid Home locality",
                                submissionStatus: okToSubmit
                            };
                            okToSubmitList.push(submit);
                        }
                    } else if (propId == 9) {
                        var timeShiftPrefId = $('#candidateTimeShiftPref').val();
                        if (timeShiftPrefId == "-1") {
                            d["candidateTimeShiftPref"] = null;
                            // okToSubmit = false;
                            // $.notify("Please enter a valid time/shift preference (ex: Part time, Full time)", 'error');
                        } else {
                            d["candidateTimeShiftPref"] = $('#candidateTimeShiftPref').val();
                        }
                        if (!okToSubmit) {
                            var submit = {
                                propId: propId,
                                message: "Please enter a valid time preference",
                                submissionStatus: okToSubmit
                            };
                            okToSubmitList.push(submit);
                        }
                    }
                });

                console.log("OkToSubmit List: " + JSON.stringify(okToSubmitList));
                if (okToSubmitList.length == 0) {
                    main["updateCandidateDetail"] = d;
                    this.submit(main);

                    $("#finalSubmitBtn").prop("disabled", true);

                    // disable apply btn when its okay to submit (i.e submission is validated)..
                    setTimeout(function() {
                        $("#finalSubmitBtn").prop("disabled", false);
                    }, 7000);

                    return true;
                } else {
                    // okToSubmitList.forEach(function (object) {
                    //     $.notify(object.message, 'error');
                    //     console.log(object);
                    // })
                }

            },
            hideAllInputFields: function() {
                $("#finalSubmitBtn").prop("disabled", true);
                appz.render.hideContainer();
            }
        }

    };

    appz.method.init();

    appz.method.ending();

    // search click listener
    document.getElementById("finalSubmitBtn").addEventListener("click", function() {
        appz.do.validateSubmit();
    });
    //
    document.getElementById("jobInterviewHead").addEventListener("click", function() {
        appz.do.interviewIconChange();
    });
    document.getElementById("jobLocalityHead").addEventListener("click", function() {
        appz.do.localityIconChange();
    });

    document.getElementById("jobdetailsHead").addEventListener("click", function() {
        appz.do.detailsIconChange();
    });

    return appz;

}(jQuery));

// $(window).load(function() {
//     $('html, body').css({
//         'overflow': 'auto',
//         'height': 'auto'
//     });
//     $("#status").fadeOut();
//     $("#loaderLogo").fadeOut();
//     $("#preloader").delay(300).fadeOut("slow");
// });
>>>>>>> 678a02620aa44ab1813fad50f725ff7905ab95f6
