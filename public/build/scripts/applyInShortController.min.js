var applyInShort=function(e){"use strict";var t={isNavBarLoaded:!1,isInterviewSlotAvailable:!1,loginStatus:null,candidateId:null,jobPostId:null,missingDataURL:null,missingData:null,jobTitle:null,companyName:null,allJobRole:null,companyCount:1,factory:{parent:null,mainDiv:null,subDivOne:null,subDivTwo:null,orderList:null,hintMessage:null,factory:function(){this.parent=e("#missingInfo"),this.mainDiv=document.createElement("div"),this.mainDiv.className="row",this.mainDiv.style="margin:0",this.parent.append(this.mainDiv),this.subDivOne=document.createElement("div"),this.subDivOne.className="col-sm-12",this.mainDiv.appendChild(this.subDivOne),this.hintMessage=document.createElement("p"),this.hintMessage.textContent="(Optional) Give some more details to apply",this.hintMessage.style="margin:10px 0;font-weight:bold;font-size:18px",this.subDivOne.appendChild(this.hintMessage),this.subDivTwo=document.createElement("div"),this.subDivTwo.style="padding:0 4%",this.subDivTwo.className="col-sm-12",this.mainDiv.appendChild(this.subDivTwo),this.orderList=document.createElement("ol"),this.orderList.className="list-group",this.subDivTwo.appendChild(this.orderList)}},method:{init:function(){t.render.hideContainer(),t.factory.factory(),t.validation.checkIsUserLoggedIn(),t.method.prepareRequestParam(),t.render.applyJobForm()},ending:function(){t.render.showContainer(),e("#footer_inc").load("/footer")},getUserLogInStatus:function(){return t.isNavBarLoaded?new Promise(function(e,t){e(null)}):e.ajax({type:"GET",url:"/checkNavBar"})},getMissingData:function(){return null!=t.missingDataURL?e.ajax({type:"GET",url:t.missingDataURL}):new Promise(function(e,t){e(null)})},prepareRequestParam:function(){var e=window.location.pathname.split("-");t.jobPostId=e[e.length-1];var a=window.location.search.split("&")[0].split("=");t.candidateId=a[a.length-1],t.missingDataURL="/apply/inshort/api/getMissingData?candidateId="+t.candidateId+"&jobPostId="+t.jobPostId}},fetch:{missingData:function(){return new Promise(function(e,a){t.method.getMissingData().then(function(a){void 0,null!=a&&(t.missingData=a),e()},function(e,t,n){a(n)})})}},render:{messageModal:function(a,n){var o="Notice";e("#messagePromptModal").modal(),e("#myModalLabel").html(o),e("#customMsg").html(a),null!=n&&t.render.hideContainer()},hideContainer:function(){e("#card_container").hide()},showContainer:function(){e("#card_container").show()},hideUI:function(a,n){t.render.messageModal(a,null),e("#card_container").hide()},applyJobForm:function(){var a=t.fetch.missingData();a.then(function(){void 0,void 0,e("#finalSubmitBtn").prop("disabled",!0),5==t.missingData.statusCode?t.render.messageModal("You have already applied to this Job.",4e3):6==t.missingData.statusCode?t.render.messageModal("Invalid Link. No Job Found.",4e3):7==t.missingData.statusCode?t.render.messageModal(t.missingData.message+". ",7e3):4==t.missingData.statusCode&&(t.render.jobBasicDetails(),e("#finalSubmitBtn").prop("disabled",!1),null!=t.missingData.localityPopulateResponse&&t.render.jobLocalityCard(t.missingData.localityPopulateResponse),null!=t.missingData.shortPSPopulateResponse&&t.missingData.shortPSPopulateResponse.visible?t.render.preScreenCard(t.missingData.shortPSPopulateResponse):e("#preScreenCardDiv").hide(),null!=t.missingData.interviewSlotPopulateResponse&&2==t.missingData.interviewSlotPopulateResponse.interviewResponse.status&&null!=t.missingData.interviewSlotPopulateResponse.interviewSlotMap?t.render.interviewSlotCard(t.missingData.interviewSlotPopulateResponse.interviewSlotMap):(e("#jobInterviewSlotCardDiv").hide(),t.isInterviewSlotAvailable=!1),void 0)})["catch"](function(e){void 0})},jobBasicDetails:function(){var a=e("#jobSalaryIncentives"),n=e("#jobTime"),o="",i="",l=document.createElement("font");if(null!=t.missingData.jobPost.jobPostMinSalary&&0!=t.missingData.jobPost.jobPostMinSalary&&(i+=null==t.missingData.jobPost.jobPostMaxSalary||"0"==t.missingData.jobPost.jobPostMaxSalary?" ₹ "+rupeeFormatSalary(t.missingData.jobPost.jobPostMinSalary)+" monthly":" ₹ "+rupeeFormatSalary(t.missingData.jobPost.jobPostMinSalary)+" -  ₹ "+rupeeFormatSalary(t.missingData.jobPost.jobPostMaxSalary)+" monthly"),i+=null!=t.missingData.jobPost.jobPostIncentives?" ("+t.missingData.jobPost.jobPostIncentives+" )":" (Incentives not specified)",l.textContent=i,a.append(l),null!=t.missingData.jobPost.jobPostStartTime&&t.missingData.jobPost.jobPostStartTime!=-1&&null!=t.missingData.jobPost.jobPostEndTime&&null!=t.missingData.jobPost.jobPostEndTime!=-1){var d,s;t.missingData.jobPost.jobPostStartTime>12?(t.missingData.jobPost.jobPostStartTime=t.missingData.jobPost.jobPostStartTime-12,d="PM"):d="AM",t.missingData.jobPost.jobPostEndTime>12?(t.missingData.jobPost.jobPostEndTime=t.missingData.jobPost.jobPostEndTime-12,s="PM"):s="AM",o+="("+t.missingData.jobPost.jobPostStartTime+" "+d+" - "+t.missingData.jobPost.jobPostEndTime+" "+s+")"}else o+="Timing Not Specified";if(""!=t.missingData.jobPost.jobPostWorkingDays&&null!=t.missingData.jobPost.jobPostWorkingDays)if(127==t.missingData.jobPost.jobPostWorkingDays)o+=" (No - Off) ";else{var r,c=t.missingData.jobPost.jobPostWorkingDays.toString(2);if(7!=c.length){var p=7-c.length,m="";for(r=0;r<p;r++)m+="0";m+=c,c=m}var u="",v=c.split("");1!=v[0]&&(u+="Mon, "),1!=v[1]&&(u+="Tue, "),1!=v[2]&&(u+="Wed, "),1!=v[3]&&(u+="Thu, "),1!=v[4]&&(u+="Fri, "),1!=v[5]&&(u+="Sat, "),1!=v[6]&&(u+="Sun "),o+="("+u+" - Off)"}var h=document.createElement("font");h.textContent=t.missingData.jobPost.jobPostShift.timeShiftName+" "+o,n.append(h)},jobLocalityCard:function(a){void 0;var n=a.localityMap;if(t.jobTitle=a.jobTitle+" ",t.companyName=a.companyName,e("#locality_jobNameConfirmation").html(t.jobTitle),e("#locality_companyNameConfirmation").html(t.companyName),null!=n){if(Object.keys(n).length>1){var o=e("<option value=0></option>").text("Select Location");e("#jobLocality").append(o)}for(var i in n){var l=i,d=n[i],o=e("<option value="+l+"></option>").text(d);e("#jobLocality").append(o)}}n=null},jobOtherDetailsCard:function(t){void 0;e("#preScreenCardDiv")},interviewSlotCard:function(a){if(void 0,null==a)return void(t.isInterviewSlotAvailable=!1);if(t.isInterviewSlotAvailable=!0,e("#interviewJobTitle").html(t.jobTitle),e("#interviewCompanyName").html(t.companyName),null!=a){if(Object.keys(a).length>1){var n=e("<option value=0></option>").text("Select Interview slot");e("#interViewSlot").append(n)}for(var o in a){var i=a[o].interviewDateMillis,l=i+"_"+a[o].interviewTimeSlot.slotId,d=o,n=e("<option value="+l+"></option>").text(d);e("#interViewSlot").append(n)}}},preScreenCard:function(e){null!=e.documentList&&e.documentList.length>0&&t.construct._document(e.documentList),null!=e.languageList&&e.languageList.length>0&&t.construct._language(e.languageList),null!=e.assetList&&e.assetList.length>0&&t.construct._asset(e.assetList),null!=e.dobMissing&&e.dobMissing&&t.construct._dob(),null!=e.genderMissing&&e.genderMissing&&t.construct._gender(),null!=e.salaryMissing&&e.salaryMissing&&t.construct._salary(),null!=e.experienceResponse&&e.experienceResponse.experienceMissing&&t.construct._experience(e.experienceResponse.jobRoleList),null!=e.educationResponse&&e.educationResponse.educationMissing&&t.construct._education(e.educationResponse.educationList,e.educationResponse.degreeList)}},construct:{_document:function(e){var a=document.createElement("li");a.textContent="Do you have the following document(s) ?";var n=document.createElement("div");n.className="row";var o=document.createElement("div");o.className="col-sm-12 col-md-12",o.id="document_details",o.style="padding:2%",n.appendChild(o),a.appendChild(n),t.factory.orderList.appendChild(a),t.process.document(e)},_language:function(e){var a=document.createElement("li");a.textContent="Do you know following language(s) ?";var n=document.createElement("div");n.className="row";var o=document.createElement("div");o.className="col-sm-12",o.id="language_details",o.style="padding:1%;",n.appendChild(o),a.appendChild(n),t.factory.orderList.appendChild(a),t.process.language(e)},_dob:function(){var e=document.createElement("li");e.textContent="Please mention your date of birth",t.factory.orderList.appendChild(e);var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-sm-5 hidden-xs",n.style="padding:14px 3%",a.appendChild(n);var o=document.createElement("div");o.className="col-xs-12 col-sm-6 ",o.style="padding:1% 2%",a.appendChild(o);var i=document.createElement("font");i.textContent="Date of birth",i.style="font-weight:bold",n.appendChild(i);var l=document.createElement("select");l.className="selectDropDown",l.id="dob_day",l.style="margin:0 2%",o.appendChild(l);var d=document.createElement("option");d.textContent="Day",l.appendChild(d);var s;for(s=1;s<=31;s++){var r=document.createElement("option");r.value=("0"+s).slice(-2),r.textContent=s,l.appendChild(r)}var c=document.createElement("select");c.className="selectDropDown",c.id="dob_month",c.style="margin:0 2%",o.appendChild(c);var p=document.createElement("option");for(p.textContent="Month",c.appendChild(p),s=1;s<=12;s++){r=document.createElement("option"),r.value=("0"+s).slice(-2);var m;switch(s){case 1:m="January";break;case 2:m="February";break;case 3:m="March";break;case 4:m="April";break;case 5:m="May";break;case 6:m="June";break;case 7:m="July";break;case 8:m="August";break;case 9:m="September";break;case 10:m="October";break;case 11:m="November";break;case 12:m="December"}r.textContent=m,c.appendChild(r)}var u=document.createElement("select");u.className="selectDropDown",u.id="dob_year",u.style="margin:0 2%",o.appendChild(u);var v=document.createElement("option");for(v.textContent="Year",u.appendChild(v),s=(new Date).getFullYear()-19;s>=(new Date).getFullYear()-80;s--)r=document.createElement("option"),r.value=s,r.textContent=s,u.appendChild(r);e.appendChild(a),t.factory.orderList.appendChild(e)},_experience:function(e){var a=document.createElement("li");a.textContent="Do you have work experience?";var n=document.createElement("div");n.className="row";var o=document.createElement("div");o.className="row",o.style="display: none;",o.id="companyDetailsCapture";var i=document.createElement("p");i.textContent="Where all have you worked before? ",i.style="margin-left:10px",o.appendChild(i);var l=document.createElement("div");l.className="row",l.id="row_1",l.style="margin:4px 0",o.appendChild(l);var d=document.createElement("div");d.className="col-sm-3",d.id="companyName",l.appendChild(d);var s=document.createElement("div");s.className="col-sm-3",s.id="workedJobRole",l.appendChild(s);var r=document.createElement("div");r.className="col-sm-4",r.id="workedCurrently",r.style="padding-top:1%;text-align:center",l.appendChild(r);var c=document.createElement("div");c.className="col-sm-2",l.appendChild(c);var p=document.createElement("input");p.className="form-control",p.type="text",p.placeholder="Company Name",p.id="companyName_1",p.onchange=applyInShort.validation.enableAddBtn,d.appendChild(p);var m=document.createElement("input");m.id="workedJobRole_1",m.onchange=applyInShort.validation.enableAddBtn,s.appendChild(m);var u=document.createElement("input");u.type="radio",u.style="margin:0 4%;",u.id="addCurrentlyWorking_1",u.name="addCurrently_Working",u.setAttribute("disabled",!0),u.value=0,r.appendChild(u);var v=document.createElement("button");v.className="form-control",v.type="button",v.setAttribute("disabled",!0),v.id="addCurrentlyWorkingBtn_1",v.value="Add",v.name="Add",v.style="background:#09ac58;color:#fff;font-size:12px",v.textContent="Add Company",v.onclick=applyInShort.aux.addmoreCompany,c.appendChild(v),u.type="radio",u.style="margin:0 4%",u.name="addCurrently_Working",r.appendChild(u);var h=document.createElement("label");h.textContent="Is this your current company",h["for"]="addCurrentlyWorking_1",r.appendChild(h);var y=document.createElement("div");y.className="col-xs-12 col-md-12",y.style="padding:2% 0;",n.appendChild(y);var g=document.createElement("div");g.className="col-xs-12 col-sm-5",g.id="experienceQuestion",g.style="padding:2% 3%;display:none",n.appendChild(g);var b=document.createElement("p");b.textContent="How many year(s) of work experience do you have?",g.appendChild(b);var C=document.createElement("div");C.className="col-xs-12 col-md-6",C.id="experienceDuration",C.style="display:none;padding:1%",n.appendChild(C);var f=document.createElement("div");f.className="col-xs-12 col-sm-3 ",y.appendChild(f);var E=document.createElement("div");E.className="col-xs-12 col-sm-4",y.appendChild(E);var x=document.createElement("input");x.type="radio",x.id="candidateFresh",x.name="candidateExperience",x.value=0,x.onchange=applyInShort.aux.hideExperienceCaptureDiv,f.appendChild(x);var I=document.createElement("label");I.textContent="I'm a fresher",I["for"]="candidateFresh",f.appendChild(I);var S=document.createElement("input");S.type="radio",S.id="candidateExp",S.name="candidateExperience",S.value=1,S.onchange=applyInShort.aux.showExperienceCaptureDiv,E.appendChild(S);var w=document.createElement("label");w.textContent="I have work experience",w["for"]="candidateExp",E.appendChild(w);var D=document.createElement("input");D.className="form-control",D.type="number",D.placeholder="Years",D.style="margin-top:1%",D.oninput=applyInShort.aux.showExperienceBox,D.id="candidateTotalExperienceYear",C.appendChild(D);var P=document.createElement("input");P.className="form-control",P.type="number",P.placeholder="Months",P.id="candidateTotalExperienceMonth",P.oninput=applyInShort.aux.showExperienceBox,C.appendChild(P);var N=document.createElement("div");N.className="col-xs-12 col-md-10",N.id="experienceCurrently",N.style="padding:2% 3%;display:none",n.appendChild(N);var k=document.createElement("p");k.textContent="Are you currently working : ",N.appendChild(k);var _=document.createElement("input");_.id="currentlyWorking",_.type="checkbox",_.style="margin:0 2% 0 4%",_.onclick=applyInShort.aux.disableCurrentCompanyOption,k.appendChild(_);var j=document.createElement("label");j.textContent="Yes",j["for"]="currentlyWorking",k.appendChild(j),a.appendChild(n),a.appendChild(o),t.factory.orderList.appendChild(a),t.process.experience(e,t.companyCount)},_education:function(e,a){var n=document.createElement("li");n.textContent="Please provide your education details";var o=document.createElement("div");o.className="row",n.appendChild(o);var i=document.createElement("div");i.className="row",n.appendChild(i);var l=document.createElement("div");l.className="row",n.appendChild(l);var d=document.createElement("div");d.className="row",n.appendChild(d);var s=document.createElement("div");s.className="col-xs-12 col-sm-5",s.id="education_details",o.appendChild(s);var r=document.createElement("div");r.className="col-xs-12 col-sm-6",r.style="padding:1%",o.appendChild(r);var c=document.createElement("font");c.textContent="Highest education qualification? ",c.style="font-weight:bold;",s.appendChild(c);var p=document.createElement("select");p.id="candidateHighestEducation",r.appendChild(p);var m=document.createElement("div");m.className="col-xs-12 col-sm-5",m.id="education_details",i.appendChild(m);var u=document.createElement("div");u.className="col-xs-12 col-sm-6",u.style="padding-top:3%",i.appendChild(u);var v=document.createElement("font");v.textContent="Have you successfully completed this course? ",v.style="font-weight:bold;",m.appendChild(v);var h=document.createElement("input");h.type="radio",h.style="margin:0 4% 0 0",h.id="successYes",h.name="candidateEducationCompletionStatus",h.value=1,u.appendChild(h);var y=document.createElement("label");y.textContent="Yes",y["for"]="successConformationHEQ",u.appendChild(y);var g=document.createElement("input");g.type="radio",g.style="margin:0 4% 0 8%",g.id="successNo",g.name="candidateEducationCompletionStatus",g.value=0,u.appendChild(g);var b=document.createElement("label");b.textContent="No",b["for"]="successConformationHEQ",u.appendChild(b);var C=document.createElement("div");C.className="col-xs-12 col-sm-5",C.id="education_details",l.appendChild(C);var f=document.createElement("div");f.className="col-xs-12 col-sm-6",f.id="education_details",f.style="padding:1%",l.appendChild(f);var E=document.createElement("font");E.textContent="Highest education degree? ",E.style="font-weight:bold;",C.appendChild(E);var x=document.createElement("select");x.id="candidateHighestDegree",f.appendChild(x);var I=document.createElement("div");I.className="col-xs-12 col-sm-5",I.style="padding:2% 3%",d.appendChild(I);var S=document.createElement("div");S.className="col-xs-12 col-sm-6",S.style="padding:1%",d.appendChild(S);var w=document.createElement("font");w.textContent="Last attended education institute?",w.style="margin-top:8px;font-weight:bold",I.appendChild(w);var D=document.createElement("input");D.className="form-control",D.type="text",D.placeholder="School/Institute Name",D.id="candidateEducationInstitute",S.appendChild(D),t.factory.orderList.appendChild(n),t.process.degree(a),t.process.education(e)},_gender:function(){var e=document.createElement("li");e.textContent="Please mention your gender ";var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-sm-12 col-md-12",n.id="gender_details",n.style="padding:2% 0;";var o=document.createElement("div");o.className="col-xs-6 col-sm-3",n.appendChild(o);var i=document.createElement("div");i.className="col-xs-6 col-sm-3",n.appendChild(i);var l=document.createElement("label");l.textContent="Male",l["for"]="genderMale";var d=document.createElement("input");d.type="radio",d.style="margin:0 8%",d.id="genderMale",d.name="gender",d.value=0;var s=document.createElement("label");s.textContent="Female",s["for"]="genderFemale";var r=document.createElement("input");r.type="radio",r.style="margin:0 8%",r.id="genderFemale",r.name="gender",r.value=1,o.appendChild(d),o.appendChild(l),i.appendChild(r),i.appendChild(s),a.appendChild(n),e.appendChild(a),t.factory.orderList.appendChild(e)},_salary:function(){var e=document.createElement("li");e.textContent="Please provide your salary details";var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-xs-12 col-sm-5",n.id="salary_details";var o=document.createElement("div");o.className="col-xs-12 col-sm-6",o.id="salary_response",o.style="padding:1%";var i=document.createElement("font");i.textContent="Current/last drawn salary",i.style="margin-top:8px;font-weight:bold",n.appendChild(i);var l=document.createElement("input");l.className="form-control",l.type="number",l.placeholder="Salary InHand/Month",l.id="candidateLastWithdrawnSalary",l.oninput=applyInShort.validation.salary,o.appendChild(l);var d=document.createElement("p");d.id="invalidSalaryNotification",d.textContent="Invalid Salary Input Please enter a valid 'Last Withdrawn Salary' (Ex: 15000) in a month",d.style="color:#ff1744;display:none;margin:1px 0 1px 2px;font-size:12px",o.appendChild(d),a.appendChild(n),a.appendChild(o),e.appendChild(a),t.factory.orderList.appendChild(e)},_locality:function(){var e=document.createElement("li");e.textContent="Which is your home locality? ";var a=document.createElement("div");a.className="row";var n=document.createElement("div");n.className="col-sm-12 col-md-12",n.id="locality_details",n.style="padding:2%";var o=document.createElement("p");o.textContent="Locality",o.style="margin-left:18px;font-weight:bold";var i=document.createElement("input");i.id="candidateHomeLocality",e.appendChild(i),o.appendChild(i),n.appendChild(o),a.appendChild(n),e.appendChild(a),t.factory.orderList.appendChild(e)},_asset:function(e){var a=document.createElement("li");a.textContent="Do you own any of the following ?";var n=document.createElement("div");n.className="row";var o=document.createElement("div");o.className="col-md-12",o.id="assets_details",o.style="padding:1%",n.appendChild(o),a.appendChild(n),t.factory.orderList.appendChild(a),t.process.asset(e)}},process:{document:function(t){if(null!=t&&t.length>0){var a=e("#document_details");t.forEach(function(t){void 0;var n=document.createElement("div");n.className="col-sm-6 col-md-4",n.id="document_response_checkbox",a.append(n);var o=document.createElement("div");o.className="row",o.id="document_response_checkbox",o.style="margin:0",n.appendChild(o);var i=document.createElement("div");i.className="row",i.id="document_response_input_"+t.idProofId,i.style="padding:2% 2%;display:none;margin:0",n.appendChild(i);var l=document.createElement("div");l.className="btn-group",l.style="width:100%",l.setAttribute("data-toggle","buttons"),o.appendChild(l);var d=document.createElement("label");d.className="btn btn-custom-check",d.style="margin:6px 0px;width:100%",d.id="label_"+t.idProofId,d.textContent=t.idProofName,l.appendChild(d);var s=document.createElement("input");s.id="idProofCheckbox_"+t.idProofId,s.type="checkbox",s.name="document",s.onchange=function(){1==e("#idProofCheckbox_"+t.idProofId).prop("checked")?(void 0,e("#document_response_input_"+t.idProofId).css("display","block")):(void 0,e("#document_response_input_"+t.idProofId).css("display","none"),e("#Invalid_"+t.idProofId).css("display","none"))},d.appendChild(s);var r=document.createElement("p");r.id="Invalid_"+t.idProofId,r.textContent="(Invalid Number)",r.style="color:#ff1744;display:none;margin:1px 0 1px 42px;font-size:12px",o.appendChild(r);var c=document.createElement("p");c.id="idProofValueTd_"+t.idProofId,i.appendChild(c);var p=document.createElement("input");p.className="form-control",p.setAttribute("type","text"),p.oninput=applyInShort.validation.input,p.placeholder=t.idProofName+" Number",p.setAttribute("id","idProofValue_"+t.idProofId),c.appendChild(p)})}},language:function(t){var a=[],n=[];t.forEach(function(t){void 0;var o=t.languageId,i=t.languageName,l={};l.id=o,l.name=i,a.push(i),n.push(o);e("<option value="+o+"></option>").text(i)}),this.populateLanguages(a.reverse(),n.reverse())},populateLanguages:function(e,t){var a,n=document.getElementById("language_details");for(a=0;a<e.length;a++)if(1==t[a]||2==t[a]||3==t[a]||4==t[a]||5==t[a]){var o=document.createElement("div");o.className="col-xs-12 col-sm-4",o.style="padding-top:8px",n.appendChild(o),o.innerHTML='<div class="btn-group" style="margin:6px 0px;width:100%" data-toggle="buttons"><label class="btn btn-custom-check"style="width:100%" ><input id="lang_'+t[a]+'" type="checkbox" name="u" value=0 >'+e[a]+"</label></div>"}},experience:function(a,n){null!=a&&a.length>0&&(null==t.allJobRole&&(t.allJobRole=[],a.forEach(function(e){var a=e.jobName,n=parseInt(e.jobRoleId),o={};o.id=n,o.name=a,t.allJobRole.push(o)})),void 0,e("#workedJobRole_"+n).tokenInput(applyInShort.allJobRole,{theme:"facebook",placeholder:"Job Role?",hintText:"Select job role",minChars:0,tokenLimit:1,zindex:9999,preventDuplicates:!0}),applyInShort.aux.disableCurrentCompanyOption)},education:function(t){if(null!=t){var a=[{label:"None Selected",value:-1}];t.forEach(function(e){var t={label:e.educationName,value:parseInt(e.educationId)};a.push(t)});var n=e("#candidateHighestEducation");n.multiselect({nonSelectedText:"None Selected",includeSelectAllOption:!0,maxHeight:300}),n.multiselect("dataprovider",a),n.multiselect("rebuild")}},degree:function(t){if(null!=t){var a=[{label:"None Selected",value:-1}];t.forEach(function(e){var t={label:e.degreeName,value:parseInt(e.degreeId)};a.push(t)});var n=e("#candidateHighestDegree");n.multiselect({nonSelectedText:"None Selected",includeSelectAllOption:!0,maxHeight:300}),n.multiselect("dataprovider",a),n.multiselect("rebuild")}},asset:function(t){var a=e("#assets_details");t.forEach(function(e){void 0;var t=document.createElement("div");t.className="col-xs-12 col-sm-3 col-md-3",t.style="padding-top:8px",a.append(t);var n=document.createElement("div");n.className="btn-group",n.style="margin:6px 0px",n.setAttribute("data-toggle","buttons"),t.appendChild(n);var o=document.createElement("label");o.className="btn btn-custom-check",o.textContent=e.assetTitle,n.appendChild(o);var i=document.createElement("input");i.id="assetsCheckboxId_"+e.assetId,i.type="checkbox",i.name="document",o.appendChild(i)})}},validation:{checkIsUserLoggedIn:function(){var a=new Promise(function(e,a){t.method.getUserLogInStatus().then(function(a){null!=a&&(t.loginStatus=a),e()},function(e,t,n){a(n)})});a.then(function(){"1"==t.loginStatus?(e(".jobApplyBtnV2").show(),e("#incentiveSection").hide()):"2"==t.loginStatus?(e(".jobApplyBtnV2").hide(),e("#incentiveSection").show()):e("#incentiveSection").hide(),t.isNavBarLoaded=!0})["catch"](function(e){void 0})},input:function(t,a){return null!=t&&null!=a||(t=this.id.split("_")[1],a=this.value),!e("input#idProofCheckbox_"+t).is(":checked")||(3==t?validateAadhar(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1):1==t?validateDL(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1):2==t?validatePASSPORT(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1):4!=t||(validatePAN(a)?(e("#Invalid_"+t).css("display","none"),!0):(e("#Invalid_"+t).css("display","block"),!1)))},salary:function(){var t=e("#candidateLastWithdrawnSalary").val();!isNaN(t)&&parseInt(t)>=1e3&&parseInt(t)<=99e3?e("#invalidSalaryNotification").css("display","none"):e("#invalidSalaryNotification").css("display","block")},enableAddBtn:function(){var t=this.id.split("_")[1];""==e("#companyName_"+t).val()||""==e("#workedJobRole_"+t).val()?e("#addCurrentlyWorkingBtn_"+t).prop("disabled",!0):e("#addCurrentlyWorkingBtn_"+t).prop("disabled",!1)}},aux:{hideExperienceCaptureDiv:function(){e("#candidateFresh").is(":checked")&&(e("#experienceDuration").css("display","none"),e("#experienceQuestion").css("display","none"),e("#experienceCurrently").css("display","none"),e("#companyDetailsCapture").hide())},showExperienceCaptureDiv:function(){e("#candidateExp").is(":checked")&&(e("#experienceDuration").css("display","block"),e("#experienceQuestion").css("display","block"))},showExperienceBox:function(){var t=e("#candidateTotalExperienceYear").val(),a=e("#candidateTotalExperienceMonth").val();!isNaN(t)&&parseInt(t)>0||!isNaN(a)&&parseInt(a)>0?(e("#companyDetailsCapture").css("display","block"),e("#experienceCurrently").css("display","block")):(e("#companyDetailsCapture").css("display","none"),e("#experienceCurrently").css("display","none"))},disableCurrentCompanyOption:function(){if(e("#currentlyWorking").is(":checked")){if(e("#currentlyWorking").is(":checked"))for(var t=document.getElementsByName("addCurrently_Working"),a=0;a<t.length;a++)t[a].disabled=!1}else for(var t=document.getElementsByName("addCurrently_Working"),a=0;a<t.length;a++)t[a].disabled=!0,t[a].checked=!1},addmoreCompany:function(){if(void 0,t.companyCount<3){t.companyCount++;var a=document.createElement("div");a.className="row",a.id="row_"+t.companyCount,a.style="margin:4px 0";var n=document.createElement("div");n.className="col-sm-3",n.id="companyName",a.appendChild(n);var o=document.createElement("div");o.className="col-sm-3",o.id="workedJobRole",a.appendChild(o);var i=document.createElement("div");i.className="col-sm-4",i.id="workedCurrently",i.style="padding-top:1%;text-align:center",a.appendChild(i);var l=document.createElement("div");l.className="col-sm-2",a.appendChild(l);var d=document.createElement("input");d.className="form-control",d.type="text",d.placeholder="Company Name",d.id="companyName_"+t.companyCount,d.onchange=applyInShort.validation.enableAddBtn,n.appendChild(d);var s=document.createElement("input");s.id="workedJobRole_"+t.companyCount,s.onchange=applyInShort.validation.enableAddBtn,o.appendChild(s);var r=document.createElement("input");e("#currentlyWorking").is(":checked")?r.disabled=!1:r.disabled=!0,r.type="radio",r.style="margin:0 4%",r.id="addCurrentlyWorking_"+t.companyCount,r.name="addCurrently_Working",i.appendChild(r);var c=document.createElement("button");c.className="form-control",c.type="button",c.setAttribute("disabled",!0),c.id="addCurrentlyWorkingBtn_"+t.companyCount,c.value="Add",c.style="background:#09ac58;color:#fff;font-size:12px",c.name="Add",c.textContent="Add Company",c.onclick=applyInShort.aux.addmoreCompany,l.appendChild(c);var p=document.createElement("label");p.textContent="Is this your current company",p["for"]="addCurrentlyWorking_"+t.companyCount,i.appendChild(p);var m=t.companyCount-1;e("#companyDetailsCapture").append(a),e("#addCurrentlyWorkingBtn_"+m).prop("disabled",!0),t.process.experience(t.allJobRole,t.companyCount)}else e.notify("Max 3 Addition Allowed","error")}},"do":{submit:function(a){void 0;try{e.ajax({type:"POST",url:"/updateCandidateDetailViaShortJobApply/",contentType:"application/json; charset=utf-8",data:JSON.stringify(a),success:function(a){void 0,e("#finalSubmitBtn").prop("disabled",!0),3==a.statusCode?(t.render.messageModal("Thanks for applying ! Your will receive interview details in an SMS."),t["do"].hideAllInputFields()):4==a.statusCode?(t.render.messageModal("Looks like you have already applied to this job. Closing this tab.."),t["do"].hideAllInputFields()):(e.notify("Something went wrong. Please re-check submission!","error"),setTimeout(function(){e("#finalSubmitBtn").prop("disabled",!1)},3e3))}})}catch(n){void 0}},interviewIconChange:function(){1==e("#jobInterviewPanel").hasClass("in")?e("#interviewCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):e("#interviewCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")},localityIconChange:function(){1==e("#jobLocalityPanel").hasClass("in")?e("#localityCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):e("#localityCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")},detailsIconChange:function(){1==e("#missingInfo").hasClass("in")?e("#detailsCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):e("#detailsCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")},basicDetailsIconChange:function(){1==e("#jobBasicDetailsPanel").hasClass("in")?e("#jobBasicDetailsPanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):e("#jobBasicDetailsPanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")},validateSubmit:function(){t.missingData.shortPSPopulateResponse.propertyIdList,e(".notifyjs-container").trigger("notify-hide"),void 0;var a,n,o=[],i=!0,l=[],d={},s={};d.candidateId=parseInt(t.candidateId),d.jobPostId=parseInt(t.jobPostId),d.propertyIdList=t.missingData.shortPSPopulateResponse.propertyIdList;var r=e("#jobLocality").val();if(null==r||0==r){i=!1,n="Please select a valid Interview locality.",e.notify(n,"error");var c={propId:11,message:n,submissionStatus:i};o.push(c)}else d.localityId=parseInt(r);var p=e("#interViewSlot").val();if(t.isInterviewSlotAvailable)if(null==p||"0"==p){i=!1,n="Please select a valid Interview Slot.",e.notify(n,"error");var c={propId:12,message:n,submissionStatus:i};o.push(c)}else d.dateInMillis=parseInt(p.split("_")[0]),d.timeSlotId=parseInt(p.split("_")[1]);if(void 0,e.each(t.missingData.shortPSPopulateResponse.propertyIdList,function(d,r){if(n="",i=!0,0==r){var c=[];e("#document_details").each(function(){e(this).find("input[type=checkbox]").each(function(){var a,l={};
a=e(this).attr("id").split("_").slice(-1).pop();var d=e("input#idProofCheckbox_"+a).is(":checked"),s=t.validation.input(a,e("input#idProofValue_"+a).val().trim());if(s&&d&&(l.idProofId=parseInt(a),l.idNumber=e("input#idProofValue_"+a).val().trim()),jQuery.isEmptyObject(l)||c.push(l),!i){var p={propId:r,message:n,submissionStatus:i};o.push(p)}})}),s.idProofWithIdNumberList=c}else if(1==r){var p,m=[];e("#language_details input:checked").map(function(){p=0;var e,t=this.id.split("_")[1],a=this.name,n={};for(var o in m)if(m[o].id==t){e=o,p=1;break}0==p?(n.id=t,n.u=0,n.rw=0,n.s=0,"u"==a&&(n.u=1),m.push(n)):"u"==a&&(m[e].u=1)}).get();if(s.candidateKnownLanguageList=m,!i){s.candidateKnownLanguageList=[];var u={propId:r,message:n,submissionStatus:i};o.push(u)}}else if(2==r){var v=[];e("#assets_details input:checked").each(function(){var t=parseInt(e(this).attr("id").split("_").slice(-1).pop());v.push(t)}),s.assetIdList=v}else if(3==r){var h=null,y=null;if("Day"==e("#dob_day").val()&&"Month"==e("#dob_month").val()&&"Year"==e("#dob_year").val()||("Day"==e("#dob_day").val()||"Month"==e("#dob_month").val()||"Year"==e("#dob_year").val()?i=!1:h=e("#dob_year").val()+"-"+e("#dob_month").val()+"-"+e("#dob_day").val()),null==h||""==h);else{y=String(h);var g=new Date(y),b=new Date,C=new Date(b.setFullYear(b.getFullYear()-18));b=new Date;var f=new Date(b.setFullYear(b.getFullYear()-70));b=new Date,g>=C&&(a=0,i=!1),g<=f&&(a=0,i=!1)}if(s.candidateDob=y,n="Please provide valid Date of birth",!i){e.notify(n,"error"),s.candidateDob=null;var u={propId:r,message:n,submissionStatus:i};o.push(u)}}else if(4==r){0==e('input:radio[name="candidateExperience"]:checked').length;var E,x=0,I=0;if("0"==e('input:radio[name="candidateExperience"]:checked').val())E=0;else{""==e("#candidateTotalExperienceMonth").val()&&""==e("#candidateTotalExperienceYear").val()?E=null:(x=e("#candidateTotalExperienceMonth").val(),I=e("#candidateTotalExperienceYear").val(),x=parseInt(""==x?0:x),I=parseInt(""==I?0:I),E=x+12*I);var S=0==e("#candidateTotalExperienceMonth").val()&&0==e("#candidateTotalExperienceYear").val();e("input[id=candidateExp]").is(":checked")&&S&&(n="Please provide your total years of experience",e.notify(n,"error"),i=!1)}e("input[id=candidateExp]").is(":checked")&&e("#currentlyWorking").is(":checked")&&!e("input[name=addCurrently_Working]").is(":checked")&&(n="Please provide your current company details and mark appropriately.",e.notify(n,"error"),i=!1);var w=1;for(l=[],w;w<=3;w++){var D={};""==e("#companyName_"+w).val()&&e("#workedJobRole_"+w).val()>0&&(n="please provide company name",e.notify("please provide company name","error"),i=!1),""!=e("#companyName_"+w).val()&&e("#workedJobRole_"+w).val()<0&&(n+=" | please provide Job Role",e.notify("please provide Job Role","error"),i=!1),""!=e("#companyName_"+w).val()&&e("#workedJobRole_"+w).val()>0&&(D.companyName=e("#companyName_"+w).val(),D.jobRoleId=e("#workedJobRole_"+w).val(),D.current=e("#addCurrentlyWorking_"+w).is(":checked")),jQuery.isEmptyObject(D)||l.push(D)}if(s.candidateTotalExperience=E,s.pastCompanyList=l,s.candidateIsEmployed=e("#currentlyWorking").is(":checked"),s.extraDetailAvailable=!0,!i){s.candidateTotalExperience=null,s.pastCompanyList=null,s.candidateIsEmployed=null,s.extraDetailAvailable=null;var u={propId:r,message:n,submissionStatus:i};o.push(u)}}else if(5==r){if(s.candidateEducationLevel=e("#candidateHighestEducation").val(),s.candidateDegree=e("#candidateHighestDegree").val(),s.candidateEducationInstitute=e("#candidateEducationInstitute").val(),s.candidateEducationCompletionStatus=parseInt(e('input:radio[name="candidateEducationCompletionStatus"]:checked').val()),("-1"==e("#candidateHighestEducation").val()||e("#candidateHighestEducation").val()>3||null==e('input:radio[name="candidateEducationCompletionStatus"]:checked').val())&&("-1"!=e("#candidateHighestDegree").val()&&""!=e("#candidateEducationInstitute").val()||(s.candidateEducationLevel=null,s.candidateDegree=null,s.candidateEducationInstitute=null,s.candidateEducationCompletionStatus=null)),!i){var u={propId:r,message:n,submissionStatus:i};o.push(u)}}else if(6==r){if(s.candidateGender=e('input:radio[name="gender"]:checked').val(),0==e('input:radio[name="gender"]:checked').length,!i){s.candidateGender=null;var u={propId:r,message:n,submissionStatus:i};o.push(u)}}else if(7==r){var P=e("#candidateLastWithdrawnSalary").val();if(!isNaN(P)&&parseInt(P)>=1e3&&parseInt(P)<=1e5)s.candidateLastWithdrawnSalary=parseInt(e("#candidateLastWithdrawnSalary").val());else if(!i){s.candidateLastWithdrawnSalary=null;var u={propId:r,message:"Please enter a valid 'Last Withdrawn Salary' per month. (Min: 1000, Max: 1,00,000)",submissionStatus:i};o.push(u)}}else if(8==r){var N=e("#candidateHomeLocality").val();if(null==N?s.candidateHomeLocality=null:s.candidateHomeLocality=parseInt(N),!i){var u={propId:r,message:"Please enter a valid Home locality",submissionStatus:i};o.push(u)}}else if(9==r){var k=e("#candidateTimeShiftPref").val();if("-1"==k?s.candidateTimeShiftPref=null:s.candidateTimeShiftPref=e("#candidateTimeShiftPref").val(),!i){var u={propId:r,message:"Please enter a valid time preference",submissionStatus:i};o.push(u)}}}),void 0,0==o.length)return d.updateCandidateDetail=s,this.submit(d),e("#finalSubmitBtn").prop("disabled",!0),setTimeout(function(){e("#finalSubmitBtn").prop("disabled",!1)},7e3),!0},hideAllInputFields:function(){e("#finalSubmitBtn").prop("disabled",!0),t.render.hideContainer()}}};return t.method.init(),t.method.ending(),document.getElementById("finalSubmitBtn").addEventListener("click",function(){t["do"].validateSubmit()}),document.getElementById("jobInterviewHead").addEventListener("click",function(){t["do"].interviewIconChange()}),document.getElementById("jobLocalityHead").addEventListener("click",function(){t["do"].localityIconChange()}),document.getElementById("jobdetailsHead").addEventListener("click",function(){t["do"].detailsIconChange()}),document.getElementById("jobBasicDetailsHead").addEventListener("click",function(){t["do"].basicDetailsIconChange()}),t}(jQuery);