var applyInShort=function(e){"use strict";var a={isNavBarLoaded:!1,isInterviewSlotAvailable:!1,loginStatus:null,candidateId:null,jobPostId:null,missingDataURL:null,missingData:null,jobTitle:null,companyName:null,allJobRole:null,companyCount:1,factory:{parent:null,mainDiv:null,subDivOne:null,subDivTwo:null,orderList:null,hintMessage:null,factory:function(){this.parent=e("#missingInfo"),this.mainDiv=document.createElement("div"),this.mainDiv.className="row",this.mainDiv.style="margin:0",this.parent.append(this.mainDiv),this.subDivOne=document.createElement("div"),this.subDivOne.className="col-sm-12",this.mainDiv.appendChild(this.subDivOne),this.hintMessage=document.createElement("p"),this.hintMessage.textContent="Please provide following details to apply for this job",this.hintMessage.style="margin:10px 0;font-weight:bold;font-size:18px",this.subDivOne.appendChild(this.hintMessage),this.subDivTwo=document.createElement("div"),this.subDivTwo.style="padding:0 4%",this.subDivTwo.className="col-sm-12",this.mainDiv.appendChild(this.subDivTwo),this.orderList=document.createElement("ol"),this.orderList.className="list-group",this.subDivTwo.appendChild(this.orderList)}},method:{init:function(){a.render.hideContainer(),a.factory.factory(),a.validation.checkIsUserLoggedIn(),a.method.prepareRequestParam(),a.render.applyJobForm()},ending:function(){a.render.showContainer(),e("#footer_inc").load("/footer")},getUserLogInStatus:function(){return a.isNavBarLoaded?new Promise(function(e,a){e(null)}):e.ajax({type:"GET",url:"/checkNavBar"})},getMissingData:function(){return null!=a.missingDataURL?e.ajax({type:"GET",url:a.missingDataURL}):new Promise(function(e,a){e(null)})},prepareRequestParam:function(){var e=window.location.pathname.split("-");a.jobPostId=e[e.length-1];var t=window.location.search.split("&")[0].split("=");a.candidateId=t[t.length-1],a.missingDataURL="/apply/inshort/api/getMissingData?candidateId="+a.candidateId+"&jobPostId="+a.jobPostId}},fetch:{missingData:function(){return new Promise(function(e,t){a.method.getMissingData().then(function(t){null!=t&&(a.missingData=t),e()},function(e,a,n){t(n)})})}},render:{messageModal:function(t,n){var i="Notice";e("#messagePromptModal").modal(),e("#myModalLabel").html(i),e("#customMsg").html(t),null!=n&&a.render.hideContainer()},hideContainer:function(){e("#card_container").hide()},showContainer:function(){e("#card_container").show()},hideUI:function(t,n){a.render.messageModal(t,null),e("#card_container").hide()},applyJobForm:function(){var t=a.fetch.missingData();t.then(function(){void 0,void 0,e("#finalSubmitBtn").prop("disabled",!0),5==a.missingData.statusCode?a.render.messageModal("You have already applied to this Job.",4e3):6==a.missingData.statusCode?a.render.messageModal("Invalid Link. No Job Found.",4e3):7==a.missingData.statusCode?a.render.messageModal(a.missingData.message+". ",7e3):4==a.missingData.statusCode&&(e("#finalSubmitBtn").prop("disabled",!1),null!=a.missingData.localityPopulateResponse&&a.render.jobLocalityCard(a.missingData.localityPopulateResponse),null!=a.missingData.shortPSPopulateResponse&&a.missingData.shortPSPopulateResponse.visible?a.render.preScreenCard(a.missingData.shortPSPopulateResponse):e("#preScreenCardDiv").hide(),null!=a.missingData.interviewSlotPopulateResponse&&2==a.missingData.interviewSlotPopulateResponse.interviewResponse.status&&null!=a.missingData.interviewSlotPopulateResponse.interviewSlotMap?a.render.interviewSlotCard(a.missingData.interviewSlotPopulateResponse.interviewSlotMap):(e("#jobInterviewSlotCardDiv").hide(),a.isInterviewSlotAvailable=!1),void 0)})["catch"](function(e){void 0})},jobLocalityCard:function(t){void 0;var n=t.localityMap;if(a.jobTitle=t.jobTitle+" ",a.companyName=t.companyName,e("#locality_jobNameConfirmation").html(a.jobTitle),e("#locality_companyNameConfirmation").html(a.companyName),null!=n){if(Object.keys(n).length>1){var i=e("<option value=0></option>").text("Select Location");e("#jobLocality").append(i)}for(var o in n){var l=o,d=n[o],i=e("<option value="+l+"></option>").text(d);e("#jobLocality").append(i)}}n=null},jobOtherDetailsCard:function(a){void 0;e("#preScreenCardDiv")},interviewSlotCard:function(t){if(void 0,null==t)return void(a.isInterviewSlotAvailable=!1);if(a.isInterviewSlotAvailable=!0,e("#interviewJobTitle").html(a.jobTitle),e("#interviewCompanyName").html(a.companyName),null!=t){if(Object.keys(t).length>1){var n=e("<option value=0></option>").text("Select Interview slot");e("#interViewSlot").append(n)}for(var i in t){var o=t[i].interviewDateMillis,l=o+"_"+t[i].interviewTimeSlot.slotId,d=i,n=e("<option value="+l+"></option>").text(d);e("#interViewSlot").append(n)}}},preScreenCard:function(e){null!=e.documentList&&e.documentList.length>0&&a.construct._document(e.documentList),null!=e.languageList&&e.languageList.length>0&&a.construct._language(e.languageList),null!=e.assetList&&e.assetList.length>0&&a.construct._asset(e.assetList),null!=e.dobMissing&&e.dobMissing&&a.construct._dob(),null!=e.genderMissing&&e.genderMissing&&a.construct._gender(),null!=e.salaryMissing&&e.salaryMissing&&a.construct._salary(),null!=e.experienceResponse&&e.experienceResponse.experienceMissing&&a.construct._experience(e.experienceResponse.jobRoleList),null!=e.educationResponse&&e.educationResponse.educationMissing&&a.construct._education(e.educationResponse.educationList,e.educationResponse.degreeList)}},construct:{_document:function(e){var t=document.createElement("li");t.textContent="Do you have the following document(s) ?";var n=document.createElement("div");n.className="row";var i=document.createElement("div");i.className="col-sm-12 col-md-12",i.id="document_details",i.style="padding:2%",n.appendChild(i),t.appendChild(n),a.factory.orderList.appendChild(t),a.process.document(e)},_language:function(e){var t=document.createElement("li");t.textContent="Do you know following language(s) ?";var n=document.createElement("div");n.className="row";var i=document.createElement("div");i.className="col-sm-12",i.id="language_details",i.style="padding:1%;",n.appendChild(i),t.appendChild(n),a.factory.orderList.appendChild(t),a.process.language(e)},_dob:function(){var e=document.createElement("li");e.textContent="Please mention your date of birth",a.factory.orderList.appendChild(e);var t=document.createElement("div");t.className="row";var n=document.createElement("div");n.className="col-sm-5 hidden-xs",n.style="padding:14px 3%",t.appendChild(n);var i=document.createElement("div");i.className="col-xs-12 col-sm-6 ",i.style="padding:1% 2%",t.appendChild(i);var o=document.createElement("font");o.textContent="Date of birth",o.style="font-weight:bold",n.appendChild(o);var l=document.createElement("select");l.className="selectDropDown",l.id="dob_day",l.style="margin:0 2%",i.appendChild(l);var d=document.createElement("option");d.textContent="Day",l.appendChild(d);var r;for(r=1;r<=31;r++){var s=document.createElement("option");s.value=("0"+r).slice(-2),s.textContent=r,l.appendChild(s)}var c=document.createElement("select");c.className="selectDropDown",c.id="dob_month",c.style="margin:0 2%",i.appendChild(c);var p=document.createElement("option");for(p.textContent="Month",c.appendChild(p),r=1;r<=12;r++){s=document.createElement("option"),s.value=("0"+r).slice(-2);var u;switch(r){case 1:u="January";break;case 2:u="February";break;case 3:u="March";break;case 4:u="April";break;case 5:u="May";break;case 6:u="June";break;case 7:u="July";break;case 8:u="August";break;case 9:u="September";break;case 10:u="October";break;case 11:u="November";break;case 12:u="December"}s.textContent=u,c.appendChild(s)}var m=document.createElement("select");m.className="selectDropDown",m.id="dob_year",m.style="margin:0 2%",i.appendChild(m);var v=document.createElement("option");for(v.textContent="Year",m.appendChild(v),r=(new Date).getFullYear()-19;r>=(new Date).getFullYear()-80;r--)s=document.createElement("option"),s.value=r,s.textContent=r,m.appendChild(s);e.appendChild(t),a.factory.orderList.appendChild(e)},_experience:function(e){var t=document.createElement("li");t.textContent="Do you have work experience?";var n=document.createElement("div");n.className="row";var i=document.createElement("div");i.className="row",i.style="display: none;",i.id="companyDetailsCapture";var o=document.createElement("p");o.textContent="Where all have you worked before? ",o.style="margin-left:10px",i.appendChild(o);var l=document.createElement("div");l.className="row",l.id="row_1",l.style="margin:4px 0",i.appendChild(l);var d=document.createElement("div");d.className="col-sm-3",d.id="companyName",l.appendChild(d);var r=document.createElement("div");r.className="col-sm-3",r.id="workedJobRole",l.appendChild(r);var s=document.createElement("div");s.className="col-sm-4",s.id="workedCurrently",s.style="padding-top:1%;text-align:center",l.appendChild(s);var c=document.createElement("div");c.className="col-sm-2",l.appendChild(c);var p=document.createElement("input");p.className="form-control",p.type="text",p.placeholder="Company Name",p.id="companyName_1",p.onchange=applyInShort.validation.enableAddBtn,d.appendChild(p);var u=document.createElement("input");u.id="workedJobRole_1",u.onchange=applyInShort.validation.enableAddBtn,r.appendChild(u);var m=document.createElement("input");m.type="radio",m.style="margin:0 4%;",m.id="addCurrentlyWorking_1",m.name="addCurrently_Working",m.setAttribute("disabled",!0),m.value=0,s.appendChild(m);var v=document.createElement("button");v.className="form-control",v.type="button",v.setAttribute("disabled",!0),v.id="addCurrentlyWorkingBtn_1",v.value="Add",v.name="Add",v.style="background:#09ac58;color:#fff;font-size:12px",v.textContent="Add Company",v.onclick=applyInShort.aux.addmoreCompany,c.appendChild(v),m.type="radio",m.style="margin:0 4%",m.name="addCurrently_Working",s.appendChild(m);var h=document.createElement("label");h.textContent="Is this your current company",h["for"]="addCurrentlyWorking_1",s.appendChild(h);var y=document.createElement("div");y.className="col-xs-12 col-md-12",y.style="padding:2% 0;",n.appendChild(y);var g=document.createElement("div");g.className="col-xs-12 col-sm-5",g.id="experienceQuestion",g.style="padding:2% 3%;display:none",n.appendChild(g);var C=document.createElement("p");C.textContent="How many year(s) of work experience do you have?",g.appendChild(C);var f=document.createElement("div");f.className="col-xs-12 col-md-6",f.id="experienceDuration",f.style="display:none;padding:1%",n.appendChild(f);var b=document.createElement("div");b.className="col-xs-12 col-sm-3 ",y.appendChild(b);var E=document.createElement("div");E.className="col-xs-12 col-sm-4",y.appendChild(E);var x=document.createElement("input");x.type="radio",x.id="candidateFresh",x.name="candidateExperience",x.value=0,x.onchange=applyInShort.aux.hideExperienceCaptureDiv,b.appendChild(x);var I=document.createElement("label");I.textContent="I'm a fresher",I["for"]="candidateFresh",b.appendChild(I);var w=document.createElement("input");w.type="radio",w.id="candidateExp",w.name="candidateExperience",w.value=1,w.onchange=applyInShort.aux.showExperienceCaptureDiv,E.appendChild(w);var N=document.createElement("label");N.textContent="I have work experience",N["for"]="candidateExp",E.appendChild(N);var _=document.createElement("input");_.className="form-control",_.type="number",_.placeholder="Years",_.style="margin-top:1%",_.oninput=applyInShort.aux.showExperienceBox,_.id="candidateTotalExperienceYear",f.appendChild(_);var S=document.createElement("input");S.className="form-control",S.type="number",S.placeholder="Months",S.id="candidateTotalExperienceMonth",S.oninput=applyInShort.aux.showExperienceBox,f.appendChild(S);var k=document.createElement("div");k.className="col-xs-12 col-md-10",k.id="experienceCurrently",k.style="padding:2% 3%;display:none",n.appendChild(k);var D=document.createElement("p");D.textContent="Are you currently working : ",k.appendChild(D);var L=document.createElement("input");L.id="currentlyWorking",L.type="checkbox",L.style="margin:0 2% 0 4%",L.onclick=applyInShort.aux.disableCurrentCompanyOption,D.appendChild(L);var P=document.createElement("label");P.textContent="Yes",P["for"]="currentlyWorking",D.appendChild(P),t.appendChild(n),t.appendChild(i),a.factory.orderList.appendChild(t),a.process.experience(e,a.companyCount)},_education:function(e,t){var n=document.createElement("li");n.textContent="Please provide your education details";var i=document.createElement("div");i.className="row",n.appendChild(i);var o=document.createElement("div");o.className="row",n.appendChild(o);var l=document.createElement("div");l.className="row",n.appendChild(l);var d=document.createElement("div");d.className="row",n.appendChild(d);var r=document.createElement("div");r.className="col-xs-12 col-sm-5",r.id="education_details",i.appendChild(r);var s=document.createElement("div");s.className="col-xs-12 col-sm-6",s.style="padding:1%",i.appendChild(s);var c=document.createElement("font");c.textContent="Highest education qualification? ",c.style="font-weight:bold;",r.appendChild(c);var p=document.createElement("select");p.id="candidateHighestEducation",s.appendChild(p);var u=document.createElement("div");u.className="col-xs-12 col-sm-5",u.id="education_details",o.appendChild(u);var m=document.createElement("div");m.className="col-xs-12 col-sm-6",m.style="padding-top:3%",o.appendChild(m);var v=document.createElement("font");v.textContent="Have you successfully completed this course? ",v.style="font-weight:bold;",u.appendChild(v);var h=document.createElement("input");h.type="radio",h.style="margin:0 4% 0 0",h.id="successYes",h.name="candidateEducationCompletionStatus",h.value=1,m.appendChild(h);var y=document.createElement("label");y.textContent="Yes",y["for"]="successConformationHEQ",m.appendChild(y);var g=document.createElement("input");g.type="radio",g.style="margin:0 4% 0 8%",g.id="successNo",g.name="candidateEducationCompletionStatus",g.value=0,m.appendChild(g);var C=document.createElement("label");C.textContent="No",C["for"]="successConformationHEQ",m.appendChild(C);var f=document.createElement("div");f.className="col-xs-12 col-sm-5",f.id="education_details",l.appendChild(f);var b=document.createElement("div");b.className="col-xs-12 col-sm-6",b.id="education_details",b.style="padding:1%",l.appendChild(b);var E=document.createElement("font");E.textContent="Highest education degree? ",E.style="font-weight:bold;",f.appendChild(E);var x=document.createElement("select");x.id="candidateHighestDegree",b.appendChild(x);var I=document.createElement("div");I.className="col-xs-12 col-sm-5",I.style="padding:2% 3%",d.appendChild(I);var w=document.createElement("div");w.className="col-xs-12 col-sm-6",w.style="padding:1%",d.appendChild(w);var N=document.createElement("font");N.textContent="Last attended education institute?",N.style="margin-top:8px;font-weight:bold",I.appendChild(N);var _=document.createElement("input");_.className="form-control",_.type="text",_.placeholder="School/Institute Name",_.id="candidateEducationInstitute",w.appendChild(_),a.factory.orderList.appendChild(n),a.process.degree(t),a.process.education(e)},_gender:function(){var e=document.createElement("li");e.textContent="Please mention your gender ";var t=document.createElement("div");t.className="row";var n=document.createElement("div");n.className="col-sm-12 col-md-12",n.id="gender_details",n.style="padding:2% 0;";var i=document.createElement("div");i.className="col-xs-6 col-sm-3",n.appendChild(i);var o=document.createElement("div");o.className="col-xs-6 col-sm-3",n.appendChild(o);var l=document.createElement("label");l.textContent="Male",l["for"]="genderMale";var d=document.createElement("input");d.type="radio",d.style="margin:0 8%",d.id="genderMale",d.name="gender",d.value=0;var r=document.createElement("label");r.textContent="Female",r["for"]="genderFemale";var s=document.createElement("input");s.type="radio",s.style="margin:0 8%",s.id="genderFemale",s.name="gender",s.value=1,i.appendChild(d),i.appendChild(l),o.appendChild(s),o.appendChild(r),t.appendChild(n),e.appendChild(t),a.factory.orderList.appendChild(e)},_salary:function(){var e=document.createElement("li");e.textContent="Please provide your salary details";var t=document.createElement("div");t.className="row";var n=document.createElement("div");n.className="col-xs-12 col-sm-5",n.id="salary_details";var i=document.createElement("div");i.className="col-xs-12 col-sm-6",i.id="salary_response",i.style="padding:1%";var o=document.createElement("font");o.textContent="Current/last drawn salary",o.style="margin-top:8px;font-weight:bold",n.appendChild(o);var l=document.createElement("input");l.className="form-control",l.type="number",l.placeholder="Salary InHand/Month",l.id="candidateLastWithdrawnSalary",l.oninput=applyInShort.validation.salary,i.appendChild(l);var d=document.createElement("p");d.id="invalidSalaryNotification",d.textContent="Invalid Salary Input Please enter a valid 'Last Withdrawn Salary' (Ex: 15000) in a month",d.style="color:#ff1744;display:none;margin:1px 0 1px 2px;font-size:12px",i.appendChild(d),t.appendChild(n),t.appendChild(i),e.appendChild(t),a.factory.orderList.appendChild(e)},_locality:function(){var e=document.createElement("li");e.textContent="Which is your home locality? ";var t=document.createElement("div");t.className="row";var n=document.createElement("div");n.className="col-sm-12 col-md-12",n.id="locality_details",n.style="padding:2%";var i=document.createElement("p");i.textContent="Locality",i.style="margin-left:18px;font-weight:bold";var o=document.createElement("input");o.id="candidateHomeLocality",e.appendChild(o),i.appendChild(o),n.appendChild(i),t.appendChild(n),e.appendChild(t),a.factory.orderList.appendChild(e)},_asset:function(e){var t=document.createElement("li");t.textContent="Do you own any of the following ?";var n=document.createElement("div");n.className="row";var i=document.createElement("div");i.className="col-md-12",i.id="assets_details",i.style="padding:1%",n.appendChild(i),t.appendChild(n),a.factory.orderList.appendChild(t),a.process.asset(e)}},process:{document:function(a){if(null!=a&&a.length>0){var t=e("#document_details");a.forEach(function(a){void 0;var n=document.createElement("div");n.className="col-sm-6 col-md-4",n.id="document_response_checkbox",t.append(n);var i=document.createElement("div");i.className="row",i.id="document_response_checkbox",i.style="margin:0",n.appendChild(i);var o=document.createElement("div");o.className="row",o.id="document_response_input_"+a.idProofId,o.style="padding:2% 2%;display:none;margin:0",n.appendChild(o);var l=document.createElement("div");l.className="btn-group",l.style="width:100%",l.setAttribute("data-toggle","buttons"),i.appendChild(l);var d=document.createElement("label");d.className="btn btn-custom-check",d.style="margin:6px 0px;width:100%",d.id="label_"+a.idProofId,d.textContent=a.idProofName,l.appendChild(d);var r=document.createElement("input");r.id="idProofCheckbox_"+a.idProofId,r.type="checkbox",r.name="document",r.onchange=function(){1==e("#idProofCheckbox_"+a.idProofId).prop("checked")?(void 0,e("#document_response_input_"+a.idProofId).css("display","block")):(void 0,e("#document_response_input_"+a.idProofId).css("display","none"),e("#Invalid_"+a.idProofId).css("display","none"))},d.appendChild(r);var s=document.createElement("p");s.id="Invalid_"+a.idProofId,s.textContent="(Invalid Number)",s.style="color:#ff1744;display:none;margin:1px 0 1px 42px;font-size:12px",i.appendChild(s);var c=document.createElement("p");c.id="idProofValueTd_"+a.idProofId,o.appendChild(c);var p=document.createElement("input");p.className="form-control",p.setAttribute("type","text"),p.oninput=applyInShort.validation.input,p.placeholder=a.idProofName+" Number",p.setAttribute("id","idProofValue_"+a.idProofId),c.appendChild(p)})}},language:function(a){var t=[],n=[];a.forEach(function(a){void 0;var i=a.languageId,o=a.languageName,l={};l.id=i,l.name=o,t.push(o),n.push(i);e("<option value="+i+"></option>").text(o)}),this.populateLanguages(t.reverse(),n.reverse())},populateLanguages:function(e,a){var t,n=document.getElementById("language_details");for(t=0;t<e.length;t++)if(1==a[t]||2==a[t]||3==a[t]||4==a[t]||5==a[t]){var i=document.createElement("div");i.className="col-xs-12 col-sm-4",i.style="padding-top:8px",n.appendChild(i),i.innerHTML='<div class="btn-group" style="margin:6px 0px;width:100%" data-toggle="buttons"><label class="btn btn-custom-check"style="width:100%" ><input id="lang_'+a[t]+'" type="checkbox" name="u" value=0 >'+e[t]+"</label></div>"}},experience:function(t,n){null!=t&&t.length>0&&(null==a.allJobRole&&(a.allJobRole=[],t.forEach(function(e){var t=e.jobName,n=parseInt(e.jobRoleId),i={};i.id=n,i.name=t,a.allJobRole.push(i)})),void 0,e("#workedJobRole_"+n).tokenInput(applyInShort.allJobRole,{theme:"facebook",placeholder:"Job Role?",hintText:"Select job role",minChars:0,tokenLimit:1,zindex:9999,preventDuplicates:!0}),applyInShort.aux.disableCurrentCompanyOption)},education:function(a){if(null!=a){var t=[{label:"None Selected",value:-1}];a.forEach(function(e){var a={label:e.educationName,value:parseInt(e.educationId)};t.push(a)});var n=e("#candidateHighestEducation");n.multiselect({nonSelectedText:"None Selected",includeSelectAllOption:!0,maxHeight:300}),n.multiselect("dataprovider",t),n.multiselect("rebuild")}},degree:function(a){if(null!=a){var t=[{label:"None Selected",value:-1}];a.forEach(function(e){var a={label:e.degreeName,value:parseInt(e.degreeId)};t.push(a)});var n=e("#candidateHighestDegree");n.multiselect({nonSelectedText:"None Selected",includeSelectAllOption:!0,maxHeight:300}),n.multiselect("dataprovider",t),n.multiselect("rebuild")}},asset:function(a){var t=e("#assets_details");a.forEach(function(e){void 0;var a=document.createElement("div");a.className="col-xs-12 col-sm-3 col-md-3",a.style="padding-top:8px",t.append(a);var n=document.createElement("div");n.className="btn-group",n.style="margin:6px 0px",n.setAttribute("data-toggle","buttons"),a.appendChild(n);var i=document.createElement("label");i.className="btn btn-custom-check",i.textContent=e.assetTitle,n.appendChild(i);var o=document.createElement("input");o.id="assetsCheckboxId_"+e.assetId,o.type="checkbox",o.name="document",i.appendChild(o)})}},validation:{checkIsUserLoggedIn:function(){var t=new Promise(function(e,t){a.method.getUserLogInStatus().then(function(t){null!=t&&(a.loginStatus=t),e()},function(e,a,n){t(n)})});t.then(function(){"1"==a.loginStatus?(e("#nav_bar_inc").load("/navBarLoggedIn"),e(".jobApplyBtnV2").show(),e("#incentiveSection").hide()):"2"==a.loginStatus?(e("#nav_bar_inc").load("/partnerNavBarLoggedIn"),e(".jobApplyBtnV2").hide(),e("#incentiveSection").show()):(e("#nav_bar_inc").load("/navBar"),e("#incentiveSection").hide()),a.isNavBarLoaded=!0})["catch"](function(e){void 0})},input:function(a,t){return null!=a&&null!=t||(a=this.id.split("_")[1],t=this.value),!e("input#idProofCheckbox_"+a).is(":checked")||(3==a?validateAadhar(t)?(e("#Invalid_"+a).css("display","none"),!0):(e("#Invalid_"+a).css("display","block"),!1):1==a?validateDL(t)?(e("#Invalid_"+a).css("display","none"),!0):(e("#Invalid_"+a).css("display","block"),!1):2==a?validatePASSPORT(t)?(e("#Invalid_"+a).css("display","none"),!0):(e("#Invalid_"+a).css("display","block"),!1):4!=a||(validatePAN(t)?(e("#Invalid_"+a).css("display","none"),!0):(e("#Invalid_"+a).css("display","block"),!1)))},salary:function(){var a=e("#candidateLastWithdrawnSalary").val();!isNaN(a)&&parseInt(a)>=1e3&&parseInt(a)<=99e3?e("#invalidSalaryNotification").css("display","none"):e("#invalidSalaryNotification").css("display","block")},enableAddBtn:function(){var a=this.id.split("_")[1];""==e("#companyName_"+a).val()||""==e("#workedJobRole_"+a).val()?e("#addCurrentlyWorkingBtn_"+a).prop("disabled",!0):e("#addCurrentlyWorkingBtn_"+a).prop("disabled",!1)}},aux:{hideExperienceCaptureDiv:function(){e("#candidateFresh").is(":checked")&&(e("#experienceDuration").css("display","none"),e("#experienceQuestion").css("display","none"),e("#experienceCurrently").css("display","none"),e("#companyDetailsCapture").hide())},showExperienceCaptureDiv:function(){e("#candidateExp").is(":checked")&&(e("#experienceDuration").css("display","block"),e("#experienceQuestion").css("display","block"))},showExperienceBox:function(){var a=e("#candidateTotalExperienceYear").val(),t=e("#candidateTotalExperienceMonth").val();!isNaN(a)&&parseInt(a)>0||!isNaN(t)&&parseInt(t)>0?(e("#companyDetailsCapture").css("display","block"),e("#experienceCurrently").css("display","block")):(e("#companyDetailsCapture").css("display","none"),e("#experienceCurrently").css("display","none"))},disableCurrentCompanyOption:function(){if(e("#currentlyWorking").is(":checked")){if(e("#currentlyWorking").is(":checked"))for(var a=document.getElementsByName("addCurrently_Working"),t=0;t<a.length;t++)a[t].disabled=!1}else for(var a=document.getElementsByName("addCurrently_Working"),t=0;t<a.length;t++)a[t].disabled=!0,a[t].checked=!1},addmoreCompany:function(){if(void 0,a.companyCount<3){a.companyCount++;var t=document.createElement("div");t.className="row",t.id="row_"+a.companyCount,t.style="margin:4px 0";var n=document.createElement("div");n.className="col-sm-3",n.id="companyName",t.appendChild(n);var i=document.createElement("div");i.className="col-sm-3",i.id="workedJobRole",t.appendChild(i);var o=document.createElement("div");o.className="col-sm-4",o.id="workedCurrently",o.style="padding-top:1%;text-align:center",t.appendChild(o);var l=document.createElement("div");l.className="col-sm-2",t.appendChild(l);var d=document.createElement("input");d.className="form-control",d.type="text",d.placeholder="Company Name",d.id="companyName_"+a.companyCount,d.onchange=applyInShort.validation.enableAddBtn,n.appendChild(d);var r=document.createElement("input");r.id="workedJobRole_"+a.companyCount,r.onchange=applyInShort.validation.enableAddBtn,i.appendChild(r);var s=document.createElement("input");e("#currentlyWorking").is(":checked")?s.disabled=!1:s.disabled=!0,s.type="radio",s.style="margin:0 4%",s.id="addCurrentlyWorking_"+a.companyCount,s.name="addCurrently_Working",o.appendChild(s);var c=document.createElement("button");c.className="form-control",c.type="button",c.setAttribute("disabled",!0),c.id="addCurrentlyWorkingBtn_"+a.companyCount,c.value="Add",c.style="background:#09ac58;color:#fff;font-size:12px",c.name="Add",c.textContent="Add Company",c.onclick=applyInShort.aux.addmoreCompany,l.appendChild(c);var p=document.createElement("label");p.textContent="Is this your current company",p["for"]="addCurrentlyWorking_"+a.companyCount,o.appendChild(p);var u=a.companyCount-1;e("#companyDetailsCapture").append(t),e("#addCurrentlyWorkingBtn_"+u).prop("disabled",!0),a.process.experience(a.allJobRole,a.companyCount)}else e.notify("Max 3 Addition Allowed","error")}},"do":{submit:function(t){void 0;try{e.ajax({type:"POST",url:"/updateCandidateDetailViaShortJobApply/",contentType:"application/json; charset=utf-8",data:JSON.stringify(t),success:function(t){void 0,e("#finalSubmitBtn").prop("disabled",!0),3==t.statusCode?(a.render.messageModal("Thanks for applying ! Your will receive interview details in an SMS."),a["do"].hideAllInputFields()):4==t.statusCode?(a.render.messageModal("Looks like you have already applied to this job. Closing this tab.."),a["do"].hideAllInputFields()):(e.notify("Something went wrong. Please re-check submission!","error"),setTimeout(function(){e("#finalSubmitBtn").prop("disabled",!1)},3e3))}})}catch(n){void 0}},interviewIconChange:function(){1==e("#jobInterviewPanel").hasClass("in")?e("#interviewCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):e("#interviewCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")},localityIconChange:function(){1==e("#jobLocalityPanel").hasClass("in")?e("#localityCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):e("#localityCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")},detailsIconChange:function(){1==e("#missingInfo").hasClass("in")?e("#detailsCollapsePanelIcon").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):e("#detailsCollapsePanelIcon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")},validateSubmit:function(){a.missingData.shortPSPopulateResponse.propertyIdList,e(".notifyjs-container").trigger("notify-hide"),void 0;var t,n,i=[],o=!0,l=[],d={},r={};d.candidateId=parseInt(a.candidateId),d.jobPostId=parseInt(a.jobPostId),d.propertyIdList=a.missingData.shortPSPopulateResponse.propertyIdList;var s=e("#jobLocality").val();if(null==s||0==s){o=!1,n="Please select a valid Interview locality.",e.notify(n,"error");var c={propId:11,message:n,submissionStatus:o};i.push(c)}else d.localityId=parseInt(s);var p=e("#interViewSlot").val();if(a.isInterviewSlotAvailable)if(null==p||"0"==p){o=!1,n="Please select a valid Interview Slot.",e.notify(n,"error");var c={propId:12,message:n,submissionStatus:o};i.push(c)}else d.dateInMillis=parseInt(p.split("_")[0]),d.timeSlotId=parseInt(p.split("_")[1]);if(void 0,e.each(a.missingData.shortPSPopulateResponse.propertyIdList,function(d,s){if(n="",o=!0,0==s){var c=[];e("#document_details").each(function(){e(this).find("input[type=checkbox]").each(function(){var t,l={};t=e(this).attr("id").split("_").slice(-1).pop();var d=e("input#idProofCheckbox_"+t).is(":checked"),r=a.validation.input(t,e("input#idProofValue_"+t).val().trim());if(r&&d&&(l.idProofId=parseInt(t),l.idNumber=e("input#idProofValue_"+t).val().trim()),jQuery.isEmptyObject(l)||c.push(l),!o){var p={propId:s,message:n,submissionStatus:o};i.push(p)}})}),r.idProofWithIdNumberList=c}else if(1==s){var p,u=[];e("#language_details input:checked").map(function(){p=0;var e,a=this.id.split("_")[1],t=this.name,n={};for(var i in u)if(u[i].id==a){e=i,p=1;break}0==p?(n.id=a,n.u=0,n.rw=0,n.s=0,"u"==t&&(n.u=1),u.push(n)):"u"==t&&(u[e].u=1)}).get();if(r.candidateKnownLanguageList=u,!o){r.candidateKnownLanguageList=[];var m={propId:s,message:n,submissionStatus:o};i.push(m)}}else if(2==s){var v=[];e("#assets_details input:checked").each(function(){var a=parseInt(e(this).attr("id").split("_").slice(-1).pop());v.push(a)}),r.assetIdList=v}else if(3==s){var h=null,y=null;if("Day"==e("#dob_day").val()&&"Month"==e("#dob_month").val()&&"Year"==e("#dob_year").val()||("Day"==e("#dob_day").val()||"Month"==e("#dob_month").val()||"Year"==e("#dob_year").val()?o=!1:h=e("#dob_year").val()+"-"+e("#dob_month").val()+"-"+e("#dob_day").val()),null==h||""==h);else{y=String(h);var g=new Date(y),C=new Date,f=new Date(C.setFullYear(C.getFullYear()-18));C=new Date;var b=new Date(C.setFullYear(C.getFullYear()-70));C=new Date,g>=f&&(t=0,o=!1),g<=b&&(t=0,o=!1)}if(r.candidateDob=y,n="Please provide valid Date of birth",!o){e.notify(n,"error"),r.candidateDob=null;var m={propId:s,message:n,submissionStatus:o};i.push(m)}}else if(4==s){0==e('input:radio[name="candidateExperience"]:checked').length;var E,x=0,I=0;if("0"==e('input:radio[name="candidateExperience"]:checked').val())E=0;else{""==e("#candidateTotalExperienceMonth").val()&&""==e("#candidateTotalExperienceYear").val()?E=null:(x=e("#candidateTotalExperienceMonth").val(),I=e("#candidateTotalExperienceYear").val(),x=parseInt(""==x?0:x),I=parseInt(""==I?0:I),E=x+12*I);var w=0==e("#candidateTotalExperienceMonth").val()&&0==e("#candidateTotalExperienceYear").val();e("input[id=candidateExp]").is(":checked")&&w&&(n="Please provide your total years of experience",
e.notify(n,"error"),o=!1)}e("input[id=candidateExp]").is(":checked")&&e("#currentlyWorking").is(":checked")&&!e("input[name=addCurrently_Working]").is(":checked")&&(n="Please provide your current company details and mark appropriately.",e.notify(n,"error"),o=!1);var N=1;for(l=[],N;N<=3;N++){var _={};""==e("#companyName_"+N).val()&&e("#workedJobRole_"+N).val()>0&&(n="please provide company name",e.notify("please provide company name","error"),o=!1),""!=e("#companyName_"+N).val()&&e("#workedJobRole_"+N).val()<0&&(n+=" | please provide Job Role",e.notify("please provide Job Role","error"),o=!1),""!=e("#companyName_"+N).val()&&e("#workedJobRole_"+N).val()>0&&(_.companyName=e("#companyName_"+N).val(),_.jobRoleId=e("#workedJobRole_"+N).val(),_.current=e("#addCurrentlyWorking_"+N).is(":checked")),jQuery.isEmptyObject(_)||l.push(_)}if(r.candidateTotalExperience=E,r.pastCompanyList=l,r.candidateIsEmployed=e("#currentlyWorking").is(":checked"),r.extraDetailAvailable=!0,!o){r.candidateTotalExperience=null,r.pastCompanyList=null,r.candidateIsEmployed=null,r.extraDetailAvailable=null;var m={propId:s,message:n,submissionStatus:o};i.push(m)}}else if(5==s){if(r.candidateEducationLevel=e("#candidateHighestEducation").val(),r.candidateDegree=e("#candidateHighestDegree").val(),r.candidateEducationInstitute=e("#candidateEducationInstitute").val(),r.candidateEducationCompletionStatus=parseInt(e('input:radio[name="candidateEducationCompletionStatus"]:checked').val()),("-1"==e("#candidateHighestEducation").val()||e("#candidateHighestEducation").val()>3||null==e('input:radio[name="candidateEducationCompletionStatus"]:checked').val())&&("-1"!=e("#candidateHighestDegree").val()&&""!=e("#candidateEducationInstitute").val()||(r.candidateEducationLevel=null,r.candidateDegree=null,r.candidateEducationInstitute=null,r.candidateEducationCompletionStatus=null)),!o){var m={propId:s,message:n,submissionStatus:o};i.push(m)}}else if(6==s){if(r.candidateGender=e('input:radio[name="gender"]:checked').val(),0==e('input:radio[name="gender"]:checked').length,!o){r.candidateGender=null;var m={propId:s,message:n,submissionStatus:o};i.push(m)}}else if(7==s){var S=e("#candidateLastWithdrawnSalary").val();if(!isNaN(S)&&parseInt(S)>=1e3&&parseInt(S)<=1e5)r.candidateLastWithdrawnSalary=parseInt(e("#candidateLastWithdrawnSalary").val());else if(!o){r.candidateLastWithdrawnSalary=null;var m={propId:s,message:"Please enter a valid 'Last Withdrawn Salary' per month. (Min: 1000, Max: 1,00,000)",submissionStatus:o};i.push(m)}}else if(8==s){var k=e("#candidateHomeLocality").val();if(null==k?r.candidateHomeLocality=null:r.candidateHomeLocality=parseInt(k),!o){var m={propId:s,message:"Please enter a valid Home locality",submissionStatus:o};i.push(m)}}else if(9==s){var D=e("#candidateTimeShiftPref").val();if("-1"==D?r.candidateTimeShiftPref=null:r.candidateTimeShiftPref=e("#candidateTimeShiftPref").val(),!o){var m={propId:s,message:"Please enter a valid time preference",submissionStatus:o};i.push(m)}}}),void 0,0==i.length)return d.updateCandidateDetail=r,this.submit(d),e("#finalSubmitBtn").prop("disabled",!0),setTimeout(function(){e("#finalSubmitBtn").prop("disabled",!1)},7e3),!0},hideAllInputFields:function(){e("#finalSubmitBtn").prop("disabled",!0),a.render.hideContainer()}}};return a.method.init(),a.method.ending(),document.getElementById("finalSubmitBtn").addEventListener("click",function(){a["do"].validateSubmit()}),document.getElementById("jobInterviewHead").addEventListener("click",function(){a["do"].interviewIconChange()}),document.getElementById("jobLocalityHead").addEventListener("click",function(){a["do"].localityIconChange()}),document.getElementById("jobdetailsHead").addEventListener("click",function(){a["do"].detailsIconChange()}),a}(jQuery);