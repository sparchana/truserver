function showField(){$("#mainFieldSearch").removeClass("col-lg-9").addClass("col-lg-5")}!function(e){String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.toTitleCase=function(){return this.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})};var n={D_SEARCH_KEYWORD_IDENTIFIER:"jobs-in-bangalore",D_LOCALITY_IDENTIFIER:"near-",D_LOCATION_ALL_BANGALORE:{}},o={allJobRole:[],allLocation:[],currentURL:null,suggestion:null,bMethods:{init:function(){void 0,o.render.renderTextSearch(),o.render.renderLocation()},getAllJobRole:function(){return 0==o.allJobRole.length?e.ajax({type:"POST",url:"/getAllJobs"}):new Promise(function(e,n){e(null)})},getAllLocation:function(){return 0==o.allLocation.length?e.ajax({type:"POST",url:"/getAllLocality"}):new Promise(function(e,n){e(null)})},getAllLanguage:function(){return 0==o.allLanguage.length?e.ajax({type:"POST",url:"/getAllLanguage"}):new Promise(function(e,n){e(null)})}},render:{renderJobRole:function(){new Promise(function(e,n){o.bMethods.getAllJobRole().then(function(n){null!=n&&n.forEach(function(e){var n=e.jobRoleId,t=e.jobName,a={};a.id=n,a.name=t,o.allJobRole.push(a)}),e()},function(e,o,t){n(t)})})},renderLocation:function(t){if(null!=t)e("#searchLocation").tokenize({displayDropdownOnFocus:!0,placeholder:"Location",newElements:!0,nbDropdownElements:1e3,maxElements:1}).tokenRemove(e("#searchLocation").val()[0]).tokenAdd(t.localityId,t.localityName);else if(0==e("#searchLocation option[value='1']").length){var a=new Promise(function(e,n){o.bMethods.getAllLocation().then(function(n){null!=n&&n.forEach(function(e){o.allLocation.push(e)}),e()},function(e,o,t){n(t)})});a.then(function(){n.D_LOCATION_ALL_BANGALORE={id:"0",name:"All Bangalore"};var t=e('<option value="0"></option>').text("All Bangalore");e("#searchLocation").append(t),o.allLocationArray=[],o.allLocation.forEach(function(n){var a=n.localityId,l=n.localityName;t=e("<option value="+a+"></option>").text(l),e("#searchLocation").append(t);var i={};i.id=a,i.name=l,o.allLocationArray.push(i)}),void 0,e("#searchLocation").tokenize({displayDropdownOnFocus:!0,placeholder:"Location",newElements:!0,nbDropdownElements:1e3,maxElements:1}),e("#searchLocation").tokenize().tokenRemove("0"),e("#searchLocation").tokenize().tokenAdd(n.D_LOCATION_ALL_BANGALORE.id,n.D_LOCATION_ALL_BANGALORE.name)})["catch"](function(e){void 0})}},renderTextSearch:function(){var n=e("#searchText");n.val().split(",");null==o.suggestion&&(o.suggestion=new Awesomplete("input[data-multiple]",{minChars:1,autoFirst:!0,filter:function(e,n){return Awesomplete.FILTER_CONTAINS(e,n.match(/[^,]*$/)[0])},replace:function(e){var n=this.input.value.match(/^.+,\s*|/)[0];this.input.value=n+e+", "}})),e(".awesomplete").css("width","100%"),null==n.val()||n.val().length<3||e.ajax({url:"/ss/?key="+n.val(),type:"GET",dataType:"json"}).success(function(t){var a=[];e.each(t,function(e,o){n.val().toLowerCase().indexOf(o.toLowerCase()+",")>=0||a.push(o)}),o.suggestion.list=a,null!=o.suggestion.list&&0==o.suggestion.list.length})}},"do":{redirectToSearchPage:function(){window.location="/s/"+o.currentURL},fillSearchTextBoxWithKeywords:function(e){var n=e.join(" ")+", ";document.getElementById("searchText").value=n.toTitleCase()},prepNmodifyURL:function(){return o["do"].modifyURL(o["do"].prepareURL())},modifyURL:function(e){return window.history.pushState("object or string","Title","/s/"+e),"/s/"+e},prepareURL:function(){var e=document.getElementById("searchText").value;null==e&&""==e.trim()||(e+="-'"),e+=n.D_SEARCH_KEYWORD_IDENTIFIER,e=e.replace(/[^a-z0-9]+/gi,"-"),e=e.replace(/^(-)+/,"");var o=document.getElementById("searchLocation"),t=o.options[o.selectedIndex];return 0!=o.value&&null!=t&&(e+="_"+n.D_LOCALITY_IDENTIFIER+t.innerHTML.replace(/\s+/g,"-")),(e+"/").toLowerCase()}},run:{validateWorkShift:function(e){return null==e?"":e.timeShiftName?e.timeShiftName:void 0},urlChangeDetector:function(){window.history&&window.history.pushState&&e(window).on("popstate",function(){location.reload()})},basicReset:function(){o.page=1,o.isPaginationEnabled=!1,null==e("#searchLocation").val()&&e("#searchLocation").tokenize({displayDropdownOnFocus:!0,placeholder:"Location",nbDropdownElements:1e3,maxElements:1}).tokenAdd(n.D_LOCATION_ALL_BANGALORE.id,n.D_LOCATION_ALL_BANGALORE.name)}}};document.getElementById("searchBtn").addEventListener("click",function(){o.page=1,o.currentURL=o["do"].prepareURL(),o["do"].redirectToSearchPage()}),o.bMethods.init(),e("#searchText").on("keyup",function(e){e.keyCode>=32&&e.keyCode<=47||13==e.keyCode||o.render.renderTextSearch()})}(jQuery);