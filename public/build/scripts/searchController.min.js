function checkOnFilterChange(){app["do"].updateOnFilterChange()}function getJob(){return app.render.renderJobRole(),app.allJobRole}function getLocality(){return void 0,app.allLocationArray}function openLogin(){$("#signInPopup").html("Sign In"),document.getElementById("resetCheckUserBtn").disabled=!1,document.getElementById("resetNewPasswordBtn").disabled=!1,$("#form_login_candidate").show(),$("#noUserLogin").hide(),$("#incorrectMsgLogin").hide(),$("#form_forgot_password").hide(),$("#errorMsgReset").hide(),$("#form_password_reset_otp").hide(),$("#form_password_reset_new").hide(),$("#noPasswordLogin").hide()}function openSignUp(){$("#myLoginModal").modal("hide")}function showSort(){countSort+=1,1==countSort&&($("#sortMainBox").show(),$("#filterMainBox").hide()),2==countSort&&($("#sortMainBox").hide(),$("#filterMainBox").hide(),countSort=0)}function showFilter(){countFilter+=1,1==countFilter&&($("#sortMainBox").hide(),$("#filterMainBox").show()),2==countFilter&&($("#filterMainBox").hide(),$("#sortMainBox").hide(),countFilter=0)}var app=function(e){"use strict";function n(e){return!e||0===e.length}String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.toTitleCase=function(){return this.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})};var o={D_SEARCH_URL:"jobs-in-bangalore",D_SEARCH_KEYWORD_IDENTIFIER:"jobs-in-bangalore",D_LOCALITY_IDENTIFIER:"near-",D_EDU_IDENTIFIER:"-pass",D_EXP_IDENTIFIER:"-experience",D_JOBS_PER_PAGE:0,D_EDU_ANY:{},D_EXP_ANY:{},D_LOCATION_ALL_BANGALORE:{}},t={urlHistoryArray:[],isUserLoggedIn:!1,shouldDoSearch:!0,allJobRole:[],allLocation:[],allLocationArray:[],allEducation:[],allExperience:[],allLanguage:[],allSalaryOptions:[{id:0,name:" Any"},{id:8,name:" More than 8000"},{id:10,name:" More than 10000"},{id:12,name:" More than 12000"},{id:15,name:" More than 15000"},{id:20,name:" More than 20000"}],suggestion:null,currentURL:window.location.pathname,currentSearchURL:window.location.pathname.split("/")[window.location.pathname.split("/").length-2],currentSearchParams:{},currentFilterParams:{selectedGender:null,selectedSalary:0,selectedLanguageIdList:[]},currentSortParams:{sortBy:5},page:1,isPaginationEnabled:!1,bMethods:{init:function(){void 0,t.page=1,t.currentSearchURL!=o.D_SEARCH_URL&&t["do"].prepareSearchParamFromURL(),t.render.renderTextSearch(),t.render.renderLocation(),t.render.renderEducation(),t.render.renderExperience(),t.render.renderLanguage(),t.render.renderSalaryFilter(),t.run.urlChangeDetector(),t["do"].search(!0,!1),document.getElementById("sortByRelevance").checked=!0},getAllJobRole:function(){return 0==t.allJobRole.length?e.ajax({type:"POST",url:"/getAllJobs"}):new Promise(function(e,n){e(null)})},getAllLocation:function(){return 0==t.allLocation.length?e.ajax({type:"POST",url:"/getAllLocality"}):new Promise(function(e,n){e(null)})},getAllEducation:function(){return 0==t.allEducation.length?e.ajax({type:"POST",url:"/getAllEducation"}):new Promise(function(e,n){e(null)})},getAllExperience:function(){return 0==t.allExperience.length?e.ajax({type:"POST",url:"/getAllExperience"}):new Promise(function(e,n){e(null)})},getAllLanguage:function(){return 0==t.allLanguage.length?e.ajax({type:"POST",url:"/getAllLanguage"}):new Promise(function(e,n){e(null)})}},render:{renderLoaderStart:function(){e("#backgroundLoader").show(),e("#jobLoaderDiv").show()},renderLoaderStop:function(){e("#backgroundLoader").hide(),e("#jobLoaderDiv").hide()},renderJobRole:function(){new Promise(function(e,n){t.bMethods.getAllJobRole().then(function(n){null!=n&&n.forEach(function(e){var n=e.jobRoleId,o=e.jobName,a={};a.id=n,a.name=o,t.allJobRole.push(a)}),e()},function(e,o,t){n(t)})})},renderLocation:function(n){if(null!=n)void 0,e("#searchLocation").tokenize({displayDropdownOnFocus:!0,placeholder:"Location",newElements:!0,nbDropdownElements:1e3,maxElements:1}).tokenRemove(e("#searchLocation").val()[0]).tokenAdd(n.localityId,n.localityName);else if(0==e("#searchLocation option[value='1']").length){var a=new Promise(function(e,n){t.bMethods.getAllLocation().then(function(n){null!=n&&n.forEach(function(e){t.allLocation.push(e)}),e()},function(e,o,t){n(t)})});a.then(function(){void 0,o.D_LOCATION_ALL_BANGALORE={id:"0",name:"All Bangalore"};var n=e('<option value="0"></option>').text("All Bangalore");e("#searchLocation").append(n),t.allLocationArray=[],t.allLocation.forEach(function(o){var a=o.localityId,r=o.localityName;n=e("<option value="+a+"></option>").text(r),e("#searchLocation").append(n);var l={};l.id=a,l.name=r,t.allLocationArray.push(l)}),void 0,e("#searchLocation").tokenize({displayDropdownOnFocus:!0,placeholder:"Location",newElements:!0,nbDropdownElements:1e3,maxElements:1}),e("#searchLocation").tokenize().tokenRemove("0"),e("#searchLocation").tokenize().tokenAdd(o.D_LOCATION_ALL_BANGALORE.id,o.D_LOCATION_ALL_BANGALORE.name)})["catch"](function(e){void 0})}},renderEducation:function(n){if(null!=n)void 0,e("#searchEducation").tokenize({displayDropdownOnFocus:!0,placeholder:"Education",nbDropdownElements:1e3,maxElements:1}).tokenRemove(e("#searchEducation").val()[0]).tokenAdd(n.educationId,n.educationName);else if(0==e("#searchEducation option[value='1']").length){var a=new Promise(function(e,n){t.bMethods.getAllEducation().then(function(n){null!=n&&n.forEach(function(e){t.allEducation.push(e)}),e()},function(e,o,t){n(t)})});a.then(function(){void 0;var n,a={},r=null;t.allEducation.forEach(function(t){var l=t.educationId,i=t.educationName;n=e("<option value="+l+"></option>").text(i),e("#searchEducation").append(n),null==r&&(r=l),"Any"==i&&(void 0,a={id:l,name:i},o.D_EDU_ANY=a)}),e("#searchEducation").tokenize({displayDropdownOnFocus:!0,placeholder:"Education",newElements:!0,nbDropdownElements:1e3,maxElements:1}),e("#searchEducation").tokenize().tokenRemove(r),e("#searchEducation").tokenize().tokenAdd(o.D_EDU_ANY.id,o.D_EDU_ANY.name)})["catch"](function(e){void 0})}},renderExperience:function(n){if(null!=n)e("#searchExperience").tokenize({displayDropdownOnFocus:!0,placeholder:"Experience",nbDropdownElements:1e3,maxElements:1}).tokenRemove(e("#searchExperience").val()[0]).tokenAdd(n.experienceId,n.experienceType);else if(0==e("#searchExperience option[value='1']").length){var a=new Promise(function(e,n){t.bMethods.getAllExperience().then(function(n){null!=n&&n.forEach(function(e){t.allExperience.push(e)}),e()},function(e,o,t){n(t)})});a.then(function(){void 0;var n,a={},r=null;t.allExperience.forEach(function(t){var l=t.experienceId,i=t.experienceType;n=e("<option value="+l+"></option>").text(i),null==r&&(r=l),"Any"==t.experienceType&&(void 0,a={id:l,name:i},o.D_EXP_ANY=a),e("#searchExperience").append(n)}),e("#searchExperience").tokenize({displayDropdownOnFocus:!0,placeholder:"Experience",newElements:!0,nbDropdownElements:1e3,maxElements:1}),e("#searchExperience").tokenize().tokenRemove(r),e("#searchExperience").tokenize().tokenAdd(o.D_EXP_ANY.id,o.D_EXP_ANY.name)})["catch"](function(e){void 0})}},renderLanguage:function(){var n=new Promise(function(e,n){t.bMethods.getAllLanguage().then(function(n){null!=n&&n.forEach(function(e){t.allLanguage.push(e)}),e()},function(e,o,t){n(t)})});n.then(function(){void 0;var n=e("#languageFilterDiv");t.allLanguage.forEach(function(e){var o=document.createElement("div");n.append(o);var t=document.createElement("input");t.type="checkbox",t.onclick=function(){checkOnFilterChange()},t.id="lang_"+e.languageId,t.setAttribute("value",e.languageId),o.appendChild(t);var a=document.createElement("label");a.style="font-size: 14px",a.setAttribute("for","lang_"+e.languageId),a.textContent=e.languageName,o.appendChild(a)})})["catch"](function(e){void 0})},renderSalaryFilter:function(){void 0;var n=e("#salaryFilterDiv");t.allSalaryOptions.forEach(function(e){var o=document.createElement("div");n.append(o);var t=document.createElement("input");t.type="radio",t.name="salaryFilter",t.id="sal_"+e.id,t.setAttribute("value",e.name),o.appendChild(t);var a=document.createElement("label");a.style="font-size: 14px",a.setAttribute("for","sal_"+e.id),a.textContent=e.name,o.appendChild(a)}),document.getElementById("sal_0").checked=!0},renderTextSearch:function(){var n=e("#searchText");n.val().split(",");return null==t.suggestion&&(t.suggestion=new Awesomplete("input[data-multiple]",{minChars:1,autoFirst:!0,filter:function(e,n){return Awesomplete.FILTER_CONTAINS(e,n.match(/[^,]*$/)[0])},replace:function(e){var n=this.input.value.match(/^.+,\s*|/)[0];this.input.value=n+e+", "}}),e(".awesomplete").css("width","100%")),null==n.val()||n.val().length<3?void void 0:void e.ajax({url:"/ss/?key="+n.val(),type:"GET",dataType:"json"}).success(function(o){var a=[];e.each(o,function(e,o){n.val().toLowerCase().indexOf(o.toLowerCase()+",")>=0||a.push(o)}),t.suggestion.list=a,null!=t.suggestion.list&&0==t.suggestion.list.length})}},"do":{fillSearchTextBoxWithKeywords:function(e){var n=e.join(" ")+", ";document.getElementById("searchText").value=n.toTitleCase(),", "==document.getElementById("searchText").value&&(document.getElementById("searchText").value="",document.getElementById("searchText").placeholder="Search Jobs,Company")},search:function(n,o){if(t.render.renderLoaderStart(),!t.shouldDoSearch)return void void 0;void 0,n&&t.run.basicReset(o);var a={searchParamRequest:t.currentSearchParams,filterParamRequest:t.currentFilterParams,sortParamRequest:t.currentSortParams,currentSearchURL:t.currentSearchURL};void 0,e.ajax({type:"POST",url:"/api/search/?page="+t.page,async:!0,contentType:"application/json; charset=utf-8",data:JSON.stringify(a),success:function(e){t["do"].parseSearchResponse(e)},error:function(e,n,o){void 0,t.render.renderLoaderStop()}})},renderHTMLTitle:function(e){t.htmlTitle=e,document.title=t.htmlTitle},prepNmodifyURL:function(){return t["do"].modifyURL(t["do"].prepareURL())},modifyURL:function(e){var n={url:"/s/"+e};return null!=history.state&&n.url===history.state.url||(window.history.pushState(n,"Title","/s/"+e),t.urlHistoryArray.push(n)),"/s/"+e},prepareURL:function(){var e=document.getElementById("searchText").value;null==e&&""==e.trim()||(e+="-'"),e+=o.D_SEARCH_KEYWORD_IDENTIFIER,e=e.replace(/[^a-z0-9]+/gi,"-"),e=e.replace(/^(-)+/,"");var n=document.getElementById("searchLocation"),t=n.options[n.selectedIndex];0!=n.value&&null!=t&&(e+="_"+o.D_LOCALITY_IDENTIFIER+t.innerHTML.replace(/\s+/g,"-"));var a=document.getElementById("searchEducation");t=a.options[a.selectedIndex],0!=a.value&&null!=t&&"any"!=t.innerHTML.toLowerCase()&&(e+="_for-"+t.innerHTML.replace(/[^a-z0-9]+/gi,"-")+o.D_EDU_IDENTIFIER);var r=document.getElementById("searchExperience");return t=r.options[r.selectedIndex],0!=r.value&&null!=t&&"any"!=t.innerHTML.toLowerCase()&&(e+="_for-"+t.innerHTML.replace(/[^a-z0-9]+/gi,"-")+o.D_EXP_IDENTIFIER),(e+"/").toLowerCase()},prepareSearchParamFromURL:function(){try{var e=window.location.pathname.split("/"),a=e[e.length-2];if(t.currentSearchParams={},null!=a){if(t.currentSearchURL=a,a.indexOf(o.D_SEARCH_KEYWORD_IDENTIFIER)<0)return void t["do"].noJobsFound(!0);t["do"].noJobsFound(!1);var r,l=a.split("_");for(r=0;r<l.length;r++)if(!n(l[r])){var i=l[r];i.search(o.D_SEARCH_KEYWORD_IDENTIFIER)!=-1?(i=i.replace(o.D_SEARCH_KEYWORD_IDENTIFIER,""),i=i.trim(),i.length>0&&(i=i.split("-"),t.currentSearchParams.keywordList=i)):i.search(o.D_LOCALITY_IDENTIFIER)!=-1?(i=i.replace(o.D_LOCALITY_IDENTIFIER,""),n(i)||(t.currentSearchParams.locationName=i.replace(/[^a-z0-9]+/gi," ").trim())):i.search(o.D_EDU_IDENTIFIER)!=-1?(i=i.replace(o.D_EDU_IDENTIFIER,""),i=i.replace("for",""),i=i.trim(),n(i)||(t.currentSearchParams.educationText=i.replace(/[^a-z0-9]+/gi," ").trim())):i.search(o.D_EXP_IDENTIFIER)!=-1&&(i=i.replace(o.D_EXP_IDENTIFIER,""),i=i.replace("for",""),n(i)||(t.currentSearchParams.experienceText=i.replace(/[^a-z0-9]+/gi," ").trim()))}}}catch(c){void 0}},noJobsFound:function(n){n?(e("#noJobsDiv").show(),e("#job_cards_inc").hide(),e("#jobCardControl").hide(),t.shouldDoSearch=!1):(e("#noJobsDiv").hide(),e("#job_cards_inc").show(),e("#jobCardControl").show(),t.shouldDoSearch=!0),e("#hotJobs").html(""),t.render.renderLoaderStop()},parseSearchResponse:function(n){if(void 0,null!=n){if(t.isUserLoggedIn=n.isUserLoggedIn,t.isUserLoggedIn?e("#nav_bar_inc").load("/navBarLoggedIn"):e("#nav_bar_inc").load("/navBar"),t.render.renderLocation(n.searchParams.locality),t.render.renderEducation(n.searchParams.education),t.render.renderExperience(n.searchParams.experience),t.mark.selectedLanguageFilter(n.filterParams.languageList),t.mark.selectedGenderFilter(n.filterParams.gender),t["do"].fillSearchTextBoxWithKeywords(n.searchParams.searchKeywords),void 0,n.isURLInvalid)return void t["do"].noJobsFound(!0);t["do"].noJobsFound(!1),n.htmlTitle&&t["do"].renderHTMLTitle(n.htmlTitle);var a=n.results.allJobPost,r=Object.keys(a).length;if(r>0){0==o.D_JOBS_PER_PAGE&&(o.D_JOBS_PER_PAGE=parseInt(n.results.jobsPerPage),void 0);var l=Math.floor(parseInt(n.results.totalJobs)/o.D_JOBS_PER_PAGE),i=parseInt(n.results.totalJobs)%o.D_JOBS_PER_PAGE;i>0&&l++,void 0,t.isPaginationEnabled||t["do"].pagination(l),e("#job_cards_inc").show(),e("#jobCardControl").show(),e("#hotJobs").html("");var c=e("#hotJobs"),s=document.createElement("div");s.id="backgroundLoader",c.append(s),e("#jobLoaderDiv").hide(),e("#noJobsDiv").hide();t.currentSearchURL.capitalizeFirstLetter().replace(/[^a-z0-9]+/gi," ");t["do"].createAndAppendDivider(" Showing "+parseInt(5*(t.page-1)+1)+"-"+parseInt(5*(t.page-1)+parseInt(a.length))+" of "+n.results.totalJobs+" jobs matching your search"),genNewJobCard(a,c)}else e("#job_cards_inc").hide(),e("#jobCardControl").hide(),e("#jobLoaderDiv").hide(),e("#noJobsDiv").show();return t["do"].modifyURL(t["do"].prepareURL())}e(".first").hide(),e(".last").hide(),e(".prev a").html("<<"),e(".next a").html(">>"),t.render.renderLoaderStop()},pagination:function(n){void 0,e("#jobCardControl").twbsPagination("destroy"),e("#jobCardControl").twbsPagination({totalPages:n,visiblePages:5,onPageClick:function(n,o){o>0&&(void 0,t.page=o),t.isPaginationEnabled&&t["do"].search(!1,!0),e(".page-link").click(function(){e("html, body").animate({scrollTop:e("#job_cards_inc").offset().top-100},800)}),e(".first").hide(),e(".last").hide(),e(".prev a").html("<<"),e(".next a").html(">>")}}),t.isPaginationEnabled=!0},createAndAppendDivider:function(n){var o=e("#hotJobs"),t=document.createElement("div");t.id="hotJobItemDivider",t.style="padding:1% 2% 1% 1%",o.append(t);var a=document.createElement("span");a.setAttribute("display","inline-block"),a.textContent=n,t.appendChild(a)},updateOnFilterChange:function(){void 0,t.currentFilterParams.selectedLanguageIdList=[],e("#languageFilterDiv input:checked").each(function(){void 0,t.currentFilterParams.selectedLanguageIdList.push(parseInt(e(this).attr("value")))}),t.currentFilterParams.selectedLanguageIdList.length>0?e("#language_filter").show():e("#language_filter").hide(),t["do"].search(!0,!0)},updateGenderFilter:function(n){e("#gender_filter").show(),t.currentFilterParams.selectedGender=n,void 0,t["do"].search(!0,!0)},updateSalaryFilter:function(n){e("#salary_filter").show(),t.currentFilterParams.selectedSalary=1e3*parseInt(n),void 0,t["do"].search(!0,!0)},updateSortBy:function(e){t.currentSortParams.sortBy=parseInt(e),void 0,t["do"].search(!0,!0)},resetFilters:function(){void 0,e("#gender_filter").hide(),e("#salary_filter").hide(),e("#language_filter").hide(),e("input:checkbox").removeAttr("checked"),e("input:radio").removeAttr("checked"),document.getElementById("sortByRelevance").checked=!0,document.getElementById("sal_0").checked=!0,t.currentFilterParams.selectedGender=null,t.currentFilterParams.selectedLanguageIdList=[],t.currentSortParams.sortBy=5,t["do"].search(!0,!0)}},mark:{selectedLanguageFilter:function(e){null!=e&&0!=e.length&&e.forEach(function(e){document.getElementById("lang_"+e.languageId).checked=!0})},selectedGenderFilter:function(e){null!=e&&2!=e&&(document.getElementById("gender_"+e).checked=!0)}},run:{validateEducation:function(e){return null!=e?e.educationName:"NA"},validateWorkShift:function(e){return null==e?"":e.timeShiftName?e.timeShiftName:void 0},searchValidation:function(){},urlValidation:function(){},urlChangeDetector:function(){window.history&&window.history.pushState&&e(window).on("popstate",function(){t.urlHistoryArray.pop(),void 0,0==t.urlHistoryArray.length?history.back():(t["do"].prepareSearchParamFromURL(),t["do"].search(!1,!1))})},validateGender:function(e){return null==e||2==e?"Any":0==e?"Male":1==e?"Female":""},validateMaxAge:function(e){return null==e?"":e},basicReset:function(n){void 0,n&&e("html, body").animate({scrollTop:e("#job_cards_inc").offset().top-100},800),t.page=1,t.isPaginationEnabled=!1,null==e("#searchLocation").val()&&e("#searchLocation").tokenize({displayDropdownOnFocus:!0,placeholder:"Location",nbDropdownElements:1e3,maxElements:1}).tokenAdd(o.D_LOCATION_ALL_BANGALORE.id,o.D_LOCATION_ALL_BANGALORE.name),null==e("#searchEducation").val()&&e("#searchEducation").tokenize({displayDropdownOnFocus:!0,placeholder:"Education",nbDropdownElements:1e3,maxElements:1}).tokenAdd(o.D_EDU_ANY.id,o.D_EDU_ANY.name),null==e("#searchExperience").val()&&e("#searchExperience").tokenize({displayDropdownOnFocus:!0,placeholder:"Experience",nbDropdownElements:1e3,maxElements:1}).tokenAdd(o.D_EXP_ANY.id,o.D_EXP_ANY.name)}},parse:{createdOnDate:function(e){var n=new Date(e),o=new Date,a=t.parse.daysDiff(n,o);return a>90?" 3 months ago":n.getDate()==o.getUTCDate()?" Today":a+" days ago"},daysDiff:function(e,n){return Math.round((n-e)/864e5)}}};return e("#job_cards_inc").load("/jobPostCardView"),t.bMethods.init(),document.getElementById("resetFilters").addEventListener("click",function(){t["do"].resetFilters()}),document.getElementById("searchBtn").addEventListener("click",function(){t.page=1,t.currentURL=t["do"].prepNmodifyURL(),t["do"].prepareSearchParamFromURL(),t["do"].search(!0,!1)}),document.getElementById("scrollToTop").addEventListener("click",function(){e("body").scrollTop(0)}),e("#searchText").on("keyup",function(e){e.keyCode>=32&&e.keyCode<=47||13==e.keyCode||t.render.renderTextSearch()}),e("input[name=filterGender]:radio").change(function(){t["do"].updateGenderFilter(this.value),void 0}),e("input[name=salaryFilter]:radio").change(function(){t["do"].updateSalaryFilter(this.id.split("_")[1]),void 0}),e("input[name=sortBy]:radio").change(function(){t["do"].updateSortBy(this.value),void 0}),e("#footer_inc").load("/footer"),t}(jQuery),countSort=0,countFilter=0;